(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var h2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H_={exports:{}},cc={},$_={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),f2=Symbol.for("react.portal"),p2=Symbol.for("react.fragment"),m2=Symbol.for("react.strict_mode"),_2=Symbol.for("react.profiler"),g2=Symbol.for("react.provider"),v2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),w2=Symbol.for("react.suspense"),E2=Symbol.for("react.memo"),T2=Symbol.for("react.lazy"),Bp=Symbol.iterator;function P2(e){return e===null||typeof e!="object"?null:(e=Bp&&e[Bp]||e["@@iterator"],typeof e=="function"?e:null)}var W_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z_=Object.assign,G_={};function is(e,t,n){this.props=e,this.context=t,this.refs=G_,this.updater=n||W_}is.prototype.isReactComponent={};is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K_(){}K_.prototype=is.prototype;function Hd(e,t,n){this.props=e,this.context=t,this.refs=G_,this.updater=n||W_}var $d=Hd.prototype=new K_;$d.constructor=Hd;Z_($d,is.prototype);$d.isPureReactComponent=!0;var Up=Array.isArray,Q_=Object.prototype.hasOwnProperty,Wd={current:null},X_={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,n){var i,o={},a=null,u=null;if(t!=null)for(i in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Q_.call(t,i)&&!X_.hasOwnProperty(i)&&(o[i]=t[i]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var f=Array(h),g=0;g<h;g++)f[g]=arguments[g+2];o.children=f}if(e&&e.defaultProps)for(i in h=e.defaultProps,h)o[i]===void 0&&(o[i]=h[i]);return{$$typeof:Qa,type:e,key:a,ref:u,props:o,_owner:Wd.current}}function S2(e,t){return{$$typeof:Qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qa}function I2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jp=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I2(""+e.key):t.toString(36)}function hu(e,t,n,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Qa:case f2:u=!0}}if(u)return u=e,o=o(u),e=i===""?"."+Kc(u,0):i,Up(o)?(n="",e!=null&&(n=e.replace(jp,"$&/")+"/"),hu(o,t,n,"",function(g){return g})):o!=null&&(Zd(o)&&(o=S2(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(jp,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=i===""?".":i+":",Up(e))for(var h=0;h<e.length;h++){a=e[h];var f=i+Kc(a,h);u+=hu(a,t,n,f,o)}else if(f=P2(e),typeof f=="function")for(e=f.call(e),h=0;!(a=e.next()).done;)a=a.value,f=i+Kc(a,h++),u+=hu(a,t,n,f,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function ql(e,t,n){if(e==null)return e;var i=[],o=0;return hu(e,i,"","",function(a){return t.call(n,a,o++)}),i}function C2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},du={transition:null},A2={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:du,ReactCurrentOwner:Wd};function J_(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!Zd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=is;Et.Fragment=p2;Et.Profiler=_2;Et.PureComponent=Hd;Et.StrictMode=m2;Et.Suspense=w2;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2;Et.act=J_;Et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Z_({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=Wd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(f in t)Q_.call(t,f)&&!X_.hasOwnProperty(f)&&(i[f]=t[f]===void 0&&h!==void 0?h[f]:t[f])}var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){h=Array(f);for(var g=0;g<f;g++)h[g]=arguments[g+2];i.children=h}return{$$typeof:Qa,type:e.type,key:o,ref:a,props:i,_owner:u}};Et.createContext=function(e){return e={$$typeof:v2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g2,_context:e},e.Consumer=e};Et.createElement=Y_;Et.createFactory=function(e){var t=Y_.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:y2,render:e}};Et.isValidElement=Zd;Et.lazy=function(e){return{$$typeof:T2,_payload:{_status:-1,_result:e},_init:C2}};Et.memo=function(e,t){return{$$typeof:E2,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=du.transition;du.transition={};try{e()}finally{du.transition=t}};Et.unstable_act=J_;Et.useCallback=function(e,t){return Fe.current.useCallback(e,t)};Et.useContext=function(e){return Fe.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};Et.useEffect=function(e,t){return Fe.current.useEffect(e,t)};Et.useId=function(){return Fe.current.useId()};Et.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};Et.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return Fe.current.useMemo(e,t)};Et.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};Et.useRef=function(e){return Fe.current.useRef(e)};Et.useState=function(e){return Fe.current.useState(e)};Et.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};Et.useTransition=function(){return Fe.current.useTransition()};Et.version="18.3.1";$_.exports=Et;var gt=$_.exports;const kh=d2(gt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2=gt,k2=Symbol.for("react.element"),R2=Symbol.for("react.fragment"),L2=Object.prototype.hasOwnProperty,D2=x2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M2={key:!0,ref:!0,__self:!0,__source:!0};function tg(e,t,n){var i,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)L2.call(t,i)&&!M2.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:k2,type:e,key:a,ref:u,props:o,_owner:D2.current}}cc.Fragment=R2;cc.jsx=tg;cc.jsxs=tg;H_.exports=cc;var et=H_.exports,eg={exports:{}},nn={},ng={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,lt){var K=q.length;q.push(lt);t:for(;0<K;){var ut=K-1>>>1,_t=q[ut];if(0<o(_t,lt))q[ut]=lt,q[K]=_t,K=ut;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var lt=q[0],K=q.pop();if(K!==lt){q[0]=K;t:for(var ut=0,_t=q.length,Tt=_t>>>1;ut<Tt;){var Rt=2*(ut+1)-1,vt=q[Rt],dt=Rt+1,le=q[dt];if(0>o(vt,K))dt<_t&&0>o(le,vt)?(q[ut]=le,q[dt]=K,ut=dt):(q[ut]=vt,q[Rt]=K,ut=Rt);else if(dt<_t&&0>o(le,K))q[ut]=le,q[dt]=K,ut=dt;else break t}}return lt}function o(q,lt){var K=q.sortIndex-lt.sortIndex;return K!==0?K:q.id-lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,T=null,P=3,N=!1,F=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(q){for(var lt=n(g);lt!==null;){if(lt.callback===null)i(g);else if(lt.startTime<=q)i(g),lt.sortIndex=lt.expirationTime,t(f,lt);else break;lt=n(g)}}function j(q){if(z=!1,M(q),!F)if(n(f)!==null)F=!0,ae(X);else{var lt=n(g);lt!==null&&Ne(j,lt.startTime-q)}}function X(q,lt){F=!1,z&&(z=!1,R(E),E=-1),N=!0;var K=P;try{for(M(lt),T=n(f);T!==null&&(!(T.expirationTime>lt)||q&&!D());){var ut=T.callback;if(typeof ut=="function"){T.callback=null,P=T.priorityLevel;var _t=ut(T.expirationTime<=lt);lt=e.unstable_now(),typeof _t=="function"?T.callback=_t:T===n(f)&&i(f),M(lt)}else i(f);T=n(f)}if(T!==null)var Tt=!0;else{var Rt=n(g);Rt!==null&&Ne(j,Rt.startTime-lt),Tt=!1}return Tt}finally{T=null,P=K,N=!1}}var Y=!1,C=null,E=-1,S=5,k=-1;function D(){return!(e.unstable_now()-k<S)}function O(){if(C!==null){var q=e.unstable_now();k=q;var lt=!0;try{lt=C(!0,q)}finally{lt?x():(Y=!1,C=null)}}else Y=!1}var x;if(typeof I=="function")x=function(){I(O)};else if(typeof MessageChannel<"u"){var Qt=new MessageChannel,Zn=Qt.port2;Qt.port1.onmessage=O,x=function(){Zn.postMessage(null)}}else x=function(){$(O,0)};function ae(q){C=q,Y||(Y=!0,x())}function Ne(q,lt){E=$(function(){q(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){F||N||(F=!0,ae(X))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(q){switch(P){case 1:case 2:case 3:var lt=3;break;default:lt=P}var K=P;P=lt;try{return q()}finally{P=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,lt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=P;P=q;try{return lt()}finally{P=K}},e.unstable_scheduleCallback=function(q,lt,K){var ut=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ut+K:ut):K=ut,q){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=K+_t,q={id:y++,callback:lt,priorityLevel:q,startTime:K,expirationTime:_t,sortIndex:-1},K>ut?(q.sortIndex=K,t(g,q),n(f)===null&&q===n(g)&&(z?(R(E),E=-1):z=!0,Ne(j,K-ut))):(q.sortIndex=_t,t(f,q),F||N||(F=!0,ae(X))),q},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(q){var lt=P;return function(){var K=P;P=lt;try{return q.apply(this,arguments)}finally{P=K}}}})(ig);ng.exports=ig;var N2=ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2=gt,en=N2;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rg=new Set,Pa={};function br(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(Pa[e]=t,e=0;e<t.length;e++)rg.add(t[e])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=Object.prototype.hasOwnProperty,V2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qp={},Hp={};function b2(e){return Rh.call(Hp,e)?!0:Rh.call(qp,e)?!1:V2.test(e)?Hp[e]=!0:(qp[e]=!0,!1)}function z2(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F2(e,t,n,i){if(t===null||typeof t>"u"||z2(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,i,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gd=/[\-:]([a-z])/g;function Kd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gd,Kd);Ie[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gd,Kd);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gd,Kd);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qd(e,t,n,i){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F2(t,n,o,i)&&(n=null),i||o===null?b2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var yi=O2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),Po=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),sg=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),ag=Symbol.for("react.offscreen"),$p=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=$p&&e[$p]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,Qc;function ia(e){if(Qc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qc=t&&t[1]||""}return`
`+Qc+e}var Xc=!1;function Yc(e,t){if(!e||Xc)return"";Xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var i=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){i=g}e.call(t.prototype)}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),a=i.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var f=`
`+o[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=h);break}}}finally{Xc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ia(e):""}function B2(e){switch(e.tag){case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return e=Yc(e.type,!1),e;case 11:return e=Yc(e.type.render,!1),e;case 1:return e=Yc(e.type,!0),e;default:return""}}function Nh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case So:return"Fragment";case Po:return"Portal";case Lh:return"Profiler";case Xd:return"StrictMode";case Dh:return"Suspense";case Mh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sg:return(e.displayName||"Context")+".Consumer";case og:return(e._context.displayName||"Context")+".Provider";case Yd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:Nh(e.type)||"Memo";case Di:t=e._payload,e=e._init;try{return Nh(e(t))}catch{}}return null}function U2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(t);case 8:return t===Xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function j2(e){var t=lg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){e._valueTracker||(e._valueTracker=j2(e))}function ug(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=lg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oh(e,t){var n=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wp(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Xi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cg(e,t){t=t.checked,t!=null&&Qd(e,"checked",t,!1)}function Vh(e,t){cg(e,t);var n=Xi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bh(e,t.type,n):t.hasOwnProperty("defaultValue")&&bh(e,t.type,Xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bh(e,t,n){(t!=="number"||xu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ra=Array.isArray;function Oo(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Xi(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(ra(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xi(n)}}function hg(e,t){var n=Xi(t.value),i=Xi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Kp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,fg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q2=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(e){q2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ca[t]=ca[e]})});function pg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ca.hasOwnProperty(e)&&ca[e]?(""+t).trim():t+"px"}function mg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=pg(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var H2=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(e,t){if(t){if(H2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Uh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function tf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qh=null,Vo=null,bo=null;function Qp(e){if(e=Ja(e)){if(typeof qh!="function")throw Error(G(280));var t=e.stateNode;t&&(t=mc(t),qh(e.stateNode,e.type,t))}}function _g(e){Vo?bo?bo.push(e):bo=[e]:Vo=e}function gg(){if(Vo){var e=Vo,t=bo;if(bo=Vo=null,Qp(e),t)for(e=0;e<t.length;e++)Qp(t[e])}}function vg(e,t){return e(t)}function yg(){}var Jc=!1;function wg(e,t,n){if(Jc)return e(t,n);Jc=!0;try{return vg(e,t,n)}finally{Jc=!1,(Vo!==null||bo!==null)&&(yg(),gg())}}function Ia(e,t){var n=e.stateNode;if(n===null)return null;var i=mc(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Hh=!1;if(di)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Hh=!1}function $2(e,t,n,i,o,a,u,h,f){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(y){this.onError(y)}}var ha=!1,ku=null,Ru=!1,$h=null,W2={onError:function(e){ha=!0,ku=e}};function Z2(e,t,n,i,o,a,u,h,f){ha=!1,ku=null,$2.apply(W2,arguments)}function G2(e,t,n,i,o,a,u,h,f){if(Z2.apply(this,arguments),ha){if(ha){var g=ku;ha=!1,ku=null}else throw Error(G(198));Ru||(Ru=!0,$h=g)}}function zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xp(e){if(zr(e)!==e)throw Error(G(188))}function K2(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Xp(o),e;if(a===i)return Xp(o),t;a=a.sibling}throw Error(G(188))}if(n.return!==i.return)n=o,i=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,i=a;break}if(h===i){u=!0,i=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,i=o;break}if(h===i){u=!0,i=a,n=o;break}h=h.sibling}if(!u)throw Error(G(189))}}if(n.alternate!==i)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Tg(e){return e=K2(e),e!==null?Pg(e):null}function Pg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pg(e);if(t!==null)return t;e=e.sibling}return null}var Sg=en.unstable_scheduleCallback,Yp=en.unstable_cancelCallback,Q2=en.unstable_shouldYield,X2=en.unstable_requestPaint,ee=en.unstable_now,Y2=en.unstable_getCurrentPriorityLevel,ef=en.unstable_ImmediatePriority,Ig=en.unstable_UserBlockingPriority,Lu=en.unstable_NormalPriority,J2=en.unstable_LowPriority,Cg=en.unstable_IdlePriority,hc=null,Un=null;function t1(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(hc,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:i1,e1=Math.log,n1=Math.LN2;function i1(e){return e>>>=0,e===0?32:31-(e1(e)/n1|0)|0}var Zl=64,Gl=4194304;function oa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Du(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?i=oa(h):(a&=u,a!==0&&(i=oa(a)))}else u=n&~o,u!==0?i=oa(u):a!==0&&(i=oa(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Rn(t),o=1<<n,i|=e[n],t&=~o;return i}function r1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Rn(a),h=1<<u,f=o[u];f===-1?(!(h&n)||h&i)&&(o[u]=r1(h,t)):f<=t&&(e.expiredLanes|=h),a&=~h}}function Wh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ag(){var e=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),e}function th(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rn(t),e[t]=n}function s1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Rn(n),a=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~a}}function nf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Rn(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Dt=0;function xg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kg,rf,Rg,Lg,Dg,Zh=!1,Kl=[],Fi=null,Bi=null,Ui=null,Ca=new Map,Aa=new Map,Ni=[],a1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(t.pointerId)}}function Qs(e,t,n,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Ja(t),t!==null&&rf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function l1(e,t,n,i,o){switch(t){case"focusin":return Fi=Qs(Fi,e,t,n,i,o),!0;case"dragenter":return Bi=Qs(Bi,e,t,n,i,o),!0;case"mouseover":return Ui=Qs(Ui,e,t,n,i,o),!0;case"pointerover":var a=o.pointerId;return Ca.set(a,Qs(Ca.get(a)||null,e,t,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,Aa.set(a,Qs(Aa.get(a)||null,e,t,n,i,o)),!0}return!1}function Mg(e){var t=Tr(e.target);if(t!==null){var n=zr(t);if(n!==null){if(t=n.tag,t===13){if(t=Eg(n),t!==null){e.blockedOn=t,Dg(e.priority,function(){Rg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);jh=i,n.target.dispatchEvent(i),jh=null}else return t=Ja(n),t!==null&&rf(t),e.blockedOn=n,!1;t.shift()}return!0}function tm(e,t,n){fu(e)&&n.delete(t)}function u1(){Zh=!1,Fi!==null&&fu(Fi)&&(Fi=null),Bi!==null&&fu(Bi)&&(Bi=null),Ui!==null&&fu(Ui)&&(Ui=null),Ca.forEach(tm),Aa.forEach(tm)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Zh||(Zh=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,u1)))}function xa(e){function t(o){return Xs(o,e)}if(0<Kl.length){Xs(Kl[0],e);for(var n=1;n<Kl.length;n++){var i=Kl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Fi!==null&&Xs(Fi,e),Bi!==null&&Xs(Bi,e),Ui!==null&&Xs(Ui,e),Ca.forEach(t),Aa.forEach(t),n=0;n<Ni.length;n++)i=Ni[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)Mg(n),n.blockedOn===null&&Ni.shift()}var zo=yi.ReactCurrentBatchConfig,Mu=!0;function c1(e,t,n,i){var o=Dt,a=zo.transition;zo.transition=null;try{Dt=1,of(e,t,n,i)}finally{Dt=o,zo.transition=a}}function h1(e,t,n,i){var o=Dt,a=zo.transition;zo.transition=null;try{Dt=4,of(e,t,n,i)}finally{Dt=o,zo.transition=a}}function of(e,t,n,i){if(Mu){var o=Gh(e,t,n,i);if(o===null)ch(e,t,i,Nu,n),Jp(e,i);else if(l1(o,e,t,n,i))i.stopPropagation();else if(Jp(e,i),t&4&&-1<a1.indexOf(e)){for(;o!==null;){var a=Ja(o);if(a!==null&&kg(a),a=Gh(e,t,n,i),a===null&&ch(e,t,i,Nu,n),a===o)break;o=a}o!==null&&i.stopPropagation()}else ch(e,t,i,null,n)}}var Nu=null;function Gh(e,t,n,i){if(Nu=null,e=tf(i),e=Tr(e),e!==null)if(t=zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nu=e,null}function Ng(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y2()){case ef:return 1;case Ig:return 4;case Lu:case J2:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var Vi=null,sf=null,pu=null;function Og(){if(pu)return pu;var e,t=sf,n=t.length,i,o="value"in Vi?Vi.value:Vi.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(i=1;i<=u&&t[n-i]===o[a-i];i++);return pu=o.slice(e,1<i?1-i:void 0)}function mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function em(){return!1}function rn(e){function t(n,i,o,a,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ql:em,this.isPropagationStopped=em,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),t}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=rn(rs),Ya=Gt({},rs,{view:0,detail:0}),d1=rn(Ya),eh,nh,Ys,dc=Gt({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(eh=e.screenX-Ys.screenX,nh=e.screenY-Ys.screenY):nh=eh=0,Ys=e),eh)},movementY:function(e){return"movementY"in e?e.movementY:nh}}),nm=rn(dc),f1=Gt({},dc,{dataTransfer:0}),p1=rn(f1),m1=Gt({},Ya,{relatedTarget:0}),ih=rn(m1),_1=Gt({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=rn(_1),v1=Gt({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=rn(v1),w1=Gt({},rs,{data:0}),im=rn(w1),E1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P1[e])?!!t[e]:!1}function lf(){return S1}var I1=Gt({},Ya,{key:function(e){if(e.key){var t=E1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(e){return e.type==="keypress"?mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C1=rn(I1),A1=Gt({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=rn(A1),x1=Gt({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),k1=rn(x1),R1=Gt({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),L1=rn(R1),D1=Gt({},dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=rn(D1),N1=[9,13,27,32],uf=di&&"CompositionEvent"in window,da=null;di&&"documentMode"in document&&(da=document.documentMode);var O1=di&&"TextEvent"in window&&!da,Vg=di&&(!uf||da&&8<da&&11>=da),om=" ",sm=!1;function bg(e,t){switch(e){case"keyup":return N1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function V1(e,t){switch(e){case"compositionend":return zg(t);case"keypress":return t.which!==32?null:(sm=!0,om);case"textInput":return e=t.data,e===om&&sm?null:e;default:return null}}function b1(e,t){if(Io)return e==="compositionend"||!uf&&bg(e,t)?(e=Og(),pu=sf=Vi=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vg&&t.locale!=="ko"?null:t.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z1[e.type]:t==="textarea"}function Fg(e,t,n,i){_g(i),t=Ou(t,"onChange"),0<t.length&&(n=new af("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var fa=null,ka=null;function F1(e){Qg(e,0)}function fc(e){var t=xo(e);if(ug(t))return e}function B1(e,t){if(e==="change")return t}var Bg=!1;if(di){var rh;if(di){var oh="oninput"in document;if(!oh){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),oh=typeof lm.oninput=="function"}rh=oh}else rh=!1;Bg=rh&&(!document.documentMode||9<document.documentMode)}function um(){fa&&(fa.detachEvent("onpropertychange",Ug),ka=fa=null)}function Ug(e){if(e.propertyName==="value"&&fc(ka)){var t=[];Fg(t,ka,e,tf(e)),wg(F1,t)}}function U1(e,t,n){e==="focusin"?(um(),fa=t,ka=n,fa.attachEvent("onpropertychange",Ug)):e==="focusout"&&um()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fc(ka)}function q1(e,t){if(e==="click")return fc(t)}function H1(e,t){if(e==="input"||e==="change")return fc(t)}function $1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:$1;function Ra(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Rh.call(t,o)||!Dn(e[o],t[o]))return!1}return!0}function cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hm(e,t){var n=cm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cm(n)}}function jg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qg(){for(var e=window,t=xu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xu(e.document)}return t}function cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W1(e){var t=qg(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jg(n.ownerDocument.documentElement,n)){if(i!==null&&cf(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=hm(n,a);var u=hm(n,i);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z1=di&&"documentMode"in document&&11>=document.documentMode,Co=null,Kh=null,pa=null,Qh=!1;function dm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qh||Co==null||Co!==xu(i)||(i=Co,"selectionStart"in i&&cf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pa&&Ra(pa,i)||(pa=i,i=Ou(Kh,"onSelect"),0<i.length&&(t=new af("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Co)))}function Xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ao={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},sh={},Hg={};di&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function pc(e){if(sh[e])return sh[e];if(!Ao[e])return e;var t=Ao[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hg)return sh[e]=t[n];return e}var $g=pc("animationend"),Wg=pc("animationiteration"),Zg=pc("animationstart"),Gg=pc("transitionend"),Kg=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){Kg.set(e,t),br(t,[e])}for(var ah=0;ah<fm.length;ah++){var lh=fm[ah],G1=lh.toLowerCase(),K1=lh[0].toUpperCase()+lh.slice(1);nr(G1,"on"+K1)}nr($g,"onAnimationEnd");nr(Wg,"onAnimationIteration");nr(Zg,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(Gg,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function pm(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,G2(i,t,void 0,e),e.currentTarget=null}function Qg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var u=i.length-1;0<=u;u--){var h=i[u],f=h.instance,g=h.currentTarget;if(h=h.listener,f!==a&&o.isPropagationStopped())break t;pm(o,h,g),a=f}else for(u=0;u<i.length;u++){if(h=i[u],f=h.instance,g=h.currentTarget,h=h.listener,f!==a&&o.isPropagationStopped())break t;pm(o,h,g),a=f}}}if(Ru)throw e=$h,Ru=!1,$h=null,e}function zt(e,t){var n=t[ed];n===void 0&&(n=t[ed]=new Set);var i=e+"__bubble";n.has(i)||(Xg(t,e,2,!1),n.add(i))}function uh(e,t,n){var i=0;t&&(i|=4),Xg(n,e,i,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function La(e){if(!e[Yl]){e[Yl]=!0,rg.forEach(function(n){n!=="selectionchange"&&(Q1.has(n)||uh(n,!1,e),uh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,uh("selectionchange",!1,t))}}function Xg(e,t,n,i){switch(Ng(t)){case 1:var o=c1;break;case 4:o=h1;break;default:o=of}n=o.bind(null,t,n,e),o=void 0,!Hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ch(e,t,n,i,o){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var h=i.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=i.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Tr(h),u===null)return;if(f=u.tag,f===5||f===6){i=a=u;continue t}h=h.parentNode}}i=i.return}wg(function(){var g=a,y=tf(n),T=[];t:{var P=Kg.get(e);if(P!==void 0){var N=af,F=e;switch(e){case"keypress":if(mu(n)===0)break t;case"keydown":case"keyup":N=C1;break;case"focusin":F="focus",N=ih;break;case"focusout":F="blur",N=ih;break;case"beforeblur":case"afterblur":N=ih;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=p1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=k1;break;case $g:case Wg:case Zg:N=g1;break;case Gg:N=L1;break;case"scroll":N=d1;break;case"wheel":N=M1;break;case"copy":case"cut":case"paste":N=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=rm}var z=(t&4)!==0,$=!z&&e==="scroll",R=z?P!==null?P+"Capture":null:P;z=[];for(var I=g,M;I!==null;){M=I;var j=M.stateNode;if(M.tag===5&&j!==null&&(M=j,R!==null&&(j=Ia(I,R),j!=null&&z.push(Da(I,j,M)))),$)break;I=I.return}0<z.length&&(P=new N(P,F,null,n,y),T.push({event:P,listeners:z}))}}if(!(t&7)){t:{if(P=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",P&&n!==jh&&(F=n.relatedTarget||n.fromElement)&&(Tr(F)||F[fi]))break t;if((N||P)&&(P=y.window===y?y:(P=y.ownerDocument)?P.defaultView||P.parentWindow:window,N?(F=n.relatedTarget||n.toElement,N=g,F=F?Tr(F):null,F!==null&&($=zr(F),F!==$||F.tag!==5&&F.tag!==6)&&(F=null)):(N=null,F=g),N!==F)){if(z=nm,j="onMouseLeave",R="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(z=rm,j="onPointerLeave",R="onPointerEnter",I="pointer"),$=N==null?P:xo(N),M=F==null?P:xo(F),P=new z(j,I+"leave",N,n,y),P.target=$,P.relatedTarget=M,j=null,Tr(y)===g&&(z=new z(R,I+"enter",F,n,y),z.target=M,z.relatedTarget=$,j=z),$=j,N&&F)e:{for(z=N,R=F,I=0,M=z;M;M=yo(M))I++;for(M=0,j=R;j;j=yo(j))M++;for(;0<I-M;)z=yo(z),I--;for(;0<M-I;)R=yo(R),M--;for(;I--;){if(z===R||R!==null&&z===R.alternate)break e;z=yo(z),R=yo(R)}z=null}else z=null;N!==null&&mm(T,P,N,z,!1),F!==null&&$!==null&&mm(T,$,F,z,!0)}}t:{if(P=g?xo(g):window,N=P.nodeName&&P.nodeName.toLowerCase(),N==="select"||N==="input"&&P.type==="file")var X=B1;else if(am(P))if(Bg)X=H1;else{X=j1;var Y=U1}else(N=P.nodeName)&&N.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(X=q1);if(X&&(X=X(e,g))){Fg(T,X,n,y);break t}Y&&Y(e,P,g),e==="focusout"&&(Y=P._wrapperState)&&Y.controlled&&P.type==="number"&&bh(P,"number",P.value)}switch(Y=g?xo(g):window,e){case"focusin":(am(Y)||Y.contentEditable==="true")&&(Co=Y,Kh=g,pa=null);break;case"focusout":pa=Kh=Co=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,dm(T,n,y);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":dm(T,n,y)}var C;if(uf)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else Io?bg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Vg&&n.locale!=="ko"&&(Io||E!=="onCompositionStart"?E==="onCompositionEnd"&&Io&&(C=Og()):(Vi=y,sf="value"in Vi?Vi.value:Vi.textContent,Io=!0)),Y=Ou(g,E),0<Y.length&&(E=new im(E,e,null,n,y),T.push({event:E,listeners:Y}),C?E.data=C:(C=zg(n),C!==null&&(E.data=C)))),(C=O1?V1(e,n):b1(e,n))&&(g=Ou(g,"onBeforeInput"),0<g.length&&(y=new im("onBeforeInput","beforeinput",null,n,y),T.push({event:y,listeners:g}),y.data=C))}Qg(T,t)})}function Da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ou(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Ia(e,n),a!=null&&i.unshift(Da(e,a,o)),a=Ia(e,t),a!=null&&i.push(Da(e,a,o))),e=e.return}return i}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mm(e,t,n,i,o){for(var a=t._reactName,u=[];n!==null&&n!==i;){var h=n,f=h.alternate,g=h.stateNode;if(f!==null&&f===i)break;h.tag===5&&g!==null&&(h=g,o?(f=Ia(n,a),f!=null&&u.unshift(Da(n,f,h))):o||(f=Ia(n,a),f!=null&&u.push(Da(n,f,h)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var X1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function _m(e){return(typeof e=="string"?e:""+e).replace(X1,`
`).replace(Y1,"")}function Jl(e,t,n){if(t=_m(t),_m(e)!==t&&n)throw Error(G(425))}function Vu(){}var Xh=null,Yh=null;function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,t3=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(e3)}:td;function e3(e){setTimeout(function(){throw e})}function hh(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),xa(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);xa(t)}function ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),Bn="__reactFiber$"+os,Ma="__reactProps$"+os,fi="__reactContainer$"+os,ed="__reactEvents$"+os,n3="__reactListeners$"+os,i3="__reactHandles$"+os;function Tr(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[Bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vm(e);e!==null;){if(n=e[Bn])return n;e=vm(e)}return t}e=n,n=e.parentNode}return null}function Ja(e){return e=e[Bn]||e[fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function mc(e){return e[Ma]||null}var nd=[],ko=-1;function ir(e){return{current:e}}function Ft(e){0>ko||(e.current=nd[ko],nd[ko]=null,ko--)}function bt(e,t){ko++,nd[ko]=e.current,e.current=t}var Yi={},Me=ir(Yi),$e=ir(!1),kr=Yi;function Ho(e,t){var n=e.type.contextTypes;if(!n)return Yi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function We(e){return e=e.childContextTypes,e!=null}function bu(){Ft($e),Ft(Me)}function ym(e,t,n){if(Me.current!==Yi)throw Error(G(168));bt(Me,t),bt($e,n)}function Yg(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(G(108,U2(e)||"Unknown",o));return Gt({},n,i)}function zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yi,kr=Me.current,bt(Me,e),bt($e,$e.current),!0}function wm(e,t,n){var i=e.stateNode;if(!i)throw Error(G(169));n?(e=Yg(e,t,kr),i.__reactInternalMemoizedMergedChildContext=e,Ft($e),Ft(Me),bt(Me,e)):Ft($e),bt($e,n)}var ai=null,_c=!1,dh=!1;function Jg(e){ai===null?ai=[e]:ai.push(e)}function r3(e){_c=!0,Jg(e)}function rr(){if(!dh&&ai!==null){dh=!0;var e=0,t=Dt;try{var n=ai;for(Dt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ai=null,_c=!1}catch(o){throw ai!==null&&(ai=ai.slice(e+1)),Sg(ef,rr),o}finally{Dt=t,dh=!1}}return null}var Ro=[],Lo=0,Fu=null,Bu=0,dn=[],fn=0,Rr=null,li=1,ui="";function yr(e,t){Ro[Lo++]=Bu,Ro[Lo++]=Fu,Fu=e,Bu=t}function tv(e,t,n){dn[fn++]=li,dn[fn++]=ui,dn[fn++]=Rr,Rr=e;var i=li;e=ui;var o=32-Rn(i)-1;i&=~(1<<o),n+=1;var a=32-Rn(t)+o;if(30<a){var u=o-o%5;a=(i&(1<<u)-1).toString(32),i>>=u,o-=u,li=1<<32-Rn(t)+o|n<<o|i,ui=a+e}else li=1<<a|n<<o|i,ui=e}function hf(e){e.return!==null&&(yr(e,1),tv(e,1,0))}function df(e){for(;e===Fu;)Fu=Ro[--Lo],Ro[Lo]=null,Bu=Ro[--Lo],Ro[Lo]=null;for(;e===Rr;)Rr=dn[--fn],dn[fn]=null,ui=dn[--fn],dn[fn]=null,li=dn[--fn],dn[fn]=null}var tn=null,Je=null,jt=!1,xn=null;function ev(e,t){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Em(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Je=ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:li,overflow:ui}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,Je=null,!0):!1;default:return!1}}function id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rd(e){if(jt){var t=Je;if(t){var n=t;if(!Em(e,t)){if(id(e))throw Error(G(418));t=ji(n.nextSibling);var i=tn;t&&Em(e,t)?ev(i,n):(e.flags=e.flags&-4097|2,jt=!1,tn=e)}}else{if(id(e))throw Error(G(418));e.flags=e.flags&-4097|2,jt=!1,tn=e}}}function Tm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function tu(e){if(e!==tn)return!1;if(!jt)return Tm(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jh(e.type,e.memoizedProps)),t&&(t=Je)){if(id(e))throw nv(),Error(G(418));for(;t;)ev(e,t),t=ji(t.nextSibling)}if(Tm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=ji(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=tn?ji(e.stateNode.nextSibling):null;return!0}function nv(){for(var e=Je;e;)e=ji(e.nextSibling)}function $o(){Je=tn=null,jt=!1}function ff(e){xn===null?xn=[e]:xn.push(e)}var o3=yi.ReactCurrentBatchConfig;function Js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var i=n.stateNode}if(!i)throw Error(G(147,e));var o=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function eu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pm(e){var t=e._init;return t(e._payload)}function iv(e){function t(R,I){if(e){var M=R.deletions;M===null?(R.deletions=[I],R.flags|=16):M.push(I)}}function n(R,I){if(!e)return null;for(;I!==null;)t(R,I),I=I.sibling;return null}function i(R,I){for(R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function o(R,I){return R=Wi(R,I),R.index=0,R.sibling=null,R}function a(R,I,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<I?(R.flags|=2,I):M):(R.flags|=2,I)):(R.flags|=1048576,I)}function u(R){return e&&R.alternate===null&&(R.flags|=2),R}function h(R,I,M,j){return I===null||I.tag!==6?(I=yh(M,R.mode,j),I.return=R,I):(I=o(I,M),I.return=R,I)}function f(R,I,M,j){var X=M.type;return X===So?y(R,I,M.props.children,j,M.key):I!==null&&(I.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Di&&Pm(X)===I.type)?(j=o(I,M.props),j.ref=Js(R,I,M),j.return=R,j):(j=Tu(M.type,M.key,M.props,null,R.mode,j),j.ref=Js(R,I,M),j.return=R,j)}function g(R,I,M,j){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=wh(M,R.mode,j),I.return=R,I):(I=o(I,M.children||[]),I.return=R,I)}function y(R,I,M,j,X){return I===null||I.tag!==7?(I=Ar(M,R.mode,j,X),I.return=R,I):(I=o(I,M),I.return=R,I)}function T(R,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return I=yh(""+I,R.mode,M),I.return=R,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Hl:return M=Tu(I.type,I.key,I.props,null,R.mode,M),M.ref=Js(R,null,I),M.return=R,M;case Po:return I=wh(I,R.mode,M),I.return=R,I;case Di:var j=I._init;return T(R,j(I._payload),M)}if(ra(I)||Gs(I))return I=Ar(I,R.mode,M,null),I.return=R,I;eu(R,I)}return null}function P(R,I,M,j){var X=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return X!==null?null:h(R,I,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Hl:return M.key===X?f(R,I,M,j):null;case Po:return M.key===X?g(R,I,M,j):null;case Di:return X=M._init,P(R,I,X(M._payload),j)}if(ra(M)||Gs(M))return X!==null?null:y(R,I,M,j,null);eu(R,M)}return null}function N(R,I,M,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return R=R.get(M)||null,h(I,R,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Hl:return R=R.get(j.key===null?M:j.key)||null,f(I,R,j,X);case Po:return R=R.get(j.key===null?M:j.key)||null,g(I,R,j,X);case Di:var Y=j._init;return N(R,I,M,Y(j._payload),X)}if(ra(j)||Gs(j))return R=R.get(M)||null,y(I,R,j,X,null);eu(I,j)}return null}function F(R,I,M,j){for(var X=null,Y=null,C=I,E=I=0,S=null;C!==null&&E<M.length;E++){C.index>E?(S=C,C=null):S=C.sibling;var k=P(R,C,M[E],j);if(k===null){C===null&&(C=S);break}e&&C&&k.alternate===null&&t(R,C),I=a(k,I,E),Y===null?X=k:Y.sibling=k,Y=k,C=S}if(E===M.length)return n(R,C),jt&&yr(R,E),X;if(C===null){for(;E<M.length;E++)C=T(R,M[E],j),C!==null&&(I=a(C,I,E),Y===null?X=C:Y.sibling=C,Y=C);return jt&&yr(R,E),X}for(C=i(R,C);E<M.length;E++)S=N(C,R,E,M[E],j),S!==null&&(e&&S.alternate!==null&&C.delete(S.key===null?E:S.key),I=a(S,I,E),Y===null?X=S:Y.sibling=S,Y=S);return e&&C.forEach(function(D){return t(R,D)}),jt&&yr(R,E),X}function z(R,I,M,j){var X=Gs(M);if(typeof X!="function")throw Error(G(150));if(M=X.call(M),M==null)throw Error(G(151));for(var Y=X=null,C=I,E=I=0,S=null,k=M.next();C!==null&&!k.done;E++,k=M.next()){C.index>E?(S=C,C=null):S=C.sibling;var D=P(R,C,k.value,j);if(D===null){C===null&&(C=S);break}e&&C&&D.alternate===null&&t(R,C),I=a(D,I,E),Y===null?X=D:Y.sibling=D,Y=D,C=S}if(k.done)return n(R,C),jt&&yr(R,E),X;if(C===null){for(;!k.done;E++,k=M.next())k=T(R,k.value,j),k!==null&&(I=a(k,I,E),Y===null?X=k:Y.sibling=k,Y=k);return jt&&yr(R,E),X}for(C=i(R,C);!k.done;E++,k=M.next())k=N(C,R,E,k.value,j),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?E:k.key),I=a(k,I,E),Y===null?X=k:Y.sibling=k,Y=k);return e&&C.forEach(function(O){return t(R,O)}),jt&&yr(R,E),X}function $(R,I,M,j){if(typeof M=="object"&&M!==null&&M.type===So&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Hl:t:{for(var X=M.key,Y=I;Y!==null;){if(Y.key===X){if(X=M.type,X===So){if(Y.tag===7){n(R,Y.sibling),I=o(Y,M.props.children),I.return=R,R=I;break t}}else if(Y.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Di&&Pm(X)===Y.type){n(R,Y.sibling),I=o(Y,M.props),I.ref=Js(R,Y,M),I.return=R,R=I;break t}n(R,Y);break}else t(R,Y);Y=Y.sibling}M.type===So?(I=Ar(M.props.children,R.mode,j,M.key),I.return=R,R=I):(j=Tu(M.type,M.key,M.props,null,R.mode,j),j.ref=Js(R,I,M),j.return=R,R=j)}return u(R);case Po:t:{for(Y=M.key;I!==null;){if(I.key===Y)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){n(R,I.sibling),I=o(I,M.children||[]),I.return=R,R=I;break t}else{n(R,I);break}else t(R,I);I=I.sibling}I=wh(M,R.mode,j),I.return=R,R=I}return u(R);case Di:return Y=M._init,$(R,I,Y(M._payload),j)}if(ra(M))return F(R,I,M,j);if(Gs(M))return z(R,I,M,j);eu(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,I!==null&&I.tag===6?(n(R,I.sibling),I=o(I,M),I.return=R,R=I):(n(R,I),I=yh(M,R.mode,j),I.return=R,R=I),u(R)):n(R,I)}return $}var Wo=iv(!0),rv=iv(!1),Uu=ir(null),ju=null,Do=null,pf=null;function mf(){pf=Do=ju=null}function _f(e){var t=Uu.current;Ft(Uu),e._currentValue=t}function od(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){ju=e,pf=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(pf!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(ju===null)throw Error(G(308));Do=e,ju.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var Pr=null;function gf(e){Pr===null?Pr=[e]:Pr.push(e)}function ov(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,gf(t)):(n.next=o.next,o.next=n),t.interleaved=n,pi(e,i)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,xt&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,pi(e,n)}return o=i.interleaved,o===null?(t.next=t,gf(i)):(t.next=o.next,o.next=t),i.interleaved=t,pi(e,n)}function _u(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,nf(e,n)}}function Sm(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qu(e,t,n,i){var o=e.updateQueue;Mi=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var f=h,g=f.next;f.next=null,u===null?a=g:u.next=g,u=f;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==u&&(h===null?y.firstBaseUpdate=g:h.next=g,y.lastBaseUpdate=f))}if(a!==null){var T=o.baseState;u=0,y=g=f=null,h=a;do{var P=h.lane,N=h.eventTime;if((i&P)===P){y!==null&&(y=y.next={eventTime:N,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});t:{var F=e,z=h;switch(P=t,N=n,z.tag){case 1:if(F=z.payload,typeof F=="function"){T=F.call(N,T,P);break t}T=F;break t;case 3:F.flags=F.flags&-65537|128;case 0:if(F=z.payload,P=typeof F=="function"?F.call(N,T,P):F,P==null)break t;T=Gt({},T,P);break t;case 2:Mi=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,P=o.effects,P===null?o.effects=[h]:P.push(h))}else N={eventTime:N,lane:P,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(g=y=N,f=T):y=y.next=N,u|=P;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;P=h,h=P.next,P.next=null,o.lastBaseUpdate=P,o.shared.pending=null}}while(!0);if(y===null&&(f=T),o.baseState=f,o.firstBaseUpdate=g,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Dr|=u,e.lanes=u,e.memoizedState=T}}function Im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(G(191,o));o.call(i)}}}var tl={},jn=ir(tl),Na=ir(tl),Oa=ir(tl);function Sr(e){if(e===tl)throw Error(G(174));return e}function yf(e,t){switch(bt(Oa,t),bt(Na,e),bt(jn,tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fh(t,e)}Ft(jn),bt(jn,t)}function Zo(){Ft(jn),Ft(Na),Ft(Oa)}function av(e){Sr(Oa.current);var t=Sr(jn.current),n=Fh(t,e.type);t!==n&&(bt(Na,e),bt(jn,n))}function wf(e){Na.current===e&&(Ft(jn),Ft(Na))}var Wt=ir(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fh=[];function Ef(){for(var e=0;e<fh.length;e++)fh[e]._workInProgressVersionPrimary=null;fh.length=0}var gu=yi.ReactCurrentDispatcher,ph=yi.ReactCurrentBatchConfig,Lr=0,Zt=null,ue=null,ge=null,$u=!1,ma=!1,Va=0,s3=0;function Ae(){throw Error(G(321))}function Tf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function Pf(e,t,n,i,o,a){if(Lr=a,Zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gu.current=e===null||e.memoizedState===null?c3:h3,e=n(i,o),ma){a=0;do{if(ma=!1,Va=0,25<=a)throw Error(G(301));a+=1,ge=ue=null,t.updateQueue=null,gu.current=d3,e=n(i,o)}while(ma)}if(gu.current=Wu,t=ue!==null&&ue.next!==null,Lr=0,ge=ue=Zt=null,$u=!1,t)throw Error(G(300));return e}function Sf(){var e=Va!==0;return Va=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Zt.memoizedState=ge=e:ge=ge.next=e,ge}function yn(){if(ue===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=ge===null?Zt.memoizedState:ge.next;if(t!==null)ge=t,ue=e;else{if(e===null)throw Error(G(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ge===null?Zt.memoizedState=ge=e:ge=ge.next=e}return ge}function ba(e,t){return typeof t=="function"?t(e):t}function mh(e){var t=yn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var i=ue,o=i.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}i.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,i=i.baseState;var h=u=null,f=null,g=a;do{var y=g.lane;if((Lr&y)===y)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),i=g.hasEagerState?g.eagerState:e(i,g.action);else{var T={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(h=f=T,u=i):f=f.next=T,Zt.lanes|=y,Dr|=y}g=g.next}while(g!==null&&g!==a);f===null?u=i:f.next=h,Dn(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=f,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Zt.lanes|=a,Dr|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _h(e){var t=yn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);Dn(a,t.memoizedState)||(He=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function lv(){}function uv(e,t){var n=Zt,i=yn(),o=t(),a=!Dn(i.memoizedState,o);if(a&&(i.memoizedState=o,He=!0),i=i.queue,If(dv.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,za(9,hv.bind(null,n,i,o,t),void 0,null),ve===null)throw Error(G(349));Lr&30||cv(n,t,o)}return o}function cv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hv(e,t,n,i){t.value=n,t.getSnapshot=i,fv(t)&&pv(e)}function dv(e,t,n){return n(function(){fv(t)&&pv(e)})}function fv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function pv(e){var t=pi(e,1);t!==null&&Ln(t,e,1,-1)}function Cm(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=u3.bind(null,Zt,e),[t.memoizedState,e]}function za(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function mv(){return yn().memoizedState}function vu(e,t,n,i){var o=Fn();Zt.flags|=e,o.memoizedState=za(1|t,n,void 0,i===void 0?null:i)}function gc(e,t,n,i){var o=yn();i=i===void 0?null:i;var a=void 0;if(ue!==null){var u=ue.memoizedState;if(a=u.destroy,i!==null&&Tf(i,u.deps)){o.memoizedState=za(t,n,a,i);return}}Zt.flags|=e,o.memoizedState=za(1|t,n,a,i)}function Am(e,t){return vu(8390656,8,e,t)}function If(e,t){return gc(2048,8,e,t)}function _v(e,t){return gc(4,2,e,t)}function gv(e,t){return gc(4,4,e,t)}function vv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yv(e,t,n){return n=n!=null?n.concat([e]):null,gc(4,4,vv.bind(null,t,e),n)}function Cf(){}function wv(e,t){var n=yn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Tf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ev(e,t){var n=yn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Tf(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Tv(e,t,n){return Lr&21?(Dn(n,t)||(n=Ag(),Zt.lanes|=n,Dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function a3(e,t){var n=Dt;Dt=n!==0&&4>n?n:4,e(!0);var i=ph.transition;ph.transition={};try{e(!1),t()}finally{Dt=n,ph.transition=i}}function Pv(){return yn().memoizedState}function l3(e,t,n){var i=$i(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Sv(e))Iv(t,n);else if(n=ov(e,t,n,i),n!==null){var o=ze();Ln(n,e,i,o),Cv(n,t,i)}}function u3(e,t,n){var i=$i(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sv(e))Iv(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Dn(h,u)){var f=t.interleaved;f===null?(o.next=o,gf(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=ov(e,t,o,i),n!==null&&(o=ze(),Ln(n,e,i,o),Cv(n,t,i))}}function Sv(e){var t=e.alternate;return e===Zt||t!==null&&t===Zt}function Iv(e,t){ma=$u=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cv(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,nf(e,n)}}var Wu={readContext:vn,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},c3={readContext:vn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:Am,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vu(4194308,4,vv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Fn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=l3.bind(null,Zt,e),[i.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:Cm,useDebugValue:Cf,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=Cm(!1),t=e[0];return e=a3.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Zt,o=Fn();if(jt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),ve===null)throw Error(G(349));Lr&30||cv(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Am(dv.bind(null,i,a,e),[e]),i.flags|=2048,za(9,hv.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Fn(),t=ve.identifierPrefix;if(jt){var n=ui,i=li;n=(i&~(1<<32-Rn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Va++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=s3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h3={readContext:vn,useCallback:wv,useContext:vn,useEffect:If,useImperativeHandle:yv,useInsertionEffect:_v,useLayoutEffect:gv,useMemo:Ev,useReducer:mh,useRef:mv,useState:function(){return mh(ba)},useDebugValue:Cf,useDeferredValue:function(e){var t=yn();return Tv(t,ue.memoizedState,e)},useTransition:function(){var e=mh(ba)[0],t=yn().memoizedState;return[e,t]},useMutableSource:lv,useSyncExternalStore:uv,useId:Pv,unstable_isNewReconciler:!1},d3={readContext:vn,useCallback:wv,useContext:vn,useEffect:If,useImperativeHandle:yv,useInsertionEffect:_v,useLayoutEffect:gv,useMemo:Ev,useReducer:_h,useRef:mv,useState:function(){return _h(ba)},useDebugValue:Cf,useDeferredValue:function(e){var t=yn();return ue===null?t.memoizedState=e:Tv(t,ue.memoizedState,e)},useTransition:function(){var e=_h(ba)[0],t=yn().memoizedState;return[e,t]},useMutableSource:lv,useSyncExternalStore:uv,useId:Pv,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vc={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ze(),o=$i(e),a=ci(i,o);a.payload=t,n!=null&&(a.callback=n),t=qi(e,a,o),t!==null&&(Ln(t,e,o,i),_u(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ze(),o=$i(e),a=ci(i,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qi(e,a,o),t!==null&&(Ln(t,e,o,i),_u(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),i=$i(e),o=ci(n,i);o.tag=2,t!=null&&(o.callback=t),t=qi(e,o,i),t!==null&&(Ln(t,e,i,n),_u(t,e,i))}};function xm(e,t,n,i,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,u):t.prototype&&t.prototype.isPureReactComponent?!Ra(n,i)||!Ra(o,a):!0}function Av(e,t,n){var i=!1,o=Yi,a=t.contextType;return typeof a=="object"&&a!==null?a=vn(a):(o=We(t)?kr:Me.current,i=t.contextTypes,a=(i=i!=null)?Ho(e,o):Yi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function km(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function ad(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},vf(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=vn(a):(a=We(t)?kr:Me.current,o.context=Ho(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sd(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vc.enqueueReplaceState(o,o.state,null),qu(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Go(e,t){try{var n="",i=t;do n+=B2(i),i=i.return;while(i);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function gh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ld(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f3=typeof WeakMap=="function"?WeakMap:Map;function xv(e,t,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gu||(Gu=!0,vd=i),ld(e,t)},n}function kv(e,t,n){n=ci(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){ld(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ld(e,t),typeof i!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Rm(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new f3;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=A3.bind(null,e,t,n),t.then(e,e))}function Lm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dm(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ci(-1,1),t.tag=2,qi(n,t,1))),n.lanes|=1),e)}var p3=yi.ReactCurrentOwner,He=!1;function be(e,t,n,i){t.child=e===null?rv(t,null,n,i):Wo(t,e.child,n,i)}function Mm(e,t,n,i,o){n=n.render;var a=t.ref;return Fo(t,o),i=Pf(e,t,n,i,a,o),n=Sf(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mi(e,t,o)):(jt&&n&&hf(t),t.flags|=1,be(e,t,i,o),t.child)}function Nm(e,t,n,i,o){if(e===null){var a=n.type;return typeof a=="function"&&!Nf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Rv(e,t,a,i,o)):(e=Tu(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(u,i)&&e.ref===t.ref)return mi(e,t,o)}return t.flags|=1,e=Wi(a,i),e.ref=t.ref,e.return=t,t.child=e}function Rv(e,t,n,i,o){if(e!==null){var a=e.memoizedProps;if(Ra(a,i)&&e.ref===t.ref)if(He=!1,t.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,mi(e,t,o)}return ud(e,t,n,i,o)}function Lv(e,t,n){var i=t.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(No,Ye),Ye|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(No,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,bt(No,Ye),Ye|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,bt(No,Ye),Ye|=i;return be(e,t,o,n),t.child}function Dv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ud(e,t,n,i,o){var a=We(n)?kr:Me.current;return a=Ho(t,a),Fo(t,o),n=Pf(e,t,n,i,a,o),i=Sf(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mi(e,t,o)):(jt&&i&&hf(t),t.flags|=1,be(e,t,n,o),t.child)}function Om(e,t,n,i,o){if(We(n)){var a=!0;zu(t)}else a=!1;if(Fo(t,o),t.stateNode===null)yu(e,t),Av(t,n,i),ad(t,n,i,o),i=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var f=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=vn(g):(g=We(n)?kr:Me.current,g=Ho(t,g));var y=n.getDerivedStateFromProps,T=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function";T||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==i||f!==g)&&km(t,u,i,g),Mi=!1;var P=t.memoizedState;u.state=P,qu(t,i,u,o),f=t.memoizedState,h!==i||P!==f||$e.current||Mi?(typeof y=="function"&&(sd(t,n,y,i),f=t.memoizedState),(h=Mi||xm(t,n,h,i,P,f,g))?(T||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),u.props=i,u.state=f,u.context=g,i=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,sv(e,t),h=t.memoizedProps,g=t.type===t.elementType?h:Cn(t.type,h),u.props=g,T=t.pendingProps,P=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=vn(f):(f=We(n)?kr:Me.current,f=Ho(t,f));var N=n.getDerivedStateFromProps;(y=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==T||P!==f)&&km(t,u,i,f),Mi=!1,P=t.memoizedState,u.state=P,qu(t,i,u,o);var F=t.memoizedState;h!==T||P!==F||$e.current||Mi?(typeof N=="function"&&(sd(t,n,N,i),F=t.memoizedState),(g=Mi||xm(t,n,g,i,P,F,f)||!1)?(y||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,F,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,F,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=F),u.props=i,u.state=F,u.context=f,i=g):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),i=!1)}return cd(e,t,n,i,a,o)}function cd(e,t,n,i,o,a){Dv(e,t);var u=(t.flags&128)!==0;if(!i&&!u)return o&&wm(t,n,!1),mi(e,t,a);i=t.stateNode,p3.current=t;var h=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&u?(t.child=Wo(t,e.child,null,a),t.child=Wo(t,null,h,a)):be(e,t,h,a),t.memoizedState=i.state,o&&wm(t,n,!0),t.child}function Mv(e){var t=e.stateNode;t.pendingContext?ym(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ym(e,t.context,!1),yf(e,t.containerInfo)}function Vm(e,t,n,i,o){return $o(),ff(o),t.flags|=256,be(e,t,n,i),t.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nv(e,t,n){var i=t.pendingProps,o=Wt.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),bt(Wt,o&1),e===null)return rd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ec(u,i,0,null),e=Ar(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dd(n),t.memoizedState=hd,e):Af(t,u));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return m3(e,t,u,i,h,o,n);if(a){a=i.fallback,u=t.mode,o=e.child,h=o.sibling;var f={mode:"hidden",children:i.children};return!(u&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=f,t.deletions=null):(i=Wi(o,f),i.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Wi(h,a):(a=Ar(a,u,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=e.child.memoizedState,u=u===null?dd(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=hd,i}return a=e.child,e=a.sibling,i=Wi(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Af(e,t){return t=Ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nu(e,t,n,i){return i!==null&&ff(i),Wo(t,e.child,null,n),e=Af(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m3(e,t,n,i,o,a,u){if(n)return t.flags&256?(t.flags&=-257,i=gh(Error(G(422))),nu(e,t,u,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),a=Ar(a,o,u,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Wo(t,e.child,null,u),t.child.memoizedState=dd(u),t.memoizedState=hd,a);if(!(t.mode&1))return nu(e,t,u,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var h=i.dgst;return i=h,a=Error(G(419)),i=gh(a,i,void 0),nu(e,t,u,i)}if(h=(u&e.childLanes)!==0,He||h){if(i=ve,i!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,pi(e,o),Ln(i,e,o,-1))}return Mf(),i=gh(Error(G(421))),nu(e,t,u,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=x3.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Je=ji(o.nextSibling),tn=t,jt=!0,xn=null,e!==null&&(dn[fn++]=li,dn[fn++]=ui,dn[fn++]=Rr,li=e.id,ui=e.overflow,Rr=t),t=Af(t,i.children),t.flags|=4096,t)}function bm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),od(e.return,t,n)}function vh(e,t,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function Ov(e,t,n){var i=t.pendingProps,o=i.revealOrder,a=i.tail;if(be(e,t,i.children,n),i=Wt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,n,t);else if(e.tag===19)bm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(bt(Wt,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Hu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),vh(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}vh(t,!0,n,null,a);break;case"together":vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=Wi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _3(e,t,n){switch(t.tag){case 3:Mv(t),$o();break;case 5:av(t);break;case 1:We(t.type)&&zu(t);break;case 4:yf(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;bt(Uu,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(bt(Wt,Wt.current&1),t.flags|=128,null):n&t.child.childLanes?Nv(e,t,n):(bt(Wt,Wt.current&1),e=mi(e,t,n),e!==null?e.sibling:null);bt(Wt,Wt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Ov(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),bt(Wt,Wt.current),i)break;return null;case 22:case 23:return t.lanes=0,Lv(e,t,n)}return mi(e,t,n)}var Vv,fd,bv,zv;Vv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fd=function(){};bv=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Sr(jn.current);var a=null;switch(n){case"input":o=Oh(e,o),i=Oh(e,i),a=[];break;case"select":o=Gt({},o,{value:void 0}),i=Gt({},i,{value:void 0}),a=[];break;case"textarea":o=zh(e,o),i=zh(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Vu)}Bh(n,i);var u;n=null;for(g in o)if(!i.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var h=o[g];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Pa.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in i){var f=i[g];if(h=o!=null?o[g]:void 0,i.hasOwnProperty(g)&&f!==h&&(f!=null||h!=null))if(g==="style")if(h){for(u in h)!h.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&h[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(a||(a=[]),a.push(g,n)),n=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(a=a||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&zt("scroll",e),a||h===f||(a=[])):(a=a||[]).push(g,f))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};zv=function(e,t,n,i){n!==i&&(t.flags|=4)};function ta(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function g3(e,t,n){var i=t.pendingProps;switch(df(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return We(t.type)&&bu(),xe(t),null;case 3:return i=t.stateNode,Zo(),Ft($e),Ft(Me),Ef(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Ed(xn),xn=null))),fd(e,t),xe(t),null;case 5:wf(t);var o=Sr(Oa.current);if(n=t.type,e!==null&&t.stateNode!=null)bv(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(G(166));return xe(t),null}if(e=Sr(jn.current),tu(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Bn]=t,i[Ma]=a,e=(t.mode&1)!==0,n){case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":case"embed":zt("load",i);break;case"video":case"audio":for(o=0;o<sa.length;o++)zt(sa[o],i);break;case"source":zt("error",i);break;case"img":case"image":case"link":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"input":Wp(i,a),zt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},zt("invalid",i);break;case"textarea":Gp(i,a),zt("invalid",i)}Bh(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?i.textContent!==h&&(a.suppressHydrationWarning!==!0&&Jl(i.textContent,h,e),o=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Jl(i.textContent,h,e),o=["children",""+h]):Pa.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&zt("scroll",i)}switch(n){case"input":$l(i),Zp(i,a,!0);break;case"textarea":$l(i),Kp(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Vu)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),n==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[Bn]=t,e[Ma]=i,Vv(e,t,!1,!1),t.stateNode=e;t:{switch(u=Uh(n,i),n){case"dialog":zt("cancel",e),zt("close",e),o=i;break;case"iframe":case"object":case"embed":zt("load",e),o=i;break;case"video":case"audio":for(o=0;o<sa.length;o++)zt(sa[o],e);o=i;break;case"source":zt("error",e),o=i;break;case"img":case"image":case"link":zt("error",e),zt("load",e),o=i;break;case"details":zt("toggle",e),o=i;break;case"input":Wp(e,i),o=Oh(e,i),zt("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Gt({},i,{value:void 0}),zt("invalid",e);break;case"textarea":Gp(e,i),o=zh(e,i),zt("invalid",e);break;default:o=i}Bh(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var f=h[a];a==="style"?mg(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&fg(e,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Sa(e,f):typeof f=="number"&&Sa(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pa.hasOwnProperty(a)?f!=null&&a==="onScroll"&&zt("scroll",e):f!=null&&Qd(e,a,f,u))}switch(n){case"input":$l(e),Zp(e,i,!1);break;case"textarea":$l(e),Kp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Xi(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Oo(e,!!i.multiple,a,!1):i.defaultValue!=null&&Oo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)zv(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(G(166));if(n=Sr(Oa.current),Sr(jn.current),tu(t)){if(i=t.stateNode,n=t.memoizedProps,i[Bn]=t,(a=i.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:Jl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jl(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bn]=t,t.stateNode=i}return xe(t),null;case 13:if(Ft(Wt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&Je!==null&&t.mode&1&&!(t.flags&128))nv(),$o(),t.flags|=98560,a=!1;else if(a=tu(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Bn]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),a=!1}else xn!==null&&(Ed(xn),xn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Wt.current&1?he===0&&(he=3):Mf())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return Zo(),fd(e,t),e===null&&La(t.stateNode.containerInfo),xe(t),null;case 10:return _f(t.type._context),xe(t),null;case 17:return We(t.type)&&bu(),xe(t),null;case 19:if(Ft(Wt),a=t.memoizedState,a===null)return xe(t),null;if(i=(t.flags&128)!==0,u=a.rendering,u===null)if(i)ta(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Hu(e),u!==null){for(t.flags|=128,ta(a,!1),i=u.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bt(Wt,Wt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ee()>Ko&&(t.flags|=128,i=!0,ta(a,!1),t.lanes=4194304)}else{if(!i)if(e=Hu(u),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ta(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!jt)return xe(t),null}else 2*ee()-a.renderingStartTime>Ko&&n!==1073741824&&(t.flags|=128,i=!0,ta(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ee(),t.sibling=null,n=Wt.current,bt(Wt,i?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return Df(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ye&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function v3(e,t){switch(df(t),t.tag){case 1:return We(t.type)&&bu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zo(),Ft($e),Ft(Me),Ef(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wf(t),null;case 13:if(Ft(Wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Wt),null;case 4:return Zo(),null;case 10:return _f(t.type._context),null;case 22:case 23:return Df(),null;case 24:return null;default:return null}}var iu=!1,Le=!1,y3=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Yt(e,t,i)}else n.current=null}function pd(e,t,n){try{n()}catch(i){Yt(e,t,i)}}var zm=!1;function w3(e,t){if(Xh=Mu,e=qg(),cf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var u=0,h=-1,f=-1,g=0,y=0,T=e,P=null;e:for(;;){for(var N;T!==n||o!==0&&T.nodeType!==3||(h=u+o),T!==a||i!==0&&T.nodeType!==3||(f=u+i),T.nodeType===3&&(u+=T.nodeValue.length),(N=T.firstChild)!==null;)P=T,T=N;for(;;){if(T===e)break e;if(P===n&&++g===o&&(h=u),P===a&&++y===i&&(f=u),(N=T.nextSibling)!==null)break;T=P,P=T.parentNode}T=N}n=h===-1||f===-1?null:{start:h,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yh={focusedElem:e,selectionRange:n},Mu=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var z=F.memoizedProps,$=F.memoizedState,R=t.stateNode,I=R.getSnapshotBeforeUpdate(t.elementType===t.type?z:Cn(t.type,z),$);R.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Yt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return F=zm,zm=!1,F}function _a(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&pd(t,n,a)}o=o.next}while(o!==i)}}function yc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function md(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fv(e){var t=e.alternate;t!==null&&(e.alternate=null,Fv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Ma],delete t[ed],delete t[n3],delete t[i3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bv(e){return e.tag===5||e.tag===3||e.tag===4}function Fm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vu));else if(i!==4&&(e=e.child,e!==null))for(_d(e,t,n),e=e.sibling;e!==null;)_d(e,t,n),e=e.sibling}function gd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(gd(e,t,n),e=e.sibling;e!==null;)gd(e,t,n),e=e.sibling}var we=null,An=!1;function Li(e,t,n){for(n=n.child;n!==null;)Uv(e,t,n),n=n.sibling}function Uv(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:Le||Mo(n,t);case 6:var i=we,o=An;we=null,Li(e,t,n),we=i,An=o,we!==null&&(An?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(An?(e=we,n=n.stateNode,e.nodeType===8?hh(e.parentNode,n):e.nodeType===1&&hh(e,n),xa(e)):hh(we,n.stateNode));break;case 4:i=we,o=An,we=n.stateNode.containerInfo,An=!0,Li(e,t,n),we=i,An=o;break;case 0:case 11:case 14:case 15:if(!Le&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&pd(n,t,u),o=o.next}while(o!==i)}Li(e,t,n);break;case 1:if(!Le&&(Mo(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){Yt(n,t,h)}Li(e,t,n);break;case 21:Li(e,t,n);break;case 22:n.mode&1?(Le=(i=Le)||n.memoizedState!==null,Li(e,t,n),Le=i):Li(e,t,n);break;default:Li(e,t,n)}}function Bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y3),t.forEach(function(i){var o=k3.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function In(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var a=e,u=t,h=u;t:for(;h!==null;){switch(h.tag){case 5:we=h.stateNode,An=!1;break t;case 3:we=h.stateNode.containerInfo,An=!0;break t;case 4:we=h.stateNode.containerInfo,An=!0;break t}h=h.return}if(we===null)throw Error(G(160));Uv(a,u,o),we=null,An=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(g){Yt(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jv(t,e),t=t.sibling}function jv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),zn(e),i&4){try{_a(3,e,e.return),yc(3,e)}catch(z){Yt(e,e.return,z)}try{_a(5,e,e.return)}catch(z){Yt(e,e.return,z)}}break;case 1:In(t,e),zn(e),i&512&&n!==null&&Mo(n,n.return);break;case 5:if(In(t,e),zn(e),i&512&&n!==null&&Mo(n,n.return),e.flags&32){var o=e.stateNode;try{Sa(o,"")}catch(z){Yt(e,e.return,z)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,h=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&cg(o,a),Uh(h,u);var g=Uh(h,a);for(u=0;u<f.length;u+=2){var y=f[u],T=f[u+1];y==="style"?mg(o,T):y==="dangerouslySetInnerHTML"?fg(o,T):y==="children"?Sa(o,T):Qd(o,y,T,g)}switch(h){case"input":Vh(o,a);break;case"textarea":hg(o,a);break;case"select":var P=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var N=a.value;N!=null?Oo(o,!!a.multiple,N,!1):P!==!!a.multiple&&(a.defaultValue!=null?Oo(o,!!a.multiple,a.defaultValue,!0):Oo(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ma]=a}catch(z){Yt(e,e.return,z)}}break;case 6:if(In(t,e),zn(e),i&4){if(e.stateNode===null)throw Error(G(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(z){Yt(e,e.return,z)}}break;case 3:if(In(t,e),zn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(t.containerInfo)}catch(z){Yt(e,e.return,z)}break;case 4:In(t,e),zn(e);break;case 13:In(t,e),zn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Rf=ee())),i&4&&Bm(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(g=Le)||y,In(t,e),Le=g):In(t,e),zn(e),i&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!y&&e.mode&1)for(tt=e,y=e.child;y!==null;){for(T=tt=y;tt!==null;){switch(P=tt,N=P.child,P.tag){case 0:case 11:case 14:case 15:_a(4,P,P.return);break;case 1:Mo(P,P.return);var F=P.stateNode;if(typeof F.componentWillUnmount=="function"){i=P,n=P.return;try{t=i,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(z){Yt(i,n,z)}}break;case 5:Mo(P,P.return);break;case 22:if(P.memoizedState!==null){jm(T);continue}}N!==null?(N.return=P,tt=N):jm(T)}y=y.sibling}t:for(y=null,T=e;;){if(T.tag===5){if(y===null){y=T;try{o=T.stateNode,g?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=T.stateNode,f=T.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=pg("display",u))}catch(z){Yt(e,e.return,z)}}}else if(T.tag===6){if(y===null)try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(z){Yt(e,e.return,z)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break t;for(;T.sibling===null;){if(T.return===null||T.return===e)break t;y===T&&(y=null),T=T.return}y===T&&(y=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:In(t,e),zn(e),i&4&&Bm(e);break;case 21:break;default:In(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(Bv(n)){var i=n;break t}n=n.return}throw Error(G(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Sa(o,""),i.flags&=-33);var a=Fm(e);gd(e,a,o);break;case 3:case 4:var u=i.stateNode.containerInfo,h=Fm(e);_d(e,h,u);break;default:throw Error(G(161))}}catch(f){Yt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E3(e,t,n){tt=e,qv(e)}function qv(e,t,n){for(var i=(e.mode&1)!==0;tt!==null;){var o=tt,a=o.child;if(o.tag===22&&i){var u=o.memoizedState!==null||iu;if(!u){var h=o.alternate,f=h!==null&&h.memoizedState!==null||Le;h=iu;var g=Le;if(iu=u,(Le=f)&&!g)for(tt=o;tt!==null;)u=tt,f=u.child,u.tag===22&&u.memoizedState!==null?qm(o):f!==null?(f.return=u,tt=f):qm(o);for(;a!==null;)tt=a,qv(a),a=a.sibling;tt=o,iu=h,Le=g}Um(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,tt=a):Um(e)}}function Um(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||yc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Le)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Im(t,a,i);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Im(t,u,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var T=y.dehydrated;T!==null&&xa(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Le||t.flags&512&&md(t)}catch(P){Yt(t,t.return,P)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function jm(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function qm(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yc(4,t)}catch(f){Yt(t,n,f)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(f){Yt(t,o,f)}}var a=t.return;try{md(t)}catch(f){Yt(t,a,f)}break;case 5:var u=t.return;try{md(t)}catch(f){Yt(t,u,f)}}}catch(f){Yt(t,t.return,f)}if(t===e){tt=null;break}var h=t.sibling;if(h!==null){h.return=t.return,tt=h;break}tt=t.return}}var T3=Math.ceil,Zu=yi.ReactCurrentDispatcher,xf=yi.ReactCurrentOwner,_n=yi.ReactCurrentBatchConfig,xt=0,ve=null,se=null,Pe=0,Ye=0,No=ir(0),he=0,Fa=null,Dr=0,wc=0,kf=0,ga=null,qe=null,Rf=0,Ko=1/0,si=null,Gu=!1,vd=null,Hi=null,ru=!1,bi=null,Ku=0,va=0,yd=null,wu=-1,Eu=0;function ze(){return xt&6?ee():wu!==-1?wu:wu=ee()}function $i(e){return e.mode&1?xt&2&&Pe!==0?Pe&-Pe:o3.transition!==null?(Eu===0&&(Eu=Ag()),Eu):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:Ng(e.type)),e):1}function Ln(e,t,n,i){if(50<va)throw va=0,yd=null,Error(G(185));Xa(e,n,i),(!(xt&2)||e!==ve)&&(e===ve&&(!(xt&2)&&(wc|=n),he===4&&Oi(e,Pe)),Ze(e,i),n===1&&xt===0&&!(t.mode&1)&&(Ko=ee()+500,_c&&rr()))}function Ze(e,t){var n=e.callbackNode;o1(e,t);var i=Du(e,e===ve?Pe:0);if(i===0)n!==null&&Yp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Yp(n),t===1)e.tag===0?r3(Hm.bind(null,e)):Jg(Hm.bind(null,e)),t3(function(){!(xt&6)&&rr()}),n=null;else{switch(xg(i)){case 1:n=ef;break;case 4:n=Ig;break;case 16:n=Lu;break;case 536870912:n=Cg;break;default:n=Lu}n=Xv(n,Hv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hv(e,t){if(wu=-1,Eu=0,xt&6)throw Error(G(327));var n=e.callbackNode;if(Bo()&&e.callbackNode!==n)return null;var i=Du(e,e===ve?Pe:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Qu(e,i);else{t=i;var o=xt;xt|=2;var a=Wv();(ve!==e||Pe!==t)&&(si=null,Ko=ee()+500,Cr(e,t));do try{I3();break}catch(h){$v(e,h)}while(!0);mf(),Zu.current=a,xt=o,se!==null?t=0:(ve=null,Pe=0,t=he)}if(t!==0){if(t===2&&(o=Wh(e),o!==0&&(i=o,t=wd(e,o))),t===1)throw n=Fa,Cr(e,0),Oi(e,i),Ze(e,ee()),n;if(t===6)Oi(e,i);else{if(o=e.current.alternate,!(i&30)&&!P3(o)&&(t=Qu(e,i),t===2&&(a=Wh(e),a!==0&&(i=a,t=wd(e,a))),t===1))throw n=Fa,Cr(e,0),Oi(e,i),Ze(e,ee()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(G(345));case 2:wr(e,qe,si);break;case 3:if(Oi(e,i),(i&130023424)===i&&(t=Rf+500-ee(),10<t)){if(Du(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){ze(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=td(wr.bind(null,e,qe,si),t);break}wr(e,qe,si);break;case 4:if(Oi(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var u=31-Rn(i);a=1<<u,u=t[u],u>o&&(o=u),i&=~a}if(i=o,i=ee()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*T3(i/1960))-i,10<i){e.timeoutHandle=td(wr.bind(null,e,qe,si),i);break}wr(e,qe,si);break;case 5:wr(e,qe,si);break;default:throw Error(G(329))}}}return Ze(e,ee()),e.callbackNode===n?Hv.bind(null,e):null}function wd(e,t){var n=ga;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=Qu(e,t),e!==2&&(t=qe,qe=n,t!==null&&Ed(t)),e}function Ed(e){qe===null?qe=e:qe.push.apply(qe,e)}function P3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!Dn(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oi(e,t){for(t&=~kf,t&=~wc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rn(t),i=1<<n;e[n]=-1,t&=~i}}function Hm(e){if(xt&6)throw Error(G(327));Bo();var t=Du(e,0);if(!(t&1))return Ze(e,ee()),null;var n=Qu(e,t);if(e.tag!==0&&n===2){var i=Wh(e);i!==0&&(t=i,n=wd(e,i))}if(n===1)throw n=Fa,Cr(e,0),Oi(e,t),Ze(e,ee()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,qe,si),Ze(e,ee()),null}function Lf(e,t){var n=xt;xt|=1;try{return e(t)}finally{xt=n,xt===0&&(Ko=ee()+500,_c&&rr())}}function Mr(e){bi!==null&&bi.tag===0&&!(xt&6)&&Bo();var t=xt;xt|=1;var n=_n.transition,i=Dt;try{if(_n.transition=null,Dt=1,e)return e()}finally{Dt=i,_n.transition=n,xt=t,!(xt&6)&&rr()}}function Df(){Ye=No.current,Ft(No)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J1(n)),se!==null)for(n=se.return;n!==null;){var i=n;switch(df(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&bu();break;case 3:Zo(),Ft($e),Ft(Me),Ef();break;case 5:wf(i);break;case 4:Zo();break;case 13:Ft(Wt);break;case 19:Ft(Wt);break;case 10:_f(i.type._context);break;case 22:case 23:Df()}n=n.return}if(ve=e,se=e=Wi(e.current,null),Pe=Ye=t,he=0,Fa=null,kf=wc=Dr=0,qe=ga=null,Pr!==null){for(t=0;t<Pr.length;t++)if(n=Pr[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,i.next=u}n.pending=i}Pr=null}return e}function $v(e,t){do{var n=se;try{if(mf(),gu.current=Wu,$u){for(var i=Zt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}$u=!1}if(Lr=0,ge=ue=Zt=null,ma=!1,Va=0,xf.current=null,n===null||n.return===null){he=1,Fa=t,se=null;break}t:{var a=e,u=n.return,h=n,f=t;if(t=Pe,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,y=h,T=y.tag;if(!(y.mode&1)&&(T===0||T===11||T===15)){var P=y.alternate;P?(y.updateQueue=P.updateQueue,y.memoizedState=P.memoizedState,y.lanes=P.lanes):(y.updateQueue=null,y.memoizedState=null)}var N=Lm(u);if(N!==null){N.flags&=-257,Dm(N,u,h,a,t),N.mode&1&&Rm(a,g,t),t=N,f=g;var F=t.updateQueue;if(F===null){var z=new Set;z.add(f),t.updateQueue=z}else F.add(f);break t}else{if(!(t&1)){Rm(a,g,t),Mf();break t}f=Error(G(426))}}else if(jt&&h.mode&1){var $=Lm(u);if($!==null){!($.flags&65536)&&($.flags|=256),Dm($,u,h,a,t),ff(Go(f,h));break t}}a=f=Go(f,h),he!==4&&(he=2),ga===null?ga=[a]:ga.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var R=xv(a,f,t);Sm(a,R);break t;case 1:h=f;var I=a.type,M=a.stateNode;if(!(a.flags&128)&&(typeof I.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Hi===null||!Hi.has(M)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=kv(a,h,t);Sm(a,j);break t}}a=a.return}while(a!==null)}Gv(n)}catch(X){t=X,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function Wv(){var e=Zu.current;return Zu.current=Wu,e===null?Wu:e}function Mf(){(he===0||he===3||he===2)&&(he=4),ve===null||!(Dr&268435455)&&!(wc&268435455)||Oi(ve,Pe)}function Qu(e,t){var n=xt;xt|=2;var i=Wv();(ve!==e||Pe!==t)&&(si=null,Cr(e,t));do try{S3();break}catch(o){$v(e,o)}while(!0);if(mf(),xt=n,Zu.current=i,se!==null)throw Error(G(261));return ve=null,Pe=0,he}function S3(){for(;se!==null;)Zv(se)}function I3(){for(;se!==null&&!Q2();)Zv(se)}function Zv(e){var t=Qv(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Gv(e):se=t,xf.current=null}function Gv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v3(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,se=null;return}}else if(n=g3(n,t,Ye),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);he===0&&(he=5)}function wr(e,t,n){var i=Dt,o=_n.transition;try{_n.transition=null,Dt=1,C3(e,t,n,i)}finally{_n.transition=o,Dt=i}return null}function C3(e,t,n,i){do Bo();while(bi!==null);if(xt&6)throw Error(G(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(s1(e,a),e===ve&&(se=ve=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,Xv(Lu,function(){return Bo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=_n.transition,_n.transition=null;var u=Dt;Dt=1;var h=xt;xt|=4,xf.current=null,w3(e,n),jv(n,e),W1(Yh),Mu=!!Xh,Yh=Xh=null,e.current=n,E3(n),X2(),xt=h,Dt=u,_n.transition=a}else e.current=n;if(ru&&(ru=!1,bi=e,Ku=o),a=e.pendingLanes,a===0&&(Hi=null),t1(n.stateNode),Ze(e,ee()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Gu)throw Gu=!1,e=vd,vd=null,e;return Ku&1&&e.tag!==0&&Bo(),a=e.pendingLanes,a&1?e===yd?va++:(va=0,yd=e):va=0,rr(),null}function Bo(){if(bi!==null){var e=xg(Ku),t=_n.transition,n=Dt;try{if(_n.transition=null,Dt=16>e?16:e,bi===null)var i=!1;else{if(e=bi,bi=null,Ku=0,xt&6)throw Error(G(331));var o=xt;for(xt|=4,tt=e.current;tt!==null;){var a=tt,u=a.child;if(tt.flags&16){var h=a.deletions;if(h!==null){for(var f=0;f<h.length;f++){var g=h[f];for(tt=g;tt!==null;){var y=tt;switch(y.tag){case 0:case 11:case 15:_a(8,y,a)}var T=y.child;if(T!==null)T.return=y,tt=T;else for(;tt!==null;){y=tt;var P=y.sibling,N=y.return;if(Fv(y),y===g){tt=null;break}if(P!==null){P.return=N,tt=P;break}tt=N}}}var F=a.alternate;if(F!==null){var z=F.child;if(z!==null){F.child=null;do{var $=z.sibling;z.sibling=null,z=$}while(z!==null)}}tt=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,tt=u;else t:for(;tt!==null;){if(a=tt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_a(9,a,a.return)}var R=a.sibling;if(R!==null){R.return=a.return,tt=R;break t}tt=a.return}}var I=e.current;for(tt=I;tt!==null;){u=tt;var M=u.child;if(u.subtreeFlags&2064&&M!==null)M.return=u,tt=M;else t:for(u=I;tt!==null;){if(h=tt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:yc(9,h)}}catch(X){Yt(h,h.return,X)}if(h===u){tt=null;break t}var j=h.sibling;if(j!==null){j.return=h.return,tt=j;break t}tt=h.return}}if(xt=o,rr(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(hc,e)}catch{}i=!0}return i}finally{Dt=n,_n.transition=t}}return!1}function $m(e,t,n){t=Go(n,t),t=xv(e,t,1),e=qi(e,t,1),t=ze(),e!==null&&(Xa(e,1,t),Ze(e,t))}function Yt(e,t,n){if(e.tag===3)$m(e,e,n);else for(;t!==null;){if(t.tag===3){$m(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hi===null||!Hi.has(i))){e=Go(n,e),e=kv(t,e,1),t=qi(t,e,1),e=ze(),t!==null&&(Xa(t,1,e),Ze(t,e));break}}t=t.return}}function A3(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(Pe&n)===n&&(he===4||he===3&&(Pe&130023424)===Pe&&500>ee()-Rf?Cr(e,0):kf|=n),Ze(e,t)}function Kv(e,t){t===0&&(e.mode&1?(t=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):t=1);var n=ze();e=pi(e,t),e!==null&&(Xa(e,t,n),Ze(e,n))}function x3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kv(e,n)}function k3(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(G(314))}i!==null&&i.delete(t),Kv(e,n)}var Qv;Qv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,_3(e,t,n);He=!!(e.flags&131072)}else He=!1,jt&&t.flags&1048576&&tv(t,Bu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;yu(e,t),e=t.pendingProps;var o=Ho(t,Me.current);Fo(t,n),o=Pf(null,t,i,e,o,n);var a=Sf();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(i)?(a=!0,zu(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,vf(t),o.updater=vc,t.stateNode=o,o._reactInternals=t,ad(t,i,e,n),t=cd(null,t,i,!0,a,n)):(t.tag=0,jt&&a&&hf(t),be(null,t,o,n),t=t.child),t;case 16:i=t.elementType;t:{switch(yu(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=L3(i),e=Cn(i,e),o){case 0:t=ud(null,t,i,e,n);break t;case 1:t=Om(null,t,i,e,n);break t;case 11:t=Mm(null,t,i,e,n);break t;case 14:t=Nm(null,t,i,Cn(i.type,e),n);break t}throw Error(G(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Cn(i,o),ud(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Cn(i,o),Om(e,t,i,o,n);case 3:t:{if(Mv(t),e===null)throw Error(G(387));i=t.pendingProps,a=t.memoizedState,o=a.element,sv(e,t),qu(t,i,null,n);var u=t.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Go(Error(G(423)),t),t=Vm(e,t,i,n,o);break t}else if(i!==o){o=Go(Error(G(424)),t),t=Vm(e,t,i,n,o);break t}else for(Je=ji(t.stateNode.containerInfo.firstChild),tn=t,jt=!0,xn=null,n=rv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),i===o){t=mi(e,t,n);break t}be(e,t,i,n)}t=t.child}return t;case 5:return av(t),e===null&&rd(t),i=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,Jh(i,o)?u=null:a!==null&&Jh(i,a)&&(t.flags|=32),Dv(e,t),be(e,t,u,n),t.child;case 6:return e===null&&rd(t),null;case 13:return Nv(e,t,n);case 4:return yf(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Wo(t,null,i,n):be(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Cn(i,o),Mm(e,t,i,o,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,bt(Uu,i._currentValue),i._currentValue=u,a!==null)if(Dn(a.value,u)){if(a.children===o.children&&!$e.current){t=mi(e,t,n);break t}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var f=h.firstContext;f!==null;){if(f.context===i){if(a.tag===1){f=ci(-1,n&-n),f.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?f.next=f:(f.next=y.next,y.next=f),g.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),od(a.return,n,t),h.lanes|=n;break}f=f.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(G(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),od(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}be(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Fo(t,n),o=vn(o),i=i(o),t.flags|=1,be(e,t,i,n),t.child;case 14:return i=t.type,o=Cn(i,t.pendingProps),o=Cn(i.type,o),Nm(e,t,i,o,n);case 15:return Rv(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Cn(i,o),yu(e,t),t.tag=1,We(i)?(e=!0,zu(t)):e=!1,Fo(t,n),Av(t,i,o),ad(t,i,o,n),cd(null,t,i,!0,e,n);case 19:return Ov(e,t,n);case 22:return Lv(e,t,n)}throw Error(G(156,t.tag))};function Xv(e,t){return Sg(e,t)}function R3(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,i){return new R3(e,t,n,i)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L3(e){if(typeof e=="function")return Nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yd)return 11;if(e===Jd)return 14}return 2}function Wi(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tu(e,t,n,i,o,a){var u=2;if(i=e,typeof e=="function")Nf(e)&&(u=1);else if(typeof e=="string")u=5;else t:switch(e){case So:return Ar(n.children,o,a,t);case Xd:u=8,o|=8;break;case Lh:return e=mn(12,n,t,o|2),e.elementType=Lh,e.lanes=a,e;case Dh:return e=mn(13,n,t,o),e.elementType=Dh,e.lanes=a,e;case Mh:return e=mn(19,n,t,o),e.elementType=Mh,e.lanes=a,e;case ag:return Ec(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case og:u=10;break t;case sg:u=9;break t;case Yd:u=11;break t;case Jd:u=14;break t;case Di:u=16,i=null;break t}throw Error(G(130,e==null?e:typeof e,""))}return t=mn(u,n,t,o),t.elementType=e,t.type=i,t.lanes=a,t}function Ar(e,t,n,i){return e=mn(7,e,i,t),e.lanes=n,e}function Ec(e,t,n,i){return e=mn(22,e,i,t),e.elementType=ag,e.lanes=n,e.stateNode={isHidden:!1},e}function yh(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function wh(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D3(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=th(0),this.expirationTimes=th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=th(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Of(e,t,n,i,o,a,u,h,f){return e=new D3(e,t,n,h,f),t===1?(t=1,a===!0&&(t|=8)):t=0,a=mn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(a),e}function M3(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Yv(e){if(!e)return Yi;e=e._reactInternals;t:{if(zr(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(We(n))return Yg(e,n,t)}return t}function Jv(e,t,n,i,o,a,u,h,f){return e=Of(n,i,!0,e,o,a,u,h,f),e.context=Yv(null),n=e.current,i=ze(),o=$i(n),a=ci(i,o),a.callback=t??null,qi(n,a,o),e.current.lanes=o,Xa(e,o,i),Ze(e,i),e}function Tc(e,t,n,i){var o=t.current,a=ze(),u=$i(o);return n=Yv(n),t.context===null?t.context=n:t.pendingContext=n,t=ci(a,u),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=qi(o,t,u),e!==null&&(Ln(e,o,u,a),_u(e,o,u)),u}function Xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vf(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function N3(){return null}var ty=typeof reportError=="function"?reportError:function(e){console.error(e)};function bf(e){this._internalRoot=e}Pc.prototype.render=bf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Tc(e,t,null,null)};Pc.prototype.unmount=bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){Tc(null,e,null,null)}),t[fi]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ni.length&&t!==0&&t<Ni[n].priority;n++);Ni.splice(n,0,e),n===0&&Mg(e)}};function zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function O3(e,t,n,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var g=Xu(u);a.call(g)}}var u=Jv(t,i,e,0,null,!1,!1,"",Zm);return e._reactRootContainer=u,e[fi]=u.current,La(e.nodeType===8?e.parentNode:e),Mr(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var h=i;i=function(){var g=Xu(f);h.call(g)}}var f=Of(e,0,!1,null,null,!1,!1,"",Zm);return e._reactRootContainer=f,e[fi]=f.current,La(e.nodeType===8?e.parentNode:e),Mr(function(){Tc(t,f,n,i)}),f}function Ic(e,t,n,i,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var f=Xu(u);h.call(f)}}Tc(t,u,e,o)}else u=O3(n,t,e,o,i);return Xu(u)}kg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oa(t.pendingLanes);n!==0&&(nf(t,n|1),Ze(t,ee()),!(xt&6)&&(Ko=ee()+500,rr()))}break;case 13:Mr(function(){var i=pi(e,1);if(i!==null){var o=ze();Ln(i,e,1,o)}}),Vf(e,1)}};rf=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=ze();Ln(t,e,134217728,n)}Vf(e,134217728)}};Rg=function(e){if(e.tag===13){var t=$i(e),n=pi(e,t);if(n!==null){var i=ze();Ln(n,e,t,i)}Vf(e,t)}};Lg=function(){return Dt};Dg=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}};qh=function(e,t,n){switch(t){case"input":if(Vh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=mc(i);if(!o)throw Error(G(90));ug(i),Vh(i,o)}}}break;case"textarea":hg(e,n);break;case"select":t=n.value,t!=null&&Oo(e,!!n.multiple,t,!1)}};vg=Lf;yg=Mr;var V3={usingClientEntryPoint:!1,Events:[Ja,xo,mc,_g,gg,Lf]},ea={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b3={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tg(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||N3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{hc=ou.inject(b3),Un=ou}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V3;nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zf(t))throw Error(G(200));return M3(e,t,null,n)};nn.createRoot=function(e,t){if(!zf(e))throw Error(G(299));var n=!1,i="",o=ty;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Of(e,1,!1,null,null,n,!1,i,o),e[fi]=t.current,La(e.nodeType===8?e.parentNode:e),new bf(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Tg(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return Mr(e)};nn.hydrate=function(e,t,n){if(!Sc(t))throw Error(G(200));return Ic(null,e,t,!0,n)};nn.hydrateRoot=function(e,t,n){if(!zf(e))throw Error(G(405));var i=n!=null&&n.hydratedSources||null,o=!1,a="",u=ty;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Jv(t,null,e,1,n??null,o,!1,a,u),e[fi]=t.current,La(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Pc(t)};nn.render=function(e,t,n){if(!Sc(t))throw Error(G(200));return Ic(null,e,t,!1,n)};nn.unmountComponentAtNode=function(e){if(!Sc(e))throw Error(G(40));return e._reactRootContainer?(Mr(function(){Ic(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0):!1};nn.unstable_batchedUpdates=Lf;nn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Sc(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Ic(e,t,n,!1,i)};nn.version="18.3.1-next-f1338f8080-20240426";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(e){console.error(e)}}ey(),eg.exports=nn;var Ff=eg.exports,ny,Gm=Ff;ny=Gm.createRoot,Gm.hydrateRoot;function iy(e,t){const n=gt.useRef(t);gt.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const z3=1;function F3(e){return Object.freeze({__version:z3,map:e})}function B3(e,t){return Object.freeze({...e,...t})}const ry=gt.createContext(null),oy=ry.Provider;function Bf(){const e=gt.useContext(ry);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function U3(e){function t(n,i){const{instance:o,context:a}=e(n).current;return gt.useImperativeHandle(i,()=>o),n.children==null?null:kh.createElement(oy,{value:a},n.children)}return gt.forwardRef(t)}function j3(e){function t(n,i){const[o,a]=gt.useState(!1),{instance:u}=e(n,a).current;gt.useImperativeHandle(i,()=>u),gt.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Ff.createPortal(n.children,h):null}return gt.forwardRef(t)}function q3(e){function t(n,i){const{instance:o}=e(n).current;return gt.useImperativeHandle(i,()=>o),null}return gt.forwardRef(t)}function Uf(e,t){const n=gt.useRef();gt.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Cc(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function H3(e,t){return function(i,o){const a=Bf(),u=e(Cc(i,a),a);return iy(a.map,i.attribution),Uf(u.current,i.eventHandlers),t(u.current,a,i,o),u}}var Td={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(h2,function(n){var i="1.9.4";function o(r){var s,c,d,m;for(c=1,d=arguments.length;c<d;c++){m=arguments[c];for(s in m)r[s]=m[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var d=c.call(arguments,2);return function(){return r.apply(s,d.length?d.concat(c.call(arguments)):arguments)}}var h=0;function f(r){return"_leaflet_id"in r||(r._leaflet_id=++h),r._leaflet_id}function g(r,s,c){var d,m,v,A;return A=function(){d=!1,m&&(v.apply(c,m),m=!1)},v=function(){d?m=arguments:(r.apply(c,arguments),setTimeout(A,s),d=!0)},v}function y(r,s,c){var d=s[1],m=s[0],v=d-m;return r===d&&c?r:((r-m)%v+v)%v+m}function T(){return!1}function P(r,s){if(s===!1)return r;var c=Math.pow(10,s===void 0?6:s);return Math.round(r*c)/c}function N(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function F(r){return N(r).split(/\s+/)}function z(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var c in s)r.options[c]=s[c];return r.options}function $(r,s,c){var d=[];for(var m in r)d.push(encodeURIComponent(c?m.toUpperCase():m)+"="+encodeURIComponent(r[m]));return(!s||s.indexOf("?")===-1?"?":"&")+d.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function I(r,s){return r.replace(R,function(c,d){var m=s[d];if(m===void 0)throw new Error("No value provided for variable "+c);return typeof m=="function"&&(m=m(s)),m})}var M=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function j(r,s){for(var c=0;c<r.length;c++)if(r[c]===s)return c;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var C=0;function E(r){var s=+new Date,c=Math.max(0,16-(s-C));return C=s+c,window.setTimeout(r,c)}var S=window.requestAnimationFrame||Y("RequestAnimationFrame")||E,k=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function D(r,s,c){if(c&&S===E)r.call(s);else return S.call(window,u(r,s))}function O(r){r&&k.call(window,r)}var x={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:f,throttle:g,wrapNum:y,falseFn:T,formatNum:P,trim:N,splitWords:F,setOptions:z,getParamString:$,template:I,isArray:M,indexOf:j,emptyImageUrl:X,requestFn:S,cancelFn:k,requestAnimFrame:D,cancelAnimFrame:O};function Qt(){}Qt.extend=function(r){var s=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,d=a(c);d.constructor=s,s.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(s[m]=this[m]);return r.statics&&o(s,r.statics),r.includes&&(Zn(r.includes),o.apply(null,[d].concat(r.includes))),o(d,r),delete d.statics,delete d.includes,d.options&&(d.options=c.options?a(c.options):{},o(d.options,r.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,A=d._initHooks.length;v<A;v++)d._initHooks[v].call(this)}},s},Qt.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},Qt.mergeOptions=function(r){return o(this.prototype.options,r),this},Qt.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Zn(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=M(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(r,s,c){if(typeof r=="object")for(var d in r)this._on(d,r[d],s);else{r=F(r);for(var m=0,v=r.length;m<v;m++)this._on(r[m],s,c)}return this},off:function(r,s,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var d in r)this._off(d,r[d],s);else{r=F(r);for(var m=arguments.length===1,v=0,A=r.length;v<A;v++)m?this._off(r[v]):this._off(r[v],s,c)}return this},_on:function(r,s,c,d){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,c)===!1){c===this&&(c=void 0);var m={fn:s,ctx:c};d&&(m.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(m)}},_off:function(r,s,c){var d,m,v;if(this._events&&(d=this._events[r],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,v=d.length;m<v;m++)d[m].fn=T;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var A=this._listens(r,s,c);if(A!==!1){var b=d[A];this._firingCount&&(b.fn=T,this._events[r]=d=d.slice()),d.splice(A,1)}}},fire:function(r,s,c){if(!this.listens(r,c))return this;var d=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var m=this._events[r];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,A=m.length;v<A;v++){var b=m[v],B=b.fn;b.once&&this.off(r,B,b.ctx),B.call(b.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(r,s,c,d){typeof r!="string"&&console.warn('"string" type argument expected');var m=s;typeof s!="function"&&(d=!!s,m=void 0,c=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,m,c)!==!1)return!0;if(d){for(var A in this._eventParents)if(this._eventParents[A].listens(r,s,c,d))return!0}return!1},_listens:function(r,s,c){if(!this._events)return!1;var d=this._events[r]||[];if(!s)return!!d.length;c===this&&(c=void 0);for(var m=0,v=d.length;m<v;m++)if(d[m].fn===s&&d[m].ctx===c)return m;return!1},once:function(r,s,c){if(typeof r=="object")for(var d in r)this._on(d,r[d],s,!0);else{r=F(r);for(var m=0,v=r.length;m<v;m++)this._on(r[m],s,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[f(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[f(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var Ne=Qt.extend(ae);function q(r,s,c){this.x=c?Math.round(r):r,this.y=c?Math.round(s):s}var lt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(r){return this.clone()._add(K(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(K(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new q(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new q(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=lt(this.x),this.y=lt(this.y),this},distanceTo:function(r){r=K(r);var s=r.x-this.x,c=r.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(r){return r=K(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=K(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function K(r,s,c){return r instanceof q?r:M(r)?new q(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new q(r.x,r.y):new q(r,s,c)}function ut(r,s){if(r)for(var c=s?[r,s]:r,d=0,m=c.length;d<m;d++)this.extend(c[d])}ut.prototype={extend:function(r){var s,c;if(!r)return this;if(r instanceof q||typeof r[0]=="number"||"x"in r)s=c=K(r);else if(r=_t(r),s=r.min,c=r.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,c;return typeof r[0]=="number"||r instanceof q?r=K(r):r=_t(r),r instanceof ut?(s=r.min,c=r.max):s=c=r,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=_t(r);var s=this.min,c=this.max,d=r.min,m=r.max,v=m.x>=s.x&&d.x<=c.x,A=m.y>=s.y&&d.y<=c.y;return v&&A},overlaps:function(r){r=_t(r);var s=this.min,c=this.max,d=r.min,m=r.max,v=m.x>s.x&&d.x<c.x,A=m.y>s.y&&d.y<c.y;return v&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,c=this.max,d=Math.abs(s.x-c.x)*r,m=Math.abs(s.y-c.y)*r;return _t(K(s.x-d,s.y-m),K(c.x+d,c.y+m))},equals:function(r){return r?(r=_t(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function _t(r,s){return!r||r instanceof ut?r:new ut(r,s)}function Tt(r,s){if(r)for(var c=s?[r,s]:r,d=0,m=c.length;d<m;d++)this.extend(c[d])}Tt.prototype={extend:function(r){var s=this._southWest,c=this._northEast,d,m;if(r instanceof vt)d=r,m=r;else if(r instanceof Tt){if(d=r._southWest,m=r._northEast,!d||!m)return this}else return r?this.extend(dt(r)||Rt(r)):this;return!s&&!c?(this._southWest=new vt(d.lat,d.lng),this._northEast=new vt(m.lat,m.lng)):(s.lat=Math.min(d.lat,s.lat),s.lng=Math.min(d.lng,s.lng),c.lat=Math.max(m.lat,c.lat),c.lng=Math.max(m.lng,c.lng)),this},pad:function(r){var s=this._southWest,c=this._northEast,d=Math.abs(s.lat-c.lat)*r,m=Math.abs(s.lng-c.lng)*r;return new Tt(new vt(s.lat-d,s.lng-m),new vt(c.lat+d,c.lng+m))},getCenter:function(){return new vt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new vt(this.getNorth(),this.getWest())},getSouthEast:function(){return new vt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof vt||"lat"in r?r=dt(r):r=Rt(r);var s=this._southWest,c=this._northEast,d,m;return r instanceof Tt?(d=r.getSouthWest(),m=r.getNorthEast()):d=m=r,d.lat>=s.lat&&m.lat<=c.lat&&d.lng>=s.lng&&m.lng<=c.lng},intersects:function(r){r=Rt(r);var s=this._southWest,c=this._northEast,d=r.getSouthWest(),m=r.getNorthEast(),v=m.lat>=s.lat&&d.lat<=c.lat,A=m.lng>=s.lng&&d.lng<=c.lng;return v&&A},overlaps:function(r){r=Rt(r);var s=this._southWest,c=this._northEast,d=r.getSouthWest(),m=r.getNorthEast(),v=m.lat>s.lat&&d.lat<c.lat,A=m.lng>s.lng&&d.lng<c.lng;return v&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=Rt(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Rt(r,s){return r instanceof Tt?r:new Tt(r,s)}function vt(r,s,c){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,c!==void 0&&(this.alt=+c)}vt.prototype={equals:function(r,s){if(!r)return!1;r=dt(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+P(this.lat,r)+", "+P(this.lng,r)+")"},distanceTo:function(r){return Mn.distance(this,dt(r))},wrap:function(){return Mn.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,c=s/Math.cos(Math.PI/180*this.lat);return Rt([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new vt(this.lat,this.lng,this.alt)}};function dt(r,s,c){return r instanceof vt?r:M(r)&&typeof r[0]!="object"?r.length===3?new vt(r[0],r[1],r[2]):r.length===2?new vt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new vt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new vt(r,s,c)}var le={latLngToPoint:function(r,s){var c=this.projection.project(r),d=this.scale(s);return this.transformation._transform(c,d)},pointToLatLng:function(r,s){var c=this.scale(s),d=this.transformation.untransform(r,c);return this.projection.unproject(d)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(r),d=this.transformation.transform(s.min,c),m=this.transformation.transform(s.max,c);return new ut(d,m)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?y(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?y(r.lat,this.wrapLat,!0):r.lat,d=r.alt;return new vt(c,s,d)},wrapLatLngBounds:function(r){var s=r.getCenter(),c=this.wrapLatLng(s),d=s.lat-c.lat,m=s.lng-c.lng;if(d===0&&m===0)return r;var v=r.getSouthWest(),A=r.getNorthEast(),b=new vt(v.lat-d,v.lng-m),B=new vt(A.lat-d,A.lng-m);return new Tt(b,B)}},Mn=o({},le,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var c=Math.PI/180,d=r.lat*c,m=s.lat*c,v=Math.sin((s.lat-r.lat)*c/2),A=Math.sin((s.lng-r.lng)*c/2),b=v*v+Math.cos(d)*Math.cos(m)*A*A,B=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*B}}),al=6378137,wi={R:al,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,r.lat),-c),m=Math.sin(d*s);return new q(this.R*r.lng*s,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(r){var s=180/Math.PI;return new vt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=al*Math.PI;return new ut([-r,-r],[r,r])}()};function Ei(r,s,c,d){if(M(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=c,this._d=d}Ei.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new q((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function Gn(r,s,c,d){return new Ei(r,s,c,d)}var or=o({},Mn,{code:"EPSG:3857",projection:wi,transformation:function(){var r=.5/(Math.PI*wi.R);return Gn(r,.5,-r,.5)}()}),ds=o({},or,{code:"EPSG:900913"});function Ur(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function fs(r,s){var c="",d,m,v,A,b,B;for(d=0,v=r.length;d<v;d++){for(b=r[d],m=0,A=b.length;m<A;m++)B=b[m],c+=(m?"L":"M")+B.x+" "+B.y;c+=s?it.svg?"z":"x":""}return c||"M0 0"}var ps=document.documentElement.style,jr="ActiveXObject"in window,ll=jr&&!document.addEventListener,qr="msLaunchUri"in navigator&&!("documentMode"in document),Hr=on("webkit"),ul=on("android"),$r=on("android 2")||on("android 3"),ms=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cl=ul&&on("Google")&&ms<537&&!("AudioNode"in window),ne=!!window.opera,fe=!qr&&on("chrome"),sr=on("gecko")&&!Hr&&!ne&&!jr,hl=!fe&&on("safari"),_s=on("phantom"),dl="OTransition"in ps,ar=navigator.platform.indexOf("Win")===0,gs=jr&&"transition"in ps,Wr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$r,Zr="MozPerspective"in ps,Uc=!window.L_DISABLE_3D&&(gs||Wr||Zr)&&!dl&&!_s,lr=typeof orientation<"u"||on("mobile"),vs=lr&&Hr,fl=lr&&Wr,ys=!window.PointerEvent&&window.MSPointerEvent,Ti=!!(window.PointerEvent||ys),Gr="ontouchstart"in window||!!window.TouchEvent,ws=!window.L_NO_TOUCH&&(Gr||Ti),Kn=lr&&ne,pl=lr&&sr,Kr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ml=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",T,s),window.removeEventListener("testPassiveEventSupport",T,s)}catch{}return r}(),ur=function(){return!!document.createElement("canvas").getContext}(),Qr=!!(document.createElementNS&&Ur("svg").createSVGRect),ye=!!Qr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),_l=!Qr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),cr=navigator.platform.indexOf("Mac")===0,hr=navigator.platform.indexOf("Linux")===0;function on(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var it={ie:jr,ielt9:ll,edge:qr,webkit:Hr,android:ul,android23:$r,androidStock:cl,opera:ne,chrome:fe,gecko:sr,safari:hl,phantom:_s,opera12:dl,win:ar,ie3d:gs,webkit3d:Wr,gecko3d:Zr,any3d:Uc,mobile:lr,mobileWebkit:vs,mobileWebkit3d:fl,msPointer:ys,pointer:Ti,touch:ws,touchNative:Gr,mobileOpera:Kn,mobileGecko:pl,retina:Kr,passiveEvents:ml,canvas:ur,svg:Qr,vml:_l,inlineSvg:ye,mac:cr,linux:hr},Qn=it.msPointer?"MSPointerDown":"pointerdown",gl=it.msPointer?"MSPointerMove":"pointermove",vl=it.msPointer?"MSPointerUp":"pointerup",dr=it.msPointer?"MSPointerCancel":"pointercancel",Xr={touchstart:Qn,touchmove:gl,touchend:vl,touchcancel:dr},Yr={touchstart:to,touchmove:Jr,touchend:Jr,touchcancel:Jr},wn={},En=!1;function yl(r,s,c){return s==="touchstart"&&El(),Yr[s]?(c=Yr[s].bind(this,c),r.addEventListener(Xr[s],c,!1),c):(console.warn("wrong event specified:",s),T)}function wl(r,s,c){if(!Xr[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(Xr[s],c,!1)}function Es(r){wn[r.pointerId]=r}function Ts(r){wn[r.pointerId]&&(wn[r.pointerId]=r)}function Ps(r){delete wn[r.pointerId]}function El(){En||(document.addEventListener(Qn,Es,!0),document.addEventListener(gl,Ts,!0),document.addEventListener(vl,Ps,!0),document.addEventListener(dr,Ps,!0),En=!0)}function Jr(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in wn)s.touches.push(wn[c]);s.changedTouches=[s],r(s)}}function to(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ht(s),Jr(r,s)}function Tl(r){var s={},c,d;for(d in r)c=r[d],s[d]=c&&c.bind?c.bind(r):c;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Ss=200;function fr(r,s){r.addEventListener("dblclick",s);var c=0,d;function m(v){if(v.detail!==1){d=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var A=Vs(v);if(!(A.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!A.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var b=Date.now();b-c<=Ss?(d++,d===2&&s(Tl(v))):d=1,c=b}}}return r.addEventListener("click",m),{dblclick:s,simDblclick:m}}function Xn(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var pr=Jn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mr=Jn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Is=mr==="webkitTransition"||mr==="OTransition"?mr+"End":"transitionend";function Cs(r){return typeof r=="string"?document.getElementById(r):r}function Pi(r,s){var c=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(r,null);c=d?d[s]:null}return c==="auto"?null:c}function Pt(r,s,c){var d=document.createElement(r);return d.className=s||"",c&&c.appendChild(d),d}function Ot(r){var s=r.parentNode;s&&s.removeChild(r)}function _r(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Yn(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Si(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function As(r,s){if(r.classList!==void 0)return r.classList.contains(s);var c=sn(r);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function mt(r,s){if(r.classList!==void 0)for(var c=F(s),d=0,m=c.length;d<m;d++)r.classList.add(c[d]);else if(!As(r,s)){var v=sn(r);xs(r,(v?v+" ":"")+s)}}function Bt(r,s){r.classList!==void 0?r.classList.remove(s):xs(r,N((" "+sn(r)+" ").replace(" "+s+" "," ")))}function xs(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function sn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Xt(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&eo(r,s)}function eo(r,s){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(d)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):r.style.filter+=" progid:"+d+"(opacity="+s+")"}function Jn(r){for(var s=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in s)return r[c];return!1}function Nn(r,s,c){var d=s||new q(0,0);r.style[pr]=(it.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function ct(r,s){r._leaflet_pos=s,it.any3d?Nn(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function an(r){return r._leaflet_pos||new q(0,0)}var Tn,Pn,ks;if("onselectstart"in document)Tn=function(){st(window,"selectstart",Ht)},Pn=function(){Mt(window,"selectstart",Ht)};else{var Ii=Jn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tn=function(){if(Ii){var r=document.documentElement.style;ks=r[Ii],r[Ii]="none"}},Pn=function(){Ii&&(document.documentElement.style[Ii]=ks,ks=void 0)}}function Rs(){st(window,"dragstart",Ht)}function Ls(){Mt(window,"dragstart",Ht)}var no,Ds;function ti(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ge(),no=r,Ds=r.style.outlineStyle,r.style.outlineStyle="none",st(window,"keydown",Ge))}function Ge(){no&&(no.style.outlineStyle=Ds,no=void 0,Ds=void 0,Mt(window,"keydown",Ge))}function Ms(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function io(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Pl={__proto__:null,TRANSFORM:pr,TRANSITION:mr,TRANSITION_END:Is,get:Cs,getStyle:Pi,create:Pt,remove:Ot,empty:_r,toFront:Yn,toBack:Si,hasClass:As,addClass:mt,removeClass:Bt,setClass:xs,getClass:sn,setOpacity:Xt,testProp:Jn,setTransform:Nn,setPosition:ct,getPosition:an,get disableTextSelection(){return Tn},get enableTextSelection(){return Pn},disableImageDrag:Rs,enableImageDrag:Ls,preventOutline:ti,restoreOutline:Ge,getSizedParentNode:Ms,getScale:io};function st(r,s,c,d){if(s&&typeof s=="object")for(var m in s)Ns(r,m,s[m],c);else{s=F(s);for(var v=0,A=s.length;v<A;v++)Ns(r,s[v],c,d)}return this}var ln="_leaflet_events";function Mt(r,s,c,d){if(arguments.length===1)Sl(r),delete r[ln];else if(s&&typeof s=="object")for(var m in s)Os(r,m,s[m],c);else if(s=F(s),arguments.length===2)Sl(r,function(b){return j(s,b)!==-1});else for(var v=0,A=s.length;v<A;v++)Os(r,s[v],c,d);return this}function Sl(r,s){for(var c in r[ln]){var d=c.split(/\d/)[0];(!s||s(d))&&Os(r,d,null,null,c)}}var un={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ns(r,s,c,d){var m=s+f(c)+(d?"_"+f(d):"");if(r[ln]&&r[ln][m])return this;var v=function(b){return c.call(d||r,b||window.event)},A=v;!it.touchNative&&it.pointer&&s.indexOf("touch")===0?v=yl(r,s,v):it.touch&&s==="dblclick"?v=fr(r,v):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(un[s]||s,v,it.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(b){b=b||window.event,bs(r,b)&&A(b)},r.addEventListener(un[s],v,!1)):r.addEventListener(s,A,!1):r.attachEvent("on"+s,v),r[ln]=r[ln]||{},r[ln][m]=v}function Os(r,s,c,d,m){m=m||s+f(c)+(d?"_"+f(d):"");var v=r[ln]&&r[ln][m];if(!v)return this;!it.touchNative&&it.pointer&&s.indexOf("touch")===0?wl(r,s,v):it.touch&&s==="dblclick"?Xn(r,v):"removeEventListener"in r?r.removeEventListener(un[s]||s,v,!1):r.detachEvent("on"+s,v),r[ln][m]=null}function Ke(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ci(r){return Ns(r,"wheel",Ke),this}function Ai(r){return st(r,"mousedown touchstart dblclick contextmenu",Ke),r._leaflet_disable_click=!0,this}function Ht(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Qe(r){return Ht(r),Ke(r),this}function Vs(r){if(r.composedPath)return r.composedPath();for(var s=[],c=r.target;c;)s.push(c),c=c.parentNode;return s}function ro(r,s){if(!s)return new q(r.clientX,r.clientY);var c=io(s),d=c.boundingClientRect;return new q((r.clientX-d.left)/c.x-s.clientLeft,(r.clientY-d.top)/c.y-s.clientTop)}var Ut=it.linux&&it.chrome?window.devicePixelRatio:it.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Il(r){return it.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ut:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function bs(r,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var Cl={__proto__:null,on:st,off:Mt,stopPropagation:Ke,disableScrollPropagation:Ci,disableClickPropagation:Ai,preventDefault:Ht,stop:Qe,getPropagationPath:Vs,getMousePosition:ro,getWheelDelta:Il,isExternalTarget:bs,addListener:st,removeListener:Mt},zs=Ne.extend({run:function(r,s,c,d){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=an(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var c=this._startPos.add(this._offset.multiplyBy(r));s&&c._round(),ct(this._el,c),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),wt=Ne.extend({options:{crs:or,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=z(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(dt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mr&&it.any3d&&!it.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Is,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(dt(r),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=o({animate:c.animate},c.zoom),c.pan=o({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,c.zoom):this._tryAnimatedPan(r,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,c){var d=this.getZoomScale(s),m=this.getSize().divideBy(2),v=r instanceof q?r:this.latLngToContainerPoint(r),A=v.subtract(m).multiplyBy(1-1/d),b=this.containerPointToLatLng(m.add(A));return this.setView(b,s,{zoom:c})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():Rt(r);var c=K(s.paddingTopLeft||s.padding||[0,0]),d=K(s.paddingBottomRight||s.padding||[0,0]),m=this.getBoundsZoom(r,!1,c.add(d));if(m=typeof s.maxZoom=="number"?Math.min(s.maxZoom,m):m,m===1/0)return{center:r.getCenter(),zoom:m};var v=d.subtract(c).divideBy(2),A=this.project(r.getSouthWest(),m),b=this.project(r.getNorthEast(),m),B=this.unproject(A.add(b).divideBy(2).add(v),m);return{center:B,zoom:m}},fitBounds:function(r,s){if(r=Rt(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=K(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){mt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,c){if(c=c||{},c.animate===!1||!it.any3d)return this.setView(r,s,c);this._stop();var d=this.project(this.getCenter()),m=this.project(r),v=this.getSize(),A=this._zoom;r=dt(r),s=s===void 0?A:s;var b=Math.max(v.x,v.y),B=b*this.getZoomScale(A,s),H=m.distanceTo(d)||1,J=1.42,at=J*J;function yt(re){var jl=re?-1:1,a2=re?B:b,l2=B*B-b*b+jl*at*at*H*H,u2=2*a2*at*H,Gc=l2/u2,Fp=Math.sqrt(Gc*Gc+1)-Gc,c2=Fp<1e-9?-18:Math.log(Fp);return c2}function Ve(re){return(Math.exp(re)-Math.exp(-re))/2}function me(re){return(Math.exp(re)+Math.exp(-re))/2}function hn(re){return Ve(re)/me(re)}var je=yt(0);function vo(re){return b*(me(je)/me(je+J*re))}function i2(re){return b*(me(je)*hn(je+J*re)-Ve(je))/at}function r2(re){return 1-Math.pow(1-re,1.5)}var o2=Date.now(),bp=(yt(1)-je)/J,s2=c.duration?1e3*c.duration:1e3*bp*.8;function zp(){var re=(Date.now()-o2)/s2,jl=r2(re)*bp;re<=1?(this._flyToFrame=D(zp,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(i2(jl)/H)),A),this.getScaleZoom(b/vo(jl),A),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),zp.call(this),this},flyToBounds:function(r,s){var c=this._getBoundsCenterZoom(r,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(r){return r=Rt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,Rt(r));return c.equals(d)||this.panTo(d,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var c=K(s.paddingTopLeft||s.padding||[0,0]),d=K(s.paddingBottomRight||s.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(r),A=this.getPixelBounds(),b=_t([A.min.add(c),A.max.subtract(d)]),B=b.getSize();if(!b.contains(v)){this._enforcingBounds=!0;var H=v.subtract(b.getCenter()),J=b.extend(v).getSize().subtract(B);m.x+=H.x<0?-J.x:J.x,m.y+=H.y<0?-J.y:J.y,this.panTo(this.unproject(m),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=s.divideBy(2).round(),m=c.divideBy(2).round(),v=d.subtract(m);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),c=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,r):navigator.geolocation.getCurrentPosition(s,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,c=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,c=r.coords.longitude,d=new vt(s,c),m=d.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var A=this.getBoundsZoom(m);this.setView(d,v.maxZoom?Math.min(A,v.maxZoom):A)}var b={latlng:d,bounds:m,timestamp:r.timestamp};for(var B in r.coords)typeof r.coords[B]=="number"&&(b[B]=r.coords[B]);this.fire("locationfound",b)}},addHandler:function(r,s){if(!s)return this;var c=this[r]=new s(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ot(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),d=Pt("div",c,s||this._mapPane);return r&&(this._panes[r]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new Tt(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,c){r=Rt(r),c=K(c||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),A=r.getNorthWest(),b=r.getSouthEast(),B=this.getSize().subtract(c),H=_t(this.project(b,d),this.project(A,d)).getSize(),J=it.any3d?this.options.zoomSnap:1,at=B.x/H.x,yt=B.y/H.y,Ve=s?Math.max(at,yt):Math.min(at,yt);return d=this.getScaleZoom(Ve,d),J&&(d=Math.round(d/(J/100))*(J/100),d=s?Math.ceil(d/J)*J:Math.floor(d/J)*J),Math.max(m,Math.min(v,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var c=this._getTopLeftPoint(r,s);return new ut(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(r)/c.scale(s)},getScaleZoom:function(r,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var d=c.zoom(r*c.scale(s));return isNaN(d)?1/0:d},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(dt(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(K(r),s)},layerPointToLatLng:function(r){var s=K(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(dt(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(dt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Rt(r))},distance:function(r,s){return this.options.crs.distance(dt(r),dt(s))},containerPointToLayerPoint:function(r){return K(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return K(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(K(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(r)))},mouseEventToContainerPoint:function(r){return ro(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=Cs(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&it.any3d,mt(r,"leaflet-container"+(it.touch?" leaflet-touch":"")+(it.retina?" leaflet-retina":"")+(it.ielt9?" leaflet-oldie":"")+(it.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Pi(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ct(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(r.markerPane,"leaflet-zoom-hide"),mt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,c){ct(this._mapPane,new q(0,0));var d=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var m=this._zoom!==s;this._moveStart(m,c)._move(r,s)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,c,d){s===void 0&&(s=this._zoom);var m=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),d?c&&c.pinch&&this.fire("zoom",c):((m||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ct(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[f(this._container)]=this;var s=r?Mt:st;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),it.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var c=[],d,m=s==="mouseout"||s==="mouseover",v=r.target||r.srcElement,A=!1;v;){if(d=this._targets[f(v)],d&&(s==="click"||s==="preclick")&&this._draggableMoved(d)){A=!0;break}if(d&&d.listens(s,!0)&&(m&&!bs(v,r)||(c.push(d),m))||v===this._container)break;v=v.parentNode}return!c.length&&!A&&!m&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var c=r.type;c==="mousedown"&&ti(s),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,c){if(r.type==="click"){var d=o({},r);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var m=this._findEventTargets(r,s);if(c){for(var v=[],A=0;A<c.length;A++)c[A].listens(s,!0)&&v.push(c[A]);m=v.concat(m)}if(m.length){s==="contextmenu"&&Ht(r);var b=m[0],B={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var H=b.getLatLng&&(!b._radius||b._radius<=10);B.containerPoint=H?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(r),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=H?b.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(A=0;A<m.length;A++)if(m[A].fire(s,B,!0),B.originalEvent._stopped||m[A].options.bubblingMouseEvents===!1&&j(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return an(this._mapPane)||new q(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var c=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var c=this.getSize()._divideBy(2);return this.project(r,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,c){var d=this._getNewPixelOrigin(c,s);return this.project(r,s)._subtract(d)},_latLngBoundsToNewLayerBounds:function(r,s,c){var d=this._getNewPixelOrigin(c,s);return _t([this.project(r.getSouthWest(),s)._subtract(d),this.project(r.getNorthWest(),s)._subtract(d),this.project(r.getSouthEast(),s)._subtract(d),this.project(r.getNorthEast(),s)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,c){if(!c)return r;var d=this.project(r,s),m=this.getSize().divideBy(2),v=new ut(d.subtract(m),d.add(m)),A=this._getBoundsOffset(v,c,s);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?r:this.unproject(d.add(A),s)},_limitOffset:function(r,s){if(!s)return r;var c=this.getPixelBounds(),d=new ut(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(d,s))},_getBoundsOffset:function(r,s,c){var d=_t(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),m=d.min.subtract(r.min),v=d.max.subtract(r.max),A=this._rebound(m.x,-v.x),b=this._rebound(m.y,-v.y);return new q(A,b)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),c=this.getMaxZoom(),d=it.any3d?this.options.zoomSnap:1;return d&&(r=Math.round(r/d)*d),Math.max(s,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var c=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var r=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var c=pr,d=this._proxy.style[c];Nn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Nn(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(s),m=this._getCenterOffset(r)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(m)?!1:(D(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oo(r,s){return new wt(r,s)}var Ue=Qt.extend({options:{position:"topright"},initialize:function(r){z(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),c=this.getPosition(),d=r._controlCorners[c];return mt(s,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(s,d.firstChild):d.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Oe=function(r){return new Ue(r)};wt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",c=this._controlContainer=Pt("div",s+"control-container",this._container);function d(m,v){var A=s+m+" "+s+v;r[m+v]=Pt("div",A,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ot(this._controlCorners[r]);Ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fs=Ue.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,c,d){return c<d?-1:d<c?1:0}},initialize:function(r,s,c){z(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in r)this._addLayer(r[d],d);for(d in s)this._addLayer(s[d],d,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ue.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=Pt("div",r),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Ai(s),Ci(s);var d=this._section=Pt("section",r+"-list");c&&(this._map.on("click",this.collapse,this),st(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=Pt("a",r+"-toggle",s);m.href="#",m.title="Layers",m.setAttribute("role","button"),st(m,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Ht(v),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Pt("div",r+"-base",d),this._separator=Pt("div",r+"-separator",d),this._overlaysList=Pt("div",r+"-overlays",d),s.appendChild(d)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(u(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_r(this._baseLayersList),_r(this._overlaysList),this._layerControlInputs=[];var r,s,c,d,m=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),s=s||d.overlay,r=r||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(r=r&&m>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(f(r.target)),c=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(r,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(r){var s=document.createElement("label"),c=this._map.hasLayer(r.layer),d;r.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+f(this),c),this._layerControlInputs.push(d),d.layerId=f(r.layer),st(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+r.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(d),v.appendChild(m);var A=r.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,c,d=[],m=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)s=r[v],c=this._getLayer(s.layerId).layer,s.checked?d.push(c):s.checked||m.push(c);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])||this._map.addLayer(d[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,c,d=this._map.getZoom(),m=r.length-1;m>=0;m--)s=r[m],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,st(r,"click",Ht),this.expand();var s=this;setTimeout(function(){Mt(r,"click",Ht),s._preventClick=!1})}}),jc=function(r,s,c){return new Fs(r,s,c)},ei=Ue.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",c=Pt("div",s+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,c,d,m){var v=Pt("a",c,d);return v.innerHTML=r,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),Ai(v),st(v,"click",Qe),st(v,"click",m,this),st(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Bt(this._zoomInButton,s),Bt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(mt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(mt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});wt.mergeOptions({zoomControl:!0}),wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ei,this.addControl(this.zoomControl))});var Al=function(r){return new ei(r)},so=Ue.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",c=Pt("div",s),d=this.options;return this._addScales(d,s+"-line",c),r.on(d.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,c){r.metric&&(this._mScale=Pt("div",s,c)),r.imperial&&(this._iScale=Pt("div",s,c))},_update:function(){var r=this._map,s=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/r)},_updateImperial:function(r){var s=r*3.2808399,c,d,m;s>5280?(c=s/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(m=this._getRoundNum(s),this._updateScale(this._iScale,m+" ft",m/s))},_updateScale:function(r,s,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),c=r/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),ao=function(r){return new so(r)},xl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xi=Ue.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(it.inlineSvg?xl+" ":"")+"Leaflet</a>"},initialize:function(r){z(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),Ai(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});wt.mergeOptions({attributionControl:!0}),wt.addInitHook(function(){this.options.attributionControl&&new xi().addTo(this)});var qc=function(r){return new xi(r)};Ue.Layers=Fs,Ue.Zoom=ei,Ue.Scale=so,Ue.Attribution=xi,Oe.layers=jc,Oe.zoom=Al,Oe.scale=ao,Oe.attribution=qc;var Xe=Qt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xe.addTo=function(r,s){return r.addHandler(s,this),this};var gr={Events:ae},Bs=it.touch?"touchstart mousedown":"mousedown",Sn=Ne.extend({options:{clickTolerance:3},initialize:function(r,s,c,d){z(this,d),this._element=r,this._dragStartTarget=s||r,this._preventOutline=c},enable:function(){this._enabled||(st(this._dragStartTarget,Bs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Sn._dragging===this&&this.finishDrag(!0),Mt(this._dragStartTarget,Bs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!As(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Sn._dragging===this&&this.finishDrag();return}if(!(Sn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Sn._dragging=this,this._preventOutline&&ti(this._element),Rs(),Tn(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,c=Ms(this._element);this._startPoint=new q(s.clientX,s.clientY),this._startPos=an(this._element),this._parentScale=io(c);var d=r.type==="mousedown";st(document,d?"mousemove":"touchmove",this._onMove,this),st(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,c=new q(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Ht(r),this._moved||(this.fire("dragstart"),this._moved=!0,mt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ct(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Bt(document.body,"leaflet-dragging"),this._lastTarget&&(Bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mt(document,"mousemove touchmove",this._onMove,this),Mt(document,"mouseup touchend touchcancel",this._onUp,this),Ls(),Pn();var s=this._moved&&this._moving;this._moving=!1,Sn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function lo(r,s,c){var d,m=[1,4,2,8],v,A,b,B,H,J,at,yt;for(v=0,J=r.length;v<J;v++)r[v]._code=On(r[v],s);for(b=0;b<4;b++){for(at=m[b],d=[],v=0,J=r.length,A=J-1;v<J;A=v++)B=r[v],H=r[A],B._code&at?H._code&at||(yt=pe(H,B,at,s,c),yt._code=On(yt,s),d.push(yt)):(H._code&at&&(yt=pe(H,B,at,s,c),yt._code=On(yt,s),d.push(yt)),d.push(B));r=d}return r}function uo(r,s){var c,d,m,v,A,b,B,H,J;if(!r||r.length===0)throw new Error("latlngs not passed");l(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var at=dt([0,0]),yt=Rt(r),Ve=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());Ve<1700&&(at=co(r));var me=r.length,hn=[];for(c=0;c<me;c++){var je=dt(r[c]);hn.push(s.project(dt([je.lat-at.lat,je.lng-at.lng])))}for(b=B=H=0,c=0,d=me-1;c<me;d=c++)m=hn[c],v=hn[d],A=m.y*v.x-v.y*m.x,B+=(m.x+v.x)*A,H+=(m.y+v.y)*A,b+=A*3;b===0?J=hn[0]:J=[B/b,H/b];var vo=s.unproject(K(J));return dt([vo.lat+at.lat,vo.lng+at.lng])}function co(r){for(var s=0,c=0,d=0,m=0;m<r.length;m++){var v=dt(r[m]);s+=v.lat,c+=v.lng,d++}return dt([s/d,c/d])}var ho={__proto__:null,clipPolygon:lo,polygonCenter:uo,centroid:co};function Us(r,s){if(!s||!r.length)return r.slice();var c=s*s;return r=Rl(r,c),r=kl(r,c),r}function js(r,s,c){return Math.sqrt(cn(r,s,c,!0))}function ni(r,s,c){return cn(r,s,c)}function kl(r,s){var c=r.length,d=typeof Uint8Array<"u"?Uint8Array:Array,m=new d(c);m[0]=m[c-1]=1,fo(r,m,s,0,c-1);var v,A=[];for(v=0;v<c;v++)m[v]&&A.push(r[v]);return A}function fo(r,s,c,d,m){var v=0,A,b,B;for(b=d+1;b<=m-1;b++)B=cn(r[b],r[d],r[m],!0),B>v&&(A=b,v=B);v>c&&(s[A]=1,fo(r,s,c,d,A),fo(r,s,c,A,m))}function Rl(r,s){for(var c=[r[0]],d=1,m=0,v=r.length;d<v;d++)Ll(r[d],r[m])>s&&(c.push(r[d]),m=d);return m<v-1&&c.push(r[v-1]),c}var qs;function vr(r,s,c,d,m){var v=d?qs:On(r,c),A=On(s,c),b,B,H;for(qs=A;;){if(!(v|A))return[r,s];if(v&A)return!1;b=v||A,B=pe(r,s,b,c,m),H=On(B,c),b===v?(r=B,v=H):(s=B,A=H)}}function pe(r,s,c,d,m){var v=s.x-r.x,A=s.y-r.y,b=d.min,B=d.max,H,J;return c&8?(H=r.x+v*(B.y-r.y)/A,J=B.y):c&4?(H=r.x+v*(b.y-r.y)/A,J=b.y):c&2?(H=B.x,J=r.y+A*(B.x-r.x)/v):c&1&&(H=b.x,J=r.y+A*(b.x-r.x)/v),new q(H,J,m)}function On(r,s){var c=0;return r.x<s.min.x?c|=1:r.x>s.max.x&&(c|=2),r.y<s.min.y?c|=4:r.y>s.max.y&&(c|=8),c}function Ll(r,s){var c=s.x-r.x,d=s.y-r.y;return c*c+d*d}function cn(r,s,c,d){var m=s.x,v=s.y,A=c.x-m,b=c.y-v,B=A*A+b*b,H;return B>0&&(H=((r.x-m)*A+(r.y-v)*b)/B,H>1?(m=c.x,v=c.y):H>0&&(m+=A*H,v+=b*H)),A=r.x-m,b=r.y-v,d?A*A+b*b:new q(m,v)}function l(r){return!M(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function p(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),l(r)}function _(r,s){var c,d,m,v,A,b,B,H;if(!r||r.length===0)throw new Error("latlngs not passed");l(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var J=dt([0,0]),at=Rt(r),yt=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());yt<1700&&(J=co(r));var Ve=r.length,me=[];for(c=0;c<Ve;c++){var hn=dt(r[c]);me.push(s.project(dt([hn.lat-J.lat,hn.lng-J.lng])))}for(c=0,d=0;c<Ve-1;c++)d+=me[c].distanceTo(me[c+1])/2;if(d===0)H=me[0];else for(c=0,v=0;c<Ve-1;c++)if(A=me[c],b=me[c+1],m=A.distanceTo(b),v+=m,v>d){B=(v-d)/m,H=[b.x-B*(b.x-A.x),b.y-B*(b.y-A.y)];break}var je=s.unproject(K(H));return dt([je.lat+J.lat,je.lng+J.lng])}var w={__proto__:null,simplify:Us,pointToSegmentDistance:js,closestPointOnSegment:ni,clipSegment:vr,_getEdgeIntersection:pe,_getBitCode:On,_sqClosestPointOnSegment:cn,isFlat:l,_flat:p,polylineCenter:_},V={project:function(r){return new q(r.lng,r.lat)},unproject:function(r){return new vt(r.y,r.x)},bounds:new ut([-180,-90],[180,90])},U={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ut([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,c=this.R,d=r.lat*s,m=this.R_MINOR/c,v=Math.sqrt(1-m*m),A=v*Math.sin(d),b=Math.tan(Math.PI/4-d/2)/Math.pow((1-A)/(1+A),v/2);return d=-c*Math.log(Math.max(b,1e-10)),new q(r.lng*s*c,d)},unproject:function(r){for(var s=180/Math.PI,c=this.R,d=this.R_MINOR/c,m=Math.sqrt(1-d*d),v=Math.exp(-r.y/c),A=Math.PI/2-2*Math.atan(v),b=0,B=.1,H;b<15&&Math.abs(B)>1e-7;b++)H=m*Math.sin(A),H=Math.pow((1-H)/(1+H),m/2),B=Math.PI/2-2*Math.atan(v*H)-A,A+=B;return new vt(A*s,r.x*s/c)}},Q={__proto__:null,LonLat:V,Mercator:U,SphericalMercator:wi},Lt=o({},Mn,{code:"EPSG:3395",projection:U,transformation:function(){var r=.5/(Math.PI*U.R);return Gn(r,.5,-r,.5)}()}),ie=o({},Mn,{code:"EPSG:4326",projection:V,transformation:Gn(1/180,1,-1/180,.5)}),It=o({},le,{projection:V,transformation:Gn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var c=s.lng-r.lng,d=s.lat-r.lat;return Math.sqrt(c*c+d*d)},infinite:!0});le.Earth=Mn,le.EPSG3395=Lt,le.EPSG3857=or,le.EPSG900913=ds,le.EPSG4326=ie,le.Simple=It;var Nt=Ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[f(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[f(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});wt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=f(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return f(r)in this._layers},eachLayer:function(r,s){for(var c in this._layers)r.call(s,this._layers[c]);return this},_addLayers:function(r){r=r?M(r)?r:[r]:[];for(var s=0,c=r.length;s<c;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[f(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=f(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;r=m.minZoom===void 0?r:Math.min(r,m.minZoom),s=m.maxZoom===void 0?s:Math.max(s,m.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $t=Nt.extend({initialize:function(r,s){z(this,s),this._layers={};var c,d;if(r)for(c=0,d=r.length;c<d;c++)this.addLayer(r[c])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[r]&&d[r].apply(d,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var c in this._layers)r.call(s,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return f(r)}}),ki=function(r,s){return new $t(r,s)},Jt=$t.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),$t.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),$t.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Tt;for(var s in this._layers){var c=this._layers[s];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),po=function(r,s){return new Jt(r,s)},Vn=Qt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){z(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(d,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(r,s){var c=this.options,d=c[s+"Size"];typeof d=="number"&&(d=[d,d]);var m=K(d),v=K(s==="shadow"&&c.shadowAnchor||c.iconAnchor||m&&m.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(c.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),m&&(r.style.width=m.x+"px",r.style.height=m.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return it.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function z0(r){return new Vn(r)}var Hs=Vn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Hs.imagePath!="string"&&(Hs.imagePath=this._detectIconPath()),(this.options.imagePath||Hs.imagePath)+Vn.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(c,d,m){var v=d.exec(c);return v&&v[m]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Pt("div","leaflet-default-icon-path",document.body),s=Pi(r,"background-image")||Pi(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),vp=Xe.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Sn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,c=s._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=an(s._icon),A=c.getPixelBounds(),b=c.getPixelOrigin(),B=_t(A.min._subtract(b).add(m),A.max._subtract(b).subtract(m));if(!B.contains(v)){var H=K((Math.max(B.max.x,v.x)-B.max.x)/(A.max.x-B.max.x)-(Math.min(B.min.x,v.x)-B.min.x)/(A.min.x-B.min.x),(Math.max(B.max.y,v.y)-B.max.y)/(A.max.y-B.max.y)-(Math.min(B.min.y,v.y)-B.min.y)/(A.min.y-B.min.y)).multiplyBy(d);c.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),ct(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=D(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,c=s._shadow,d=an(s._icon),m=s._map.layerPointToLatLng(d);c&&ct(c,d),s._latlng=m,r.latlng=m,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Dl=Nt.extend({options:{icon:new Hs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){z(this,s),this._latlng=dt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=dt(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),mt(c,s),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(c,"focus",this._panOnFocus,this);var m=r.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(mt(m,s),m.alt=""),this._shadow=m,r.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(this._icon,"focus",this._panOnFocus,this),Ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ot(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ct(this._icon,r),this._shadow&&ct(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Xt(this._icon,r),this._shadow&&Xt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,c=s.iconSize?K(s.iconSize):K(0,0),d=s.iconAnchor?K(s.iconAnchor):K(0,0);r.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function F0(r,s){return new Dl(r,s)}var Ri=Nt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return z(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ml=Ri.extend({options:{fill:!0,radius:10},initialize:function(r,s){z(this,s),this._latlng=dt(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=dt(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Ri.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,c=this._clickTolerance(),d=[r+c,s+c];this._pxBounds=new ut(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function B0(r,s){return new Ml(r,s)}var Hc=Ml.extend({initialize:function(r,s,c){if(typeof s=="number"&&(s=o({},c,{radius:s})),z(this,s),this._latlng=dt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Tt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ri.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===Mn.distance){var m=Math.PI/180,v=this._mRadius/Mn.R/m,A=c.project([s+v,r]),b=c.project([s-v,r]),B=A.add(b).divideBy(2),H=c.unproject(B).lat,J=Math.acos((Math.cos(v*m)-Math.sin(s*m)*Math.sin(H*m))/(Math.cos(s*m)*Math.cos(H*m)))/m;(isNaN(J)||J===0)&&(J=v/Math.cos(Math.PI/180*s)),this._point=B.subtract(c.getPixelOrigin()),this._radius=isNaN(J)?0:B.x-c.project([H,r-J]).x,this._radiusY=B.y-A.y}else{var at=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(at).x}this._updateBounds()}});function U0(r,s,c){return new Hc(r,s,c)}var ii=Ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){z(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,c=null,d=cn,m,v,A=0,b=this._parts.length;A<b;A++)for(var B=this._parts[A],H=1,J=B.length;H<J;H++){m=B[H-1],v=B[H];var at=d(r,m,v,!0);at<s&&(s=at,c=d(r,m,v))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=dt(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Tt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return l(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],c=l(r),d=0,m=r.length;d<m;d++)c?(s[d]=dt(r[d]),this._bounds.extend(s[d])):s[d]=this._convertLatLngs(r[d]);return s},_project:function(){var r=new ut;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new q(r,r);this._rawPxBounds&&(this._pxBounds=new ut([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,c){var d=r[0]instanceof vt,m=r.length,v,A;if(d){for(A=[],v=0;v<m;v++)A[v]=this._map.latLngToLayerPoint(r[v]),c.extend(A[v]);s.push(A)}else for(v=0;v<m;v++)this._projectLatlngs(r[v],s,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,d,m,v,A,b,B;for(c=0,m=0,v=this._rings.length;c<v;c++)for(B=this._rings[c],d=0,A=B.length;d<A-1;d++)b=vr(B[d],B[d+1],r,d,!0),b&&(s[m]=s[m]||[],s[m].push(b[0]),(b[1]!==B[d+1]||d===A-2)&&(s[m].push(b[1]),m++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,c=0,d=r.length;c<d;c++)r[c]=Us(r[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var c,d,m,v,A,b,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,v=this._parts.length;c<v;c++)for(b=this._parts[c],d=0,A=b.length,m=A-1;d<A;m=d++)if(!(!s&&d===0)&&js(r,b[m],b[d])<=B)return!0;return!1}});function j0(r,s){return new ii(r,s)}ii._flat=p;var mo=ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=ii.prototype._convertLatLngs.call(this,r),c=s.length;return c>=2&&s[0]instanceof vt&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(r){ii.prototype._setLatLngs.call(this,r),l(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return l(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,c=new q(s,s);if(r=new ut(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,v;d<m;d++)v=lo(this._rings[d],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,c,d,m,v,A,b,B,H;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,B=this._parts.length;v<B;v++)for(c=this._parts[v],A=0,H=c.length,b=H-1;A<H;b=A++)d=c[A],m=c[b],d.y>r.y!=m.y>r.y&&r.x<(m.x-d.x)*(r.y-d.y)/(m.y-d.y)+d.x&&(s=!s);return s||ii.prototype._containsPoint.call(this,r,!0)}});function q0(r,s){return new mo(r,s)}var ri=Jt.extend({initialize:function(r,s){z(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=M(r)?r:r.features,c,d,m;if(s){for(c=0,d=s.length;c<d;c++)m=s[c],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var A=Nl(r,v);return A?(A.feature=bl(r),A.defaultOptions=A.options,this.resetStyle(A),v.onEachFeature&&v.onEachFeature(r,A),this.addLayer(A)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function Nl(r,s){var c=r.type==="Feature"?r.geometry:r,d=c?c.coordinates:null,m=[],v=s&&s.pointToLayer,A=s&&s.coordsToLatLng||$c,b,B,H,J;if(!d&&!c)return null;switch(c.type){case"Point":return b=A(d),yp(v,r,b,s);case"MultiPoint":for(H=0,J=d.length;H<J;H++)b=A(d[H]),m.push(yp(v,r,b,s));return new Jt(m);case"LineString":case"MultiLineString":return B=Ol(d,c.type==="LineString"?0:1,A),new ii(B,s);case"Polygon":case"MultiPolygon":return B=Ol(d,c.type==="Polygon"?1:2,A),new mo(B,s);case"GeometryCollection":for(H=0,J=c.geometries.length;H<J;H++){var at=Nl({geometry:c.geometries[H],type:"Feature",properties:r.properties},s);at&&m.push(at)}return new Jt(m);case"FeatureCollection":for(H=0,J=c.features.length;H<J;H++){var yt=Nl(c.features[H],s);yt&&m.push(yt)}return new Jt(m);default:throw new Error("Invalid GeoJSON object.")}}function yp(r,s,c,d){return r?r(s,c):new Dl(c,d&&d.markersInheritOptions&&d)}function $c(r){return new vt(r[1],r[0],r[2])}function Ol(r,s,c){for(var d=[],m=0,v=r.length,A;m<v;m++)A=s?Ol(r[m],s-1,c):(c||$c)(r[m]),d.push(A);return d}function Wc(r,s){return r=dt(r),r.alt!==void 0?[P(r.lng,s),P(r.lat,s),P(r.alt,s)]:[P(r.lng,s),P(r.lat,s)]}function Vl(r,s,c,d){for(var m=[],v=0,A=r.length;v<A;v++)m.push(s?Vl(r[v],l(r[v])?0:s-1,c,d):Wc(r[v],d));return!s&&c&&m.length>0&&m.push(m[0].slice()),m}function _o(r,s){return r.feature?o({},r.feature,{geometry:s}):bl(s)}function bl(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Zc={toGeoJSON:function(r){return _o(this,{type:"Point",coordinates:Wc(this.getLatLng(),r)})}};Dl.include(Zc),Hc.include(Zc),Ml.include(Zc),ii.include({toGeoJSON:function(r){var s=!l(this._latlngs),c=Vl(this._latlngs,s?1:0,!1,r);return _o(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),mo.include({toGeoJSON:function(r){var s=!l(this._latlngs),c=s&&!l(this._latlngs[0]),d=Vl(this._latlngs,c?2:s?1:0,!0,r);return s||(d=[d]),_o(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),$t.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(r).geometry.coordinates)}),_o(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var c=s==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(r);if(c)d.push(v.geometry);else{var A=bl(v);A.type==="FeatureCollection"?d.push.apply(d,A.features):d.push(A)}}}),c?_o(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function wp(r,s){return new ri(r,s)}var H0=wp,zl=Nt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,c){this._url=r,this._bounds=Rt(s),z(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Yn(this._image),this},bringToBack:function(){return this._map&&Si(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Rt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:Pt("img");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=T,s.onmousemove=T,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Nn(this._image,c,s)},_reset:function(){var r=this._image,s=new ut(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();ct(r,s.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),$0=function(r,s,c){return new zl(r,s,c)},Ep=zl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:Pt("video");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=T,s.onmousemove=T,s.onloadeddata=u(this.fire,this,"load"),r){for(var c=s.getElementsByTagName("source"),d=[],m=0;m<c.length;m++)d.push(c[m].src);this._url=c.length>0?d:[s.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var A=Pt("source");A.src=this._url[v],s.appendChild(A)}}});function W0(r,s,c){return new Ep(r,s,c)}var Tp=zl.extend({_initImage:function(){var r=this._image=this._url;mt(r,"leaflet-image-layer"),this._zoomAnimated&&mt(r,"leaflet-zoom-animated"),this.options.className&&mt(r,this.options.className),r.onselectstart=T,r.onmousemove=T}});function Z0(r,s,c){return new Tp(r,s,c)}var bn=Nt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof vt||M(r))?(this._latlng=dt(r),z(this,s)):(z(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(u(Ot,void 0,this._container),200)):Ot(this._container),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=dt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yn(this._container),this},bringToBack:function(){return this._map&&Si(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof Jt){s=null;var c=this._source._layers;for(var d in c)if(c[d]._map){s=c[d];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=K(this.options.offset),c=this._getAnchor();this._zoomAnimated?ct(this._container,r.add(c)):s=s.add(r).add(c);var d=this._containerBottom=-s.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});wt.include({_initOverlay:function(r,s,c,d){var m=s;return m instanceof r||(m=new r(d).setContent(s)),c&&m.setLatLng(c),m}}),Nt.include({_initOverlay:function(r,s,c,d){var m=c;return m instanceof r?(z(m,d),m._source=this):(m=s&&!d?s:new r(d,this),m.setContent(c)),m}});var Fl=bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,bn.prototype.openOn.call(this,r)},onAdd:function(r){bn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ri||this._source.on("preclick",Ke))},onRemove:function(r){bn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ri||this._source.off("preclick",Ke))},getEvents:function(){var r=bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=Pt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Pt("div",r+"-content-wrapper",s);if(this._contentNode=Pt("div",r+"-content",c),Ai(s),Ci(this._contentNode),st(s,"contextmenu",Ke),this._tipContainer=Pt("div",r+"-tip-container",s),this._tip=Pt("div",r+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=Pt("a",r+"-close-button",s);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',st(d,"click",function(m){Ht(m),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var d=r.offsetHeight,m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&d>m?(s.height=m+"px",mt(r,v)):Bt(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();ct(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Pi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,d=this._containerWidth,m=new q(this._containerLeft,-c-this._containerBottom);m._add(an(this._container));var v=r.layerPointToContainerPoint(m),A=K(this.options.autoPanPadding),b=K(this.options.autoPanPaddingTopLeft||A),B=K(this.options.autoPanPaddingBottomRight||A),H=r.getSize(),J=0,at=0;v.x+d+B.x>H.x&&(J=v.x+d-H.x+B.x),v.x-J-b.x<0&&(J=v.x-b.x),v.y+c+B.y>H.y&&(at=v.y+c-H.y+B.y),v.y-at-b.y<0&&(at=v.y-b.y),(J||at)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([J,at]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),G0=function(r,s){return new Fl(r,s)};wt.mergeOptions({closePopupOnClick:!0}),wt.include({openPopup:function(r,s,c){return this._initOverlay(Fl,r,s,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Nt.include({bindPopup:function(r,s){return this._popup=this._initOverlay(Fl,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Jt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Qe(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Bl=bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){bn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){bn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=bn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,c,d=this._map,m=this._container,v=d.latLngToContainerPoint(d.getCenter()),A=d.layerPointToContainerPoint(r),b=this.options.direction,B=m.offsetWidth,H=m.offsetHeight,J=K(this.options.offset),at=this._getAnchor();b==="top"?(s=B/2,c=H):b==="bottom"?(s=B/2,c=0):b==="center"?(s=B/2,c=H/2):b==="right"?(s=0,c=H/2):b==="left"?(s=B,c=H/2):A.x<v.x?(b="right",s=0,c=H/2):(b="left",s=B+(J.x+at.x)*2,c=H/2),r=r.subtract(K(s,c,!0)).add(J).add(at),Bt(m,"leaflet-tooltip-right"),Bt(m,"leaflet-tooltip-left"),Bt(m,"leaflet-tooltip-top"),Bt(m,"leaflet-tooltip-bottom"),mt(m,"leaflet-tooltip-"+b),ct(m,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Xt(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),K0=function(r,s){return new Bl(r,s)};wt.include({openTooltip:function(r,s,c){return this._initOverlay(Bl,r,s,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Nt.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bl,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Jt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(st(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),st(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,c,d;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),d=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(s)}});var Pp=Vn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(_r(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=K(c.bgPos);s.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Q0(r){return new Pp(r)}Vn.Default=Hs;var $s=Nt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:it.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){z(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ot(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof q?r:new q(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,c=-r(-1/0,1/0),d=0,m=s.length,v;d<m;d++)v=s[d].style.zIndex,s[d]!==this._container&&v&&(c=r(c,+v));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!it.ielt9){Xt(this._container,this.options.opacity);var r=+new Date,s=!1,c=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var v=Math.min(1,(r-m.loaded)/200);Xt(m.el,v),v<1?s=!0:(m.active?c=!0:this._onOpaqueTile(m),m.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(O(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=s-Math.abs(r-c),this._onUpdateLevel(c)):(Ot(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[r],m=this._map;return d||(d=this._levels[r]={},d.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=s,d.origin=m.project(m.unproject(m.getPixelOrigin()),r).round(),d.zoom=r,this._setZoomTransform(d,m.getCenter(),m.getZoom()),T(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var r,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var d=s.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ot(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,c,d){var m=Math.floor(r/2),v=Math.floor(s/2),A=c-1,b=new q(+m,+v);b.z=+A;var B=this._tileCoordsToKey(b),H=this._tiles[B];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),A>d?this._retainParent(m,v,A,d):!1)},_retainChildren:function(r,s,c,d){for(var m=2*r;m<2*r+2;m++)for(var v=2*s;v<2*s+2;v++){var A=new q(m,v);A.z=c+1;var b=this._tileCoordsToKey(A),B=this._tiles[b];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);c+1<d&&this._retainChildren(m,v,c+1,d)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,c,d){var m=Math.round(s);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var v=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||v)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,s)},_setZoomTransform:function(r,s,c){var d=this._map.getZoomScale(c,r.zoom),m=r.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(s,c)).round();it.any3d?Nn(r.el,m,d):ct(r.el,m)},_resetGrid:function(){var r=this._map,s=r.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],d).x/c.x),Math.ceil(r.project([0,s.wrapLng[1]],d).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],d).y/c.x),Math.ceil(r.project([s.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),d=s.getZoomScale(c,this._tileZoom),m=s.project(r,this._tileZoom).floor(),v=s.getSize().divideBy(d*2);return new ut(m.subtract(v),m.add(v))},_update:function(r){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(r),m=this._pxBoundsToTileRange(d),v=m.getCenter(),A=[],b=this.options.keepBuffer,B=new ut(m.getBottomLeft().subtract([b,-b]),m.getTopRight().add([b,-b]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var J=this._tiles[H].coords;(J.z!==this._tileZoom||!B.contains(new q(J.x,J.y)))&&(this._tiles[H].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var at=m.min.y;at<=m.max.y;at++)for(var yt=m.min.x;yt<=m.max.x;yt++){var Ve=new q(yt,at);if(Ve.z=this._tileZoom,!!this._isValidTile(Ve)){var me=this._tiles[this._tileCoordsToKey(Ve)];me?me.current=!0:A.push(Ve)}}if(A.sort(function(je,vo){return je.distanceTo(v)-vo.distanceTo(v)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hn=document.createDocumentFragment();for(yt=0;yt<A.length;yt++)this._addTile(A[yt],hn);this._level.el.appendChild(hn)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!s.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(r);return Rt(this.options.bounds).overlaps(d)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,c=this.getTileSize(),d=r.scaleBy(c),m=d.add(c),v=s.unproject(d,r.z),A=s.unproject(m,r.z);return[v,A]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),c=new Tt(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),c=new q(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(r){var s=this._tiles[r];s&&(Ot(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){mt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=T,r.onmousemove=T,it.ielt9&&this.options.opacity<1&&Xt(r,this.options.opacity)},_addTile:function(r,s){var c=this._getTilePos(r),d=this._tileCoordsToKey(r),m=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(m),this.createTile.length<2&&D(u(this._tileReady,this,r,null,m)),ct(m,c),this._tiles[d]={el:m,coords:r,current:!0},s.appendChild(m),this.fire("tileloadstart",{tile:m,coords:r})},_tileReady:function(r,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:r});var d=this._tileCoordsToKey(r);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Xt(c.el,0),O(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(mt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),it.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new q(this._wrapX?y(r.x,this._wrapX):r.x,this._wrapY?y(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new ut(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function X0(r){return new $s(r)}var go=$s.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=z(this,s),s.detectRetina&&it.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var c=document.createElement("img");return st(c,"load",u(this._tileOnLoad,this,s,c)),st(c,"error",u(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var s={r:it.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=c),s["-y"]=c}return I(this._url,o(s,this.options))},_tileOnLoad:function(r,s){it.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,c){var d=this.options.errorTileUrl;d&&s.getAttribute("src")!==d&&(s.src=d),r(c,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(r=s-r),r+d},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=T,s.onerror=T,!s.complete)){s.src=X;var c=this._tiles[r].coords;Ot(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",X),$s.prototype._removeTile.call(this,r)},_tileReady:function(r,s,c){if(!(!this._map||c&&c.getAttribute("src")===X))return $s.prototype._tileReady.call(this,r,s,c)}});function Sp(r,s){return new go(r,s)}var Ip=go.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var c=o({},this.defaultWmsParams);for(var d in s)d in this.options||(c[d]=s[d]);s=z(this,s);var m=s.detectRetina&&it.retina?2:1,v=this.getTileSize();c.width=v.x*m,c.height=v.y*m,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,go.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),c=this._crs,d=_t(c.project(s[0]),c.project(s[1])),m=d.min,v=d.max,A=(this._wmsVersion>=1.3&&this._crs===ie?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),b=go.prototype.getTileUrl.call(this,r);return b+$(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function Y0(r,s){return new Ip(r,s)}go.WMS=Ip,Sp.wms=Y0;var oi=Nt.extend({options:{padding:.1},initialize:function(r){z(this,r),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var c=this._map.getZoomScale(s,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,s),v=d.multiplyBy(-c).add(m).subtract(this._map._getNewPixelOrigin(r,s));it.any3d?Nn(this._container,v,c):ct(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new ut(c,c.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cp=oi.extend({options:{tolerance:0},getEvents:function(){var r=oi.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");st(r,"mousemove",this._onMouseMove,this),st(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,Ot(this._container),Mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var r=this._bounds,s=this._container,c=r.getSize(),d=it.retina?2:1;ct(s,r.min),s.width=d*c.x,s.height=d*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",it.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[f(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,c=s.next,d=s.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete r._order,delete this._layers[f(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),c=[],d,m;for(m=0;m<s.length;m++){if(d=Number(s[m]),isNaN(d))return;c.push(d)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ut,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)r=d.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var c,d,m,v,A=r._parts,b=A.length,B=this._ctx;if(b){for(B.beginPath(),c=0;c<b;c++){for(d=0,m=A[c].length;d<m;d++)v=A[c][d],B[d?"lineTo":"moveTo"](v.x,v.y);s&&B.closePath()}this._fillStroke(B,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,c=this._ctx,d=Math.max(Math.round(r._radius),1),m=(Math.max(Math.round(r._radiusY),1)||d)/d;m!==1&&(c.save(),c.scale(1,m)),c.beginPath(),c.arc(s.x,s.y/m,d,0,Math.PI*2,!1),m!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,s){var c=s.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),c,d,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var c,d,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(s)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(r),d&&(mt(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,c){this._map._fireDOMEvent(s,c||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var c=s.next,d=s.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var c=s.next,d=s.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Ap(r){return it.canvas?new Cp(r):null}var Ws=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),J0={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Ws("shape");mt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Ws("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[f(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Ot(s),r.removeInteractiveTarget(s),delete this._layers[f(r)]},_updateStyle:function(r){var s=r._stroke,c=r._fill,d=r.options,m=r._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(s||(s=r._stroke=Ws("stroke")),m.appendChild(s),s.weight=d.weight+"px",s.color=d.color,s.opacity=d.opacity,d.dashArray?s.dashStyle=M(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=d.lineCap.replace("butt","flat"),s.joinstyle=d.lineJoin):s&&(m.removeChild(s),r._stroke=null),d.fill?(c||(c=r._fill=Ws("fill")),m.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(m.removeChild(c),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),c=Math.round(r._radius),d=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){Yn(r._container)},_bringToBack:function(r){Si(r._container)}},Ul=it.vml?Ws:Ur,Zs=oi.extend({_initContainer:function(){this._container=Ul("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ul("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ot(this._container),Mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var r=this._bounds,s=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),ct(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=Ul("path");r.options.className&&mt(s,r.options.className),r.options.interactive&&mt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[f(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ot(r._path),r.removeInteractiveTarget(r._path),delete this._layers[f(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,c=r.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,fs(r._parts,s))},_updateCircle:function(r){var s=r._point,c=Math.max(Math.round(r._radius),1),d=Math.max(Math.round(r._radiusY),1)||c,m="a"+c+","+d+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(s.x-c)+","+s.y+m+c*2+",0 "+m+-c*2+",0 ";this._setPath(r,v)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){Yn(r._path)},_bringToBack:function(r){Si(r._path)}});it.vml&&Zs.include(J0);function xp(r){return it.svg||it.vml?new Zs(r):null}wt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Ap(r)||xp(r)}});var kp=mo.extend({initialize:function(r,s){mo.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Rt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function t2(r,s){return new kp(r,s)}Zs.create=Ul,Zs.pointsToPath=fs,ri.geometryToLayer=Nl,ri.coordsToLatLng=$c,ri.coordsToLatLngs=Ol,ri.latLngToCoords=Wc,ri.latLngsToCoords=Vl,ri.getFeature=_o,ri.asFeature=bl,wt.mergeOptions({boxZoom:!0});var Rp=Xe.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tn(),Rs(),this._startPoint=this._map.mouseEventToContainerPoint(r),st(document,{contextmenu:Qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new ut(this._point,this._startPoint),c=s.getSize();ct(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ot(this._box),Bt(this._container,"leaflet-crosshair")),Pn(),Ls(),Mt(document,{contextmenu:Qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wt.addInitHook("addHandler","boxZoom",Rp),wt.mergeOptions({doubleClickZoom:!0});var Lp=Xe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,c=s.getZoom(),d=s.options.zoomDelta,m=r.originalEvent.shiftKey?c-d:c+d;s.options.doubleClickZoom==="center"?s.setZoom(m):s.setZoomAround(r.containerPoint,m)}});wt.addInitHook("addHandler","doubleClickZoom",Lp),wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dp=Xe.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Sn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Bt(this._map._container,"leaflet-grab"),Bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=Rt(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-s+c)%r+s-c,v=(d+s+c)%r-s-c,A=Math.abs(m+c)<Math.abs(v+c)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(r){var s=this._map,c=s.options,d=!c.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),d)s.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,A=c.easeLinearity,b=m.multiplyBy(A/v),B=b.distanceTo([0,0]),H=Math.min(c.inertiaMaxSpeed,B),J=b.multiplyBy(H/B),at=H/(c.inertiaDeceleration*A),yt=J.multiplyBy(-at/2).round();!yt.x&&!yt.y?s.fire("moveend"):(yt=s._limitOffset(yt,s.options.maxBounds),D(function(){s.panBy(yt,{duration:at,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});wt.addInitHook("addHandler","dragging",Dp),wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mp=Xe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),st(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,c=r.scrollTop||s.scrollTop,d=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},c=this.keyCodes,d,m;for(d=0,m=c.left.length;d<m;d++)s[c.left[d]]=[-1*r,0];for(d=0,m=c.right.length;d<m;d++)s[c.right[d]]=[r,0];for(d=0,m=c.down.length;d<m;d++)s[c.down[d]]=[0,r];for(d=0,m=c.up.length;d<m;d++)s[c.up[d]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},c=this.keyCodes,d,m;for(d=0,m=c.zoomIn.length;d<m;d++)s[c.zoomIn[d]]=r;for(d=0,m=c.zoomOut.length;d<m;d++)s[c.zoomOut[d]]=-r},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,c=this._map,d;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[s],r.shiftKey&&(d=K(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(K(d),c.options.maxBounds)),c.options.worldCopyJump){var m=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(m)}else c.panBy(d)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Qe(r)}}});wt.addInitHook("addHandler","keyboard",Mp),wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Np=Xe.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Il(r),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),d),Qe(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,v=c?Math.ceil(m/c)*c:m,A=r._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,A&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+A):r.setZoomAround(this._lastMousePos,s+A))}});wt.addInitHook("addHandler","scrollWheelZoom",Np);var e2=600;wt.mergeOptions({tapHold:it.touchNative&&it.safari&&it.mobile,tapTolerance:15});var Op=Xe.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new q(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",Ht),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),e2),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Mt(document,"touchend",Ht),Mt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new q(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});wt.addInitHook("addHandler","tapHold",Op),wt.mergeOptions({touchZoom:it.touch,bounceAtZoomLimits:!0});var Vp=Xe.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(r.touches[0]),d=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),Ht(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(r.touches[0]),d=s.mouseEventToContainerPoint(r.touches[1]),m=c.distanceTo(d)/this._startDist;if(this._zoom=s.getScaleZoom(m,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&m<1||this._zoom>s.getMaxZoom()&&m>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var v=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var A=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(A,this,!0),Ht(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});wt.addInitHook("addHandler","touchZoom",Vp),wt.BoxZoom=Rp,wt.DoubleClickZoom=Lp,wt.Drag=Dp,wt.Keyboard=Mp,wt.ScrollWheelZoom=Np,wt.TapHold=Op,wt.TouchZoom=Vp,n.Bounds=ut,n.Browser=it,n.CRS=le,n.Canvas=Cp,n.Circle=Hc,n.CircleMarker=Ml,n.Class=Qt,n.Control=Ue,n.DivIcon=Pp,n.DivOverlay=bn,n.DomEvent=Cl,n.DomUtil=Pl,n.Draggable=Sn,n.Evented=Ne,n.FeatureGroup=Jt,n.GeoJSON=ri,n.GridLayer=$s,n.Handler=Xe,n.Icon=Vn,n.ImageOverlay=zl,n.LatLng=vt,n.LatLngBounds=Tt,n.Layer=Nt,n.LayerGroup=$t,n.LineUtil=w,n.Map=wt,n.Marker=Dl,n.Mixin=gr,n.Path=Ri,n.Point=q,n.PolyUtil=ho,n.Polygon=mo,n.Polyline=ii,n.Popup=Fl,n.PosAnimation=zs,n.Projection=Q,n.Rectangle=kp,n.Renderer=oi,n.SVG=Zs,n.SVGOverlay=Tp,n.TileLayer=go,n.Tooltip=Bl,n.Transformation=Ei,n.Util=x,n.VideoOverlay=Ep,n.bind=u,n.bounds=_t,n.canvas=Ap,n.circle=U0,n.circleMarker=B0,n.control=Oe,n.divIcon=Q0,n.extend=o,n.featureGroup=po,n.geoJSON=wp,n.geoJson=H0,n.gridLayer=X0,n.icon=z0,n.imageOverlay=$0,n.latLng=dt,n.latLngBounds=Rt,n.layerGroup=ki,n.map=oo,n.marker=F0,n.point=K,n.polygon=q0,n.polyline=j0,n.popup=G0,n.rectangle=t2,n.setOptions=z,n.stamp=f,n.svg=xp,n.svgOverlay=Z0,n.tileLayer=Sp,n.tooltip=K0,n.transformation=Gn,n.version=i,n.videoOverlay=W0;var n2=window.L;n.noConflict=function(){return window.L=n2,this},window.L=n})})(Td,Td.exports);var ss=Td.exports;function Ac(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function xc(e,t){return t==null?function(i,o){const a=gt.useRef();return a.current||(a.current=e(i,o)),a}:function(i,o){const a=gt.useRef();a.current||(a.current=e(i,o));const u=gt.useRef(i),{instance:h}=a.current;return gt.useEffect(function(){u.current!==i&&(t(h,i,u.current),u.current=i)},[h,i,o]),a}}function sy(e,t){gt.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ay(e){return function(n){const i=Bf(),o=e(Cc(n,i),i);return iy(i.map,n.attribution),Uf(o.current,n.eventHandlers),sy(o.current,i),o}}function $3(e,t){const n=gt.useRef();gt.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function W3(e){return function(n){const i=Bf(),o=e(Cc(n,i),i);return Uf(o.current,n.eventHandlers),sy(o.current,i),$3(o.current,n),o}}function Z3(e,t){const n=xc(e),i=H3(n,t);return j3(i)}function G3(e,t){const n=xc(e,t),i=W3(n);return U3(i)}function K3(e,t){const n=xc(e,t),i=ay(n);return q3(i)}function Q3(e,t,n){const{opacity:i,zIndex:o}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function X3(e,t,n){t.bounds instanceof ss.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}function Pd(){return Pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pd.apply(this,arguments)}function Y3({bounds:e,boundsOptions:t,center:n,children:i,className:o,id:a,placeholder:u,style:h,whenReady:f,zoom:g,...y},T){const[P]=gt.useState({className:o,id:a,style:h}),[N,F]=gt.useState(null);gt.useImperativeHandle(T,()=>(N==null?void 0:N.map)??null,[N]);const z=gt.useCallback(R=>{if(R!==null&&N===null){const I=new ss.Map(R,y);n!=null&&g!=null?I.setView(n,g):e!=null&&I.fitBounds(e,t),f!=null&&I.whenReady(f),F(F3(I))}},[]);gt.useEffect(()=>()=>{N==null||N.map.remove()},[N]);const $=N?kh.createElement(oy,{value:N},i):u??null;return kh.createElement("div",Pd({},P,{ref:z}),$)}const J3=gt.forwardRef(Y3),t4=G3(function({positions:t,...n},i){const o=new ss.Polygon(t,n);return Ac(o,B3(i,{overlayContainer:o}))},function(t,n,i){n.positions!==i.positions&&t.setLatLngs(n.positions)}),e4=Z3(function(t,n){const i=new ss.Popup(t,n.overlayContainer);return Ac(i,n)},function(t,n,{position:i},o){gt.useEffect(function(){const{instance:u}=t;function h(g){g.popup===u&&(u.update(),o(!0))}function f(g){g.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:f}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var y;n.map.off({popupopen:h,popupclose:f}),(y=n.overlayContainer)==null||y.unbindPopup(),n.map.removeLayer(u)}},[t,n,o,i])}),n4=xc(function(t,n){const{attributes:i,bounds:o,...a}=t,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttribute("xmlns","http://www.w3.org/2000/svg"),i!=null&&Object.keys(i).forEach(f=>{u.setAttribute(f,i[f])});const h=new ss.SVGOverlay(u,o,a);return Ac(h,n,u)},X3),i4=ay(n4);function r4({children:e,...t},n){const{instance:i,container:o}=i4(t).current;return gt.useImperativeHandle(n,()=>i),o==null||e==null?null:Ff.createPortal(e,o)}const o4=gt.forwardRef(r4),s4=K3(function({url:t,...n},i){const o=new ss.TileLayer(t,Cc(n,i));return Ac(o,i)},function(t,n,i){Q3(t,n,i);const{url:o}=n;o!=null&&o!==i.url&&t.setUrl(o)}),a4=[{territory:1,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.833477,-56.266201],[-34.833435,-56.26561],[-34.833499,-56.265205],[-34.833583,-56.264943],[-34.833673,-56.264749],[-34.833743,-56.26469],[-34.834126,-56.26454],[-34.834549,-56.26454],[-34.834831,-56.264591],[-34.834798,-56.264771],[-34.834787,-56.264894],[-34.834679,-56.266791],[-34.833477,-56.266201]]},{territory:1,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834721,-56.266807],[-34.834818,-56.264878],[-34.834831,-56.264784],[-34.834838,-56.264736],[-34.834873,-56.264594],[-34.835119,-56.264634],[-34.836874,-56.265846],[-34.835461,-56.267147],[-34.834721,-56.266807]]},{territory:1,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.835505,-56.267169],[-34.836841,-56.265938],[-34.836916,-56.265868],[-34.837814,-56.266445],[-34.837424,-56.268164],[-34.835505,-56.267169]]},{territory:2,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.833373,-56.268311],[-34.83344,-56.268121],[-34.83351,-56.267265],[-34.833508,-56.266962],[-34.833477,-56.266437],[-34.833484,-56.266254],[-34.834683,-56.266839],[-34.834501,-56.269905],[-34.833373,-56.268311]]},{territory:2,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834536,-56.269948],[-34.834617,-56.2687],[-34.837032,-56.269848],[-34.836914,-56.270337],[-34.836211,-56.272337],[-34.83545,-56.271195],[-34.834536,-56.269948]]},{territory:2,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834617,-56.268644],[-34.834716,-56.266858],[-34.836286,-56.267638],[-34.83578,-56.269199],[-34.834617,-56.268644]]},{territory:2,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.835817,-56.269215],[-34.836324,-56.267657],[-34.837418,-56.268218],[-34.837048,-56.269803],[-34.835817,-56.269215]]},{territory:3,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.831174,-56.26501],[-34.828913,-56.26163],[-34.832674,-56.257381],[-34.83298,-56.257937],[-34.833791,-56.258824],[-34.833313,-56.2595],[-34.832982,-56.259152],[-34.832814,-56.259001],[-34.8327,-56.259012],[-34.832576,-56.259162],[-34.83112,-56.261051],[-34.831318,-56.261241],[-34.831717,-56.261676],[-34.831264,-56.262392],[-34.831053,-56.262993],[-34.830985,-56.263636],[-34.830985,-56.264167],[-34.831174,-56.26501]]},{territory:3,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.831745,-56.261641],[-34.83164,-56.261515],[-34.831398,-56.26126],[-34.831171,-56.261043],[-34.832668,-56.259146],[-34.832696,-56.259109],[-34.832756,-56.259069],[-34.832815,-56.259079],[-34.833293,-56.259533],[-34.831783,-56.261593],[-34.831745,-56.261641]]},{territory:4,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834475,-56.259449],[-34.833848,-56.258819],[-34.834231,-56.258186],[-34.83581,-56.255563],[-34.83586,-56.255512],[-34.83616,-56.256596],[-34.8361,-56.256684],[-34.834517,-56.259374],[-34.834475,-56.259449]]},{territory:4,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.833819,-56.25879],[-34.833088,-56.258001],[-34.833172,-56.257896],[-34.835257,-56.254562],[-34.835358,-56.254359],[-34.835548,-56.254372],[-34.835851,-56.255429],[-34.835847,-56.255461],[-34.835792,-56.255523],[-34.833819,-56.25879]]},{territory:4,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.83306,-56.257972],[-34.832998,-56.257904],[-34.832699,-56.257344],[-34.832606,-56.257102],[-34.833665,-56.255426],[-34.833747,-56.255262],[-34.833817,-56.255099],[-34.833866,-56.254941],[-34.834046,-56.254262],[-34.834099,-56.254281],[-34.834354,-56.254342],[-34.834663,-56.254377],[-34.834874,-56.254383],[-34.835316,-56.254359],[-34.835233,-56.254533],[-34.835098,-56.254748],[-34.834264,-56.256081],[-34.833141,-56.257872],[-34.83306,-56.257972]]},{territory:4,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.832106,-56.255997],[-34.831712,-56.255112],[-34.831712,-56.25508],[-34.831726,-56.255053],[-34.833099,-56.254117],[-34.833154,-56.254069],[-34.83317,-56.254037],[-34.833209,-56.253959],[-34.833806,-56.254144],[-34.834009,-56.254249],[-34.833824,-56.254962],[-34.833744,-56.255179],[-34.833689,-56.255297],[-34.833549,-56.255212],[-34.833438,-56.255166],[-34.833361,-56.255163],[-34.833245,-56.255198],[-34.833117,-56.255262],[-34.832661,-56.255592],[-34.832106,-56.255997]]},{territory:5,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.83793,-56.263081],[-34.837822,-56.263103],[-34.837681,-56.263113],[-34.837595,-56.263049],[-34.836353,-56.2617],[-34.836252,-56.261584],[-34.835838,-56.260903],[-34.835823,-56.260874],[-34.835746,-56.260764],[-34.83682,-56.258991],[-34.83793,-56.263081]]},{territory:5,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.835721,-56.260734],[-34.835618,-56.260627],[-34.835473,-56.260479],[-34.835398,-56.260394],[-34.835145,-56.260139],[-34.836228,-56.258264],[-34.836243,-56.258232],[-34.836256,-56.25821],[-34.836571,-56.258084],[-34.836805,-56.258934],[-34.835721,-56.260734]]},{territory:5,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.835115,-56.260104],[-34.834507,-56.259476],[-34.835712,-56.257424],[-34.835817,-56.257744],[-34.835916,-56.258006],[-34.83604,-56.25825],[-34.836123,-56.258377],[-34.835115,-56.260104]]},{territory:5,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.836145,-56.258334],[-34.836062,-56.258208],[-34.835863,-56.257762],[-34.83574,-56.257376],[-34.83613,-56.256703],[-34.836176,-56.256647],[-34.836561,-56.258036],[-34.836258,-56.258165],[-34.836229,-56.258181],[-34.836198,-56.258237],[-34.836145,-56.258334]]},{territory:6,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.837997,-56.263076],[-34.836865,-56.258913],[-34.838615,-56.256043],[-34.839949,-56.257258],[-34.83963,-56.257789],[-34.839619,-56.257862],[-34.839663,-56.257929],[-34.840616,-56.258798],[-34.83919,-56.260925],[-34.839146,-56.260986],[-34.839047,-56.261174],[-34.838972,-56.261373],[-34.83873,-56.262478],[-34.838695,-56.262539],[-34.838602,-56.262912],[-34.838527,-56.263124],[-34.838439,-56.263269],[-34.838358,-56.263365],[-34.838307,-56.263363],[-34.838259,-56.263376],[-34.83812,-56.263253],[-34.838094,-56.263218],[-34.838052,-56.263137],[-34.837997,-56.263076]]},{territory:6,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.83685,-56.258859],[-34.836548,-56.25776],[-34.836733,-56.257494],[-34.838025,-56.255364],[-34.838098,-56.255198],[-34.838116,-56.254849],[-34.8381,-56.254697],[-34.83803,-56.254511],[-34.837948,-56.254367],[-34.838492,-56.254396],[-34.839571,-56.254412],[-34.839514,-56.254528],[-34.838589,-56.256008],[-34.837807,-56.257306],[-34.837737,-56.257406],[-34.83685,-56.258859]]},{territory:6,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.836535,-56.257701],[-34.836222,-56.256579],[-34.836792,-56.255705],[-34.837589,-56.254351],[-34.837904,-56.254364],[-34.83803,-56.2546],[-34.838063,-56.254699],[-34.83808,-56.254857],[-34.838061,-56.25519],[-34.837999,-56.25534],[-34.837865,-56.255563],[-34.836698,-56.257478],[-34.836535,-56.257701]]},{territory:6,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.836205,-56.256531],[-34.835912,-56.25545],[-34.836427,-56.254487],[-34.836478,-56.254415],[-34.836531,-56.254367],[-34.836579,-56.254364],[-34.837539,-56.254353],[-34.836775,-56.255659],[-34.836205,-56.256531]]},{territory:7,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.82884,-56.261595],[-34.827466,-56.259559],[-34.827332,-56.259331],[-34.824509,-56.255917],[-34.824344,-56.255705],[-34.824032,-56.255327],[-34.824694,-56.254326],[-34.824714,-56.254292],[-34.824818,-56.25419],[-34.825681,-56.252908],[-34.826229,-56.252961],[-34.827548,-56.253034],[-34.829129,-56.25316],[-34.830703,-56.25328],[-34.83082,-56.25328],[-34.830879,-56.253275],[-34.830994,-56.253259],[-34.831207,-56.25339],[-34.831324,-56.253441],[-34.832581,-56.253846],[-34.833169,-56.253951],[-34.833131,-56.254037],[-34.833083,-56.25408],[-34.831709,-56.255018],[-34.831678,-56.255064],[-34.831678,-56.255134],[-34.832559,-56.257089],[-34.832656,-56.257341],[-34.832321,-56.257701],[-34.831511,-56.258623],[-34.830075,-56.260241],[-34.82884,-56.261595]]},{territory:8,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.839558,-56.254528],[-34.839542,-56.254557],[-34.839615,-56.254415],[-34.843469,-56.254495],[-34.841967,-56.256756],[-34.840926,-56.255794],[-34.840675,-56.255533],[-34.840569,-56.255485],[-34.840448,-56.255356],[-34.839558,-56.254528]]},{territory:9,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.835085,-56.275076],[-34.835028,-56.27499],[-34.834999,-56.274896],[-34.834997,-56.274808],[-34.835004,-56.274674],[-34.835131,-56.274016],[-34.835191,-56.273437],[-34.835204,-56.272917],[-34.835136,-56.272064],[-34.834883,-56.270809],[-34.834845,-56.270656],[-34.83479,-56.27035],[-34.836193,-56.272383],[-34.835968,-56.272968],[-34.835411,-56.274432],[-34.835085,-56.275076]]},{territory:9,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.83507,-56.275116],[-34.83503,-56.275071],[-34.834991,-56.274996],[-34.834962,-56.27491],[-34.834958,-56.27481],[-34.834966,-56.274655],[-34.83509,-56.274027],[-34.835151,-56.273429],[-34.835162,-56.272981],[-34.834106,-56.274352],[-34.834918,-56.275433],[-34.83507,-56.275116]]},{territory:9,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834077,-56.274314],[-34.834017,-56.274236],[-34.833467,-56.273587],[-34.834902,-56.271541],[-34.834944,-56.271511],[-34.834991,-56.271506],[-34.835098,-56.272077],[-34.835164,-56.272909],[-34.834077,-56.274314]]},{territory:9,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.833438,-56.27355],[-34.832767,-56.272863],[-34.832851,-56.272764],[-34.833604,-56.271726],[-34.833841,-56.271423],[-34.834685,-56.270213],[-34.834737,-56.270272],[-34.834817,-56.270704],[-34.834982,-56.271455],[-34.834933,-56.271466],[-34.834887,-56.271495],[-34.833438,-56.27355]]},{territory:10,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.832741,-56.272834],[-34.831833,-56.271906],[-34.83267,-56.270736],[-34.832855,-56.270919],[-34.833073,-56.271125],[-34.833231,-56.271321],[-34.833575,-56.271694],[-34.832837,-56.272718],[-34.832741,-56.272834]]},{territory:10,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.831809,-56.271876],[-34.830907,-56.270913],[-34.83116,-56.270543],[-34.831206,-56.270446],[-34.831268,-56.270449],[-34.832437,-56.270345],[-34.832507,-56.270516],[-34.832646,-56.270701],[-34.831809,-56.271876]]},{territory:10,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.83361,-56.271653],[-34.833284,-56.271321],[-34.833091,-56.27109],[-34.832857,-56.270862],[-34.832703,-56.270704],[-34.832994,-56.270296],[-34.834636,-56.270146],[-34.834658,-56.270176],[-34.833799,-56.271417],[-34.83361,-56.271653]]},{territory:11,square:1,color:"red",lastDateDone:"",notes:"No se complet por falta de tiempo",state:"pending",coordinates:[[-34.83138,-56.274735],[-34.831052,-56.274416],[-34.83049,-56.273802],[-34.831809,-56.271943],[-34.832707,-56.272871],[-34.83138,-56.274735]]},{territory:11,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.830465,-56.273742],[-34.82956,-56.272786],[-34.830884,-56.270974],[-34.831781,-56.271894]]},{territory:11,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.82951,-56.272769],[-34.829406,-56.272665],[-34.828655,-56.271809],[-34.829433,-56.270704],[-34.829505,-56.270583],[-34.830434,-56.270505],[-34.830751,-56.270843],[-34.830844,-56.270924],[-34.82951,-56.272769]]},{territory:11,square:4,color:"green",lastDateDone:"17/09/2024",notes:"",state:"pending",coordinates:[[-34.828638,-56.27178],[-34.828389,-56.271535],[-34.827942,-56.271045],[-34.827856,-56.270884],[-34.827858,-56.270771],[-34.827949,-56.270715],[-34.829457,-56.270583],[-34.829371,-56.270725],[-34.828719,-56.27164],[-34.828638,-56.27178]]},{territory:12,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834891,-56.275476],[-34.83405,-56.274349],[-34.833612,-56.273818],[-34.833414,-56.273582],[-34.832749,-56.272898],[-34.831415,-56.274765],[-34.832001,-56.27535],[-34.832058,-56.275446],[-34.832047,-56.275572],[-34.831109,-56.276886],[-34.833397,-56.278584],[-34.834083,-56.277182],[-34.834515,-56.276251],[-34.834891,-56.275476]]},{territory:12,square:2,color:"red",lastDateDone:"",notes:"",state:"completed",coordinates:[[-34.831072,-56.276854],[-34.830341,-56.276296],[-34.831387,-56.274805],[-34.831977,-56.275387],[-34.832021,-56.275465],[-34.83201,-56.275548],[-34.831072,-56.276854]]},{territory:12,square:3,color:"red",lastDateDone:"",notes:"",state:"completed",coordinates:[[-34.830303,-56.276267],[-34.829293,-56.275553],[-34.829341,-56.275435],[-34.830464,-56.273837],[-34.831017,-56.274432],[-34.831353,-56.27477],[-34.830303,-56.276267]]},{territory:12,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.829255,-56.275521],[-34.821933,-56.269945],[-34.827819,-56.270771],[-34.827819,-56.270894],[-34.827876,-56.271029],[-34.827902,-56.271066],[-34.828403,-56.271603],[-34.828634,-56.271833],[-34.829394,-56.272705],[-34.830435,-56.273807],[-34.829313,-56.275403],[-34.829255,-56.275521]]},{territory:13,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.834609,-56.270098],[-34.832458,-56.270296],[-34.828017,-56.270661],[-34.827834,-56.270733],[-34.826103,-56.270492],[-34.823629,-56.262464],[-34.823756,-56.262389],[-34.823921,-56.262276],[-34.827187,-56.259769],[-34.827449,-56.25961],[-34.830527,-56.264092],[-34.830833,-56.26453],[-34.831256,-56.265248],[-34.832942,-56.267695],[-34.833032,-56.267831],[-34.83334,-56.268336],[-34.834609,-56.270098]]},{territory:14,square:1,color:"red",lastDateDone:"",notes:"",state:"completed",coordinates:[[-34.826449,-56.251127],[-34.82646,-56.251194],[-34.82652,-56.251258],[-34.826588,-56.251357],[-34.826616,-56.251446],[-34.824793,-56.254155],[-34.82469,-56.254262],[-34.823979,-56.255332],[-34.827297,-56.259356],[-34.827422,-56.259573],[-34.82718,-56.259715],[-34.823926,-56.262217],[-34.823864,-56.262263],[-34.823714,-56.262373],[-34.823596,-56.262427],[-34.823234,-56.262561],[-34.817252,-56.264623],[-34.816543,-56.261877],[-34.816168,-56.260396],[-34.816111,-56.260222],[-34.815966,-56.259782],[-34.815851,-56.259466],[-34.815739,-56.25917],[-34.815721,-56.259077],[-34.815708,-56.258926],[-34.815721,-56.258774],[-34.815779,-56.258664],[-34.815875,-56.258575],[-34.815992,-56.258511],[-34.817089,-56.258052],[-34.817419,-56.257904],[-34.817912,-56.257634],[-34.818071,-56.25754],[-34.818628,-56.257172],[-34.81902,-56.256907],[-34.819423,-56.256582],[-34.819802,-56.256236],[-34.819852,-56.256156],[-34.820645,-56.255359],[-34.821797,-56.254131],[-34.82244,-56.253463],[-34.823193,-56.252663],[-34.8236,-56.252291],[-34.823825,-56.252108],[-34.824584,-56.25162],[-34.824941,-56.251456],[-34.825564,-56.251247],[-34.826101,-56.251151],[-34.826449,-56.251127]]},{territory:15,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.826071,-56.270492],[-34.82194,-56.269915],[-34.818899,-56.27105],[-34.818798,-56.27079],[-34.818207,-56.268456],[-34.81778,-56.266769],[-34.817247,-56.264664],[-34.823596,-56.262472],[-34.826071,-56.270492]]},{territory:16,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.818941,-56.271104],[-34.8219,-56.269975],[-34.824606,-56.272045],[-34.829226,-56.275556],[-34.833376,-56.27863],[-34.831947,-56.281583],[-34.823083,-56.274923],[-34.82275,-56.274687],[-34.819357,-56.272128],[-34.81926,-56.272026],[-34.818987,-56.271544],[-34.818956,-56.271471],[-34.818998,-56.271415],[-34.819018,-56.271321],[-34.819013,-56.271232],[-34.818983,-56.271152],[-34.818936,-56.271096],[-34.818941,-56.271104]]},{territory:17,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.822629,-56.280159],[-34.820676,-56.278684],[-34.820786,-56.278474],[-34.821237,-56.277528],[-34.822325,-56.275586],[-34.822761,-56.274751],[-34.825181,-56.276559],[-34.822629,-56.280159]]},{territory:18,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.820645,-56.278659],[-34.820568,-56.278606],[-34.820053,-56.276613],[-34.820319,-56.276573],[-34.820394,-56.276562],[-34.82044,-56.276575],[-34.820471,-56.276605],[-34.820522,-56.276707],[-34.820555,-56.276819],[-34.820654,-56.277015],[-34.820744,-56.277125],[-34.8212,-56.277514],[-34.820742,-56.278474],[-34.820645,-56.278659]]},{territory:18,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.821224,-56.277471],[-34.820784,-56.277106],[-34.820689,-56.276999],[-34.820649,-56.276921],[-34.820784,-56.276889],[-34.820872,-56.276811],[-34.821218,-56.276347],[-34.82166,-56.275725],[-34.82172,-56.275647],[-34.821759,-56.275607],[-34.821858,-56.275543],[-34.822067,-56.275451],[-34.822134,-56.275473],[-34.822285,-56.275575],[-34.821224,-56.277471]]},{territory:18,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.820632,-56.276884],[-34.820588,-56.276795],[-34.820542,-56.276656],[-34.820493,-56.276567],[-34.820458,-56.276535],[-34.820405,-56.276519],[-34.820357,-56.276524],[-34.820044,-56.276567],[-34.819819,-56.27572],[-34.820445,-56.27539],[-34.821579,-56.275009],[-34.82162,-56.275001],[-34.821649,-56.275001],[-34.821715,-56.275025],[-34.821975,-56.275127],[-34.822028,-56.275135],[-34.822098,-56.275143],[-34.822191,-56.275132],[-34.822453,-56.275076],[-34.822479,-56.275076],[-34.82253,-56.275103],[-34.822312,-56.275535],[-34.822145,-56.27543],[-34.822116,-56.275417],[-34.822065,-56.275409],[-34.821911,-56.275468],[-34.821781,-56.27554],[-34.821722,-56.275586],[-34.821676,-56.275634],[-34.821149,-56.276371],[-34.820876,-56.276744],[-34.820819,-56.276809],[-34.820771,-56.276841],[-34.820632,-56.276884]]},{territory:18,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.821083,-56.275138],[-34.821039,-56.275038],[-34.821006,-56.274904],[-34.821039,-56.274851],[-34.821235,-56.274647],[-34.821376,-56.274467],[-34.821572,-56.274145],[-34.821691,-56.273933],[-34.82273,-56.274722],[-34.822552,-56.275063],[-34.822488,-56.275036],[-34.822431,-56.275033],[-34.822158,-56.275097],[-34.822065,-56.2751],[-34.821973,-56.275084],[-34.821894,-56.27506],[-34.821682,-56.274969],[-34.821612,-56.274958],[-34.821521,-56.274977],[-34.821083,-56.275138]]},{territory:18,square:5,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.820612,-56.275186],[-34.820172,-56.274564],[-34.820141,-56.274513],[-34.820125,-56.274462],[-34.820136,-56.274422],[-34.820165,-56.274392],[-34.820361,-56.274242],[-34.820427,-56.27418],[-34.820462,-56.274145],[-34.820909,-56.274768],[-34.820931,-56.274805],[-34.820964,-56.274894],[-34.820881,-56.274979],[-34.820612,-56.275186]]},{territory:18,square:6,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.820989,-56.274859],[-34.82098,-56.274821],[-34.820956,-56.274768],[-34.820489,-56.274113],[-34.820623,-56.273864],[-34.820749,-56.273646],[-34.820922,-56.273367],[-34.821658,-56.273912],[-34.821352,-56.274435],[-34.8212,-56.274636],[-34.821033,-56.27481],[-34.820989,-56.274859]]},{territory:18,square:7,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.819335,-56.273872],[-34.818859,-56.272058],[-34.818833,-56.271946],[-34.818824,-56.271863],[-34.818828,-56.271648],[-34.818837,-56.271533],[-34.81887,-56.27153],[-34.818897,-56.271517],[-34.81893,-56.271498],[-34.818978,-56.271608],[-34.819282,-56.272115],[-34.819319,-56.272158],[-34.820489,-56.273037],[-34.820169,-56.273475],[-34.82002,-56.273625],[-34.819934,-56.273665],[-34.819335,-56.273872]]},{territory:19,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.827219,-56.291336],[-34.827056,-56.291239],[-34.823064,-56.288144],[-34.823059,-56.288128],[-34.820589,-56.278667],[-34.822993,-56.280521],[-34.823661,-56.279483],[-34.823678,-56.279456],[-34.823696,-56.279445],[-34.823863,-56.279413],[-34.823898,-56.279397],[-34.823914,-56.279376],[-34.824354,-56.278541],[-34.824398,-56.278397],[-34.824396,-56.278329],[-34.824376,-56.278281],[-34.824169,-56.278056],[-34.825219,-56.276578],[-34.83193,-56.281623],[-34.830499,-56.284584],[-34.828751,-56.288176],[-34.827219,-56.291336]]},{territory:19,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.822665,-56.280207],[-34.823207,-56.279435],[-34.823471,-56.279692],[-34.822987,-56.280462],[-34.822665,-56.280207]]},{territory:19,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.823236,-56.279402],[-34.824143,-56.278088],[-34.824345,-56.278308],[-34.824361,-56.27834],[-34.824361,-56.278391],[-34.824321,-56.278523],[-34.823887,-56.279354],[-34.823861,-56.27937],[-34.823689,-56.279408],[-34.823647,-56.279435],[-34.823495,-56.279657],[-34.823236,-56.279402]]},{territory:20,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.818712,-56.271495],[-34.818531,-56.271801],[-34.818025,-56.272777],[-34.818443,-56.273083],[-34.818465,-56.273088],[-34.818487,-56.273094],[-34.818522,-56.273088],[-34.819033,-56.272895],[-34.818804,-56.272005],[-34.818791,-56.271881],[-34.818791,-56.271828],[-34.818795,-56.271544],[-34.818765,-56.271533],[-34.818734,-56.271511],[-34.818712,-56.271495]]},{territory:20,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.816601,-56.275569],[-34.817991,-56.272828],[-34.818396,-56.273115],[-34.818431,-56.273134],[-34.818473,-56.273147],[-34.818519,-56.273147],[-34.818545,-56.273139],[-34.819054,-56.272946],[-34.820523,-56.278568],[-34.816601,-56.275569]]},{territory:21,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.815315,-56.278075],[-34.816585,-56.275626],[-34.820535,-56.278635],[-34.821631,-56.282879],[-34.821513,-56.282798],[-34.815315,-56.278075]]},{territory:22,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.816518,-56.289439],[-34.811432,-56.285738],[-34.813902,-56.28091],[-34.815294,-56.278131],[-34.821583,-56.282927],[-34.821351,-56.283015],[-34.81999,-56.283533],[-34.819492,-56.283745],[-34.819431,-56.283796],[-34.81934,-56.283879],[-34.819274,-56.283965],[-34.819213,-56.28408],[-34.818922,-56.284646],[-34.816518,-56.289439]]},{territory:23,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.818918,-56.284845],[-34.823011,-56.288106],[-34.821868,-56.283691],[-34.821763,-56.283579],[-34.821619,-56.283455],[-34.821507,-56.283394],[-34.821428,-56.283348],[-34.82139,-56.28331],[-34.821362,-56.283219],[-34.821342,-56.283125],[-34.821338,-56.283069],[-34.820252,-56.283479],[-34.819858,-56.283638],[-34.819506,-56.283782],[-34.819358,-56.283917],[-34.819303,-56.283986],[-34.819243,-56.284099],[-34.818959,-56.284654],[-34.818922,-56.284743],[-34.818913,-56.284842],[-34.818918,-56.284845]]},{territory:24,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.816553,-56.289487],[-34.818869,-56.284855],[-34.819697,-56.285518],[-34.818537,-56.287859],[-34.817414,-56.29012],[-34.816553,-56.289487]]},{territory:24,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.819092,-56.291354],[-34.819025,-56.291298],[-34.81886,-56.291199],[-34.818567,-56.290973],[-34.818383,-56.290847],[-34.817444,-56.290147],[-34.819728,-56.285545],[-34.821357,-56.286843],[-34.819092,-56.291354]]},{territory:24,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.820794,-56.292599],[-34.819125,-56.291384],[-34.81921,-56.291226],[-34.819561,-56.290531],[-34.82139,-56.286867],[-34.82302,-56.28816],[-34.820794,-56.292599]]},{territory:25,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.825034,-56.295737],[-34.824715,-56.295474],[-34.820827,-56.29262],[-34.82304,-56.288208],[-34.824927,-56.295391],[-34.824957,-56.295504],[-34.825001,-56.295646],[-34.825034,-56.295737]]},{territory:25,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.825074,-56.295729],[-34.825023,-56.295579],[-34.824975,-56.295412],[-34.823077,-56.288208],[-34.827001,-56.291255],[-34.827034,-56.291277],[-34.827199,-56.291376],[-34.825074,-56.295729]]},{territory:26,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.824711,-56.295525],[-34.824592,-56.29563],[-34.821969,-56.297145],[-34.821771,-56.297282],[-34.823667,-56.298655],[-34.825041,-56.295796],[-34.824711,-56.295525]]},{territory:26,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.821737,-56.297325],[-34.818227,-56.299347],[-34.818285,-56.299438],[-34.819095,-56.300066],[-34.818729,-56.300796],[-34.821548,-56.302888],[-34.823626,-56.298698],[-34.821737,-56.297325]]},{territory:27,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.820906,-56.302475],[-34.820518,-56.303253],[-34.820472,-56.303287],[-34.820408,-56.303279],[-34.818874,-56.30215],[-34.819296,-56.301295],[-34.820906,-56.302475]]},{territory:27,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.819259,-56.301273],[-34.818843,-56.302126],[-34.816561,-56.300423],[-34.816504,-56.300342],[-34.817381,-56.299817],[-34.81742,-56.299865],[-34.817574,-56.300015],[-34.819259,-56.301273]]},{territory:27,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.819023,-56.300088],[-34.818682,-56.30078],[-34.817612,-56.299986],[-34.817438,-56.299825],[-34.81742,-56.299793],[-34.817724,-56.299599],[-34.818171,-56.299369],[-34.81825,-56.299479],[-34.819023,-56.300088]]},{territory:28,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.821527,-56.302939],[-34.820943,-56.302499],[-34.820547,-56.303285],[-34.820481,-56.30333],[-34.820402,-56.303328],[-34.816555,-56.300468],[-34.816535,-56.30045],[-34.816469,-56.300364],[-34.812298,-56.302767],[-34.812173,-56.302823],[-34.819048,-56.307823],[-34.820733,-56.304433],[-34.821138,-56.30365],[-34.821527,-56.302939]]},{territory:28,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.819032,-56.307869],[-34.818515,-56.308861],[-34.818363,-56.309137],[-34.818202,-56.309451],[-34.816837,-56.312149],[-34.816238,-56.313335],[-34.815553,-56.314695],[-34.815002,-56.315773],[-34.814199,-56.317366],[-34.813551,-56.318657],[-34.813285,-56.319158],[-34.812946,-56.319834],[-34.812699,-56.320395],[-34.812523,-56.3208],[-34.812234,-56.321382],[-34.803574,-56.31499],[-34.803741,-56.314738],[-34.804834,-56.312699],[-34.807032,-56.308563],[-34.807978,-56.306804],[-34.80852,-56.30579],[-34.809163,-56.30491],[-34.810141,-56.303934],[-34.810855,-56.303467],[-34.811326,-56.303177],[-34.812035,-56.302791],[-34.819032,-56.307869]]},{territory:29,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.824673,-56.295501],[-34.824572,-56.295592],[-34.822,-56.297081],[-34.821921,-56.297124],[-34.821716,-56.297269],[-34.818209,-56.299299],[-34.817706,-56.299562],[-34.817343,-56.299787],[-34.816447,-56.300321],[-34.812283,-56.302724],[-34.812124,-56.302791],[-34.804511,-56.297215],[-34.805484,-56.295289],[-34.805839,-56.294589],[-34.806002,-56.294332],[-34.806273,-56.294026],[-34.807006,-56.293264],[-34.807114,-56.293146],[-34.807253,-56.29299],[-34.807374,-56.292819],[-34.809821,-56.288927],[-34.811391,-56.285781],[-34.824673,-56.295501]]},{territory:29,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.81199,-56.302746],[-34.811096,-56.30325],[-34.810186,-56.303832],[-34.809812,-56.304138],[-34.809554,-56.304384],[-34.809096,-56.304894],[-34.808735,-56.305374],[-34.808455,-56.305803],[-34.803707,-56.314692],[-34.803518,-56.314979],[-34.797694,-56.310733],[-34.79782,-56.310546],[-34.798069,-56.310012],[-34.802079,-56.302115],[-34.80306,-56.300104],[-34.803985,-56.298264],[-34.804487,-56.297252],[-34.81199,-56.302746]]},{territory:30,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.817048,-56.264707],[-34.815978,-56.260469],[-34.815696,-56.259439],[-34.81561,-56.259181],[-34.815513,-56.259018],[-34.815445,-56.258932],[-34.815238,-56.258908],[-34.814976,-56.2589],[-34.81485,-56.258918],[-34.813987,-56.259229],[-34.813406,-56.259447],[-34.812243,-56.259879],[-34.812131,-56.259892],[-34.811783,-56.260058],[-34.807321,-56.261786],[-34.804656,-56.262791],[-34.802923,-56.263446],[-34.801621,-56.263953],[-34.801562,-56.26399],[-34.801432,-56.264133],[-34.801386,-56.264213],[-34.801383,-56.264237],[-34.801359,-56.264299],[-34.801282,-56.264361],[-34.800677,-56.264613],[-34.800604,-56.264661],[-34.800498,-56.264811],[-34.800428,-56.264951],[-34.800157,-56.265584],[-34.805702,-56.268738],[-34.817048,-56.264707]]},{territory:31,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.817061,-56.264752],[-34.808788,-56.2677],[-34.809162,-56.26862],[-34.80927,-56.268944],[-34.810424,-56.273249],[-34.810565,-56.273979],[-34.810565,-56.274118],[-34.810563,-56.274145],[-34.810567,-56.274185],[-34.810565,-56.274271],[-34.810541,-56.274403],[-34.809367,-56.27889],[-34.813864,-56.280872],[-34.818488,-56.271774],[-34.818673,-56.271452],[-34.818647,-56.271391],[-34.818631,-56.271291],[-34.81864,-56.271216],[-34.818662,-56.27116],[-34.818651,-56.271039],[-34.818563,-56.270661],[-34.817061,-56.264752]]},{territory:31,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.808748,-56.267713],[-34.809127,-56.268633],[-34.80923,-56.268947],[-34.810384,-56.273263],[-34.810528,-56.27399],[-34.810523,-56.27414],[-34.810532,-56.274199],[-34.81051,-56.274371],[-34.80933,-56.278871],[-34.805784,-56.277294],[-34.80404,-56.276514],[-34.80404,-56.27643],[-34.80454,-56.274183],[-34.80459,-56.273984],[-34.805722,-56.268786],[-34.808748,-56.267713]]},{territory:31,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.80568,-56.268781],[-34.803991,-56.276495],[-34.796697,-56.273274],[-34.800139,-56.265624],[-34.80568,-56.268781]]},{territory:32,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.796681,-56.273314],[-34.803974,-56.276535],[-34.802209,-56.280333],[-34.802126,-56.280556],[-34.798811,-56.287926],[-34.798765,-56.288069],[-34.797674,-56.290445],[-34.797586,-56.290652],[-34.796789,-56.292419],[-34.790091,-56.288007],[-34.790282,-56.287693],[-34.790518,-56.287202],[-34.796681,-56.273314]]},{territory:32,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.809803,-56.288884],[-34.80598,-56.286282],[-34.801069,-56.283085],[-34.802168,-56.280561],[-34.802247,-56.280341],[-34.804015,-56.276551],[-34.81384,-56.280918],[-34.809803,-56.288884]]},{territory:32,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.809779,-56.288919],[-34.807356,-56.292779],[-34.807218,-56.292969],[-34.807017,-56.2932],[-34.806233,-56.29401],[-34.805978,-56.294297],[-34.805808,-56.294573],[-34.804366,-56.297395],[-34.801782,-56.295683],[-34.801859,-56.295485],[-34.803335,-56.292194],[-34.803467,-56.291928],[-34.804181,-56.290354],[-34.804361,-56.289992],[-34.804612,-56.28941],[-34.80602,-56.286368],[-34.809779,-56.288919]]},{territory:32,square:4,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.805987,-56.286341],[-34.804553,-56.28945],[-34.804315,-56.29],[-34.804141,-56.290354],[-34.803432,-56.291918],[-34.803295,-56.292183],[-34.801824,-56.295471],[-34.801747,-56.295665],[-34.796822,-56.292438],[-34.797617,-56.290673],[-34.797741,-56.290389],[-34.7988,-56.288077],[-34.798844,-56.28794],[-34.799622,-56.28629],[-34.801044,-56.283125],[-34.805987,-56.286341]]},{territory:33,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.790041,-56.288082],[-34.785556,-56.292121],[-34.785332,-56.292293],[-34.788636,-56.297309],[-34.788697,-56.297067],[-34.790063,-56.288141],[-34.790041,-56.288082]]},{territory:33,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.790103,-56.288082],[-34.79012,-56.288152],[-34.788742,-56.297132],[-34.788689,-56.2974],[-34.792175,-56.302668],[-34.796769,-56.292462],[-34.790459,-56.288299],[-34.790103,-56.288082]]},{territory:33,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.796804,-56.292478],[-34.798144,-56.293336],[-34.799108,-56.293953],[-34.799397,-56.294133],[-34.804341,-56.29744],[-34.803035,-56.300077],[-34.802782,-56.300629],[-34.801403,-56.303344],[-34.799743,-56.306627],[-34.798375,-56.30933],[-34.798016,-56.310041],[-34.797787,-56.310524],[-34.797659,-56.310706],[-34.797523,-56.310623],[-34.79745,-56.310567],[-34.797313,-56.310425],[-34.797181,-56.310242],[-34.792199,-56.302708],[-34.793437,-56.299951],[-34.794465,-56.297676],[-34.79523,-56.295962],[-34.796802,-56.292481],[-34.798,-56.293245],[-34.799212,-56.29402],[-34.799421,-56.294146],[-34.801731,-56.295702],[-34.796804,-56.292478]]},{territory:34,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.796221,-56.308907],[-34.796779,-56.320456],[-34.79788,-56.321336],[-34.801573,-56.324163],[-34.801602,-56.3239],[-34.801705,-56.323391],[-34.801754,-56.32323],[-34.803857,-56.315518],[-34.803885,-56.315355],[-34.797916,-56.311026],[-34.797607,-56.3108],[-34.797431,-56.310704],[-34.797211,-56.310457],[-34.796221,-56.308907]]},{territory:34,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.801613,-56.324193],[-34.801639,-56.323916],[-34.801745,-56.323399],[-34.801793,-56.32324],[-34.803894,-56.315548],[-34.803925,-56.315371],[-34.812201,-56.321449],[-34.810464,-56.324855],[-34.808317,-56.329117],[-34.801613,-56.324193]]},{territory:35,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.801608,-56.324246],[-34.801535,-56.324842],[-34.801487,-56.325343],[-34.801465,-56.32566],[-34.801333,-56.326641],[-34.801291,-56.327065],[-34.80111,-56.328956],[-34.801042,-56.329793],[-34.801031,-56.329884],[-34.800934,-56.330673],[-34.800868,-56.331279],[-34.800855,-56.33148],[-34.800842,-56.33199],[-34.805042,-56.335096],[-34.805156,-56.335187],[-34.805224,-56.335227],[-34.806551,-56.332574],[-34.808274,-56.329168],[-34.801608,-56.324246]]},{territory:35,square:2,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.800837,-56.332043],[-34.800811,-56.332349],[-34.800776,-56.332703],[-34.800729,-56.333079],[-34.800701,-56.333368],[-34.800602,-56.333897],[-34.80054,-56.334111],[-34.800487,-56.33428],[-34.800022,-56.335541],[-34.800661,-56.336026],[-34.801599,-56.336735],[-34.803612,-56.338271],[-34.804388,-56.33685],[-34.805202,-56.33527],[-34.805134,-56.335225],[-34.800947,-56.332127],[-34.800837,-56.332043]]},{territory:35,square:3,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.799993,-56.335589],[-34.799283,-56.337472],[-34.79835,-56.340122],[-34.797526,-56.342327],[-34.797367,-56.342617],[-34.797094,-56.34303],[-34.796874,-56.343282],[-34.796561,-56.343582],[-34.796262,-56.343797],[-34.79131,-56.347037],[-34.791134,-56.347144],[-34.791002,-56.347348],[-34.792601,-56.350819],[-34.798147,-56.347042],[-34.798455,-56.34679],[-34.798847,-56.346356],[-34.799125,-56.345916],[-34.801684,-56.34156],[-34.803583,-56.338309],[-34.799993,-56.335589]]},{territory:36,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.838634,-56.256014],[-34.840215,-56.257457],[-34.84023,-56.257475],[-34.840261,-56.257481],[-34.840292,-56.257459],[-34.840514,-56.2571],[-34.840342,-56.256942],[-34.840316,-56.256896],[-34.840309,-56.256837],[-34.840318,-56.256778],[-34.840351,-56.256706],[-34.84045,-56.256555],[-34.840166,-56.256274],[-34.840149,-56.256301],[-34.84012,-56.256309],[-34.84008,-56.256279],[-34.839671,-56.255858],[-34.839671,-56.255845],[-34.839726,-56.255759],[-34.839154,-56.25519],[-34.838634,-56.256014]]},{territory:37,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.839171,-56.255163],[-34.839746,-56.255748],[-34.83975,-56.255764],[-34.839695,-56.25585],[-34.840094,-56.25626],[-34.840116,-56.256276],[-34.840138,-56.256271],[-34.840157,-56.256242],[-34.840171,-56.256239],[-34.840468,-56.256534],[-34.840913,-56.255818],[-34.840906,-56.255799],[-34.840668,-56.255558],[-34.840567,-56.255509],[-34.840292,-56.255222],[-34.839552,-56.254552],[-34.839171,-56.255163]]},{territory:38,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.839975,-56.257271],[-34.839649,-56.257803],[-34.839647,-56.257851],[-34.839682,-56.257904],[-34.840345,-56.258505],[-34.840637,-56.258768],[-34.841181,-56.257955],[-34.841075,-56.25784],[-34.841056,-56.257789],[-34.841051,-56.257722],[-34.841078,-56.257628],[-34.840538,-56.257119],[-34.840307,-56.257483],[-34.840268,-56.257516],[-34.840219,-56.257499],[-34.839975,-56.257271]]},{territory:39,square:1,color:"red",lastDateDone:"",notes:"",state:"pending",coordinates:[[-34.840921,-56.255853],[-34.840371,-56.256724],[-34.840345,-56.256789],[-34.840334,-56.25684],[-34.840336,-56.256891],[-34.840358,-56.25692],[-34.841097,-56.257599],[-34.841348,-56.257207],[-34.841403,-56.257137],[-34.841469,-56.257135],[-34.841566,-56.257156],[-34.841661,-56.257215],[-34.841943,-56.256794],[-34.840921,-56.255853]]}];var Km={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},l4=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[n++];t[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=e[n++],u=e[n++],h=e[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const a=e[n++],u=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return t.join("")},uy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const a=e[o],u=o+1<e.length,h=u?e[o+1]:0,f=o+2<e.length,g=f?e[o+2]:0,y=a>>2,T=(a&3)<<4|h>>4;let P=(h&15)<<2|g>>6,N=g&63;f||(N=64,u||(P=64)),i.push(n[y],n[T],n[P],n[N])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ly(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const a=n[e.charAt(o++)],h=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const T=o<e.length?n[e.charAt(o)]:64;if(++o,a==null||h==null||g==null||T==null)throw new u4;const P=a<<2|h>>4;if(i.push(P),g!==64){const N=h<<4&240|g>>2;if(i.push(N),T!==64){const F=g<<6&192|T;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class u4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c4=function(e){const t=ly(e);return uy.encodeByteArray(t,!0)},Yu=function(e){return c4(e).replace(/\./g,"")},h4=function(e){try{return uy.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=()=>d4().__FIREBASE_DEFAULTS__,p4=()=>{if(typeof process>"u"||typeof Km>"u")return;const e=Km.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},m4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&h4(e[1]);return t&&JSON.parse(t)},jf=()=>{try{return f4()||p4()||m4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_4=e=>{var t,n;return(n=(t=jf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},g4=e=>{const t=_4(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},cy=()=>{var e;return(e=jf())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E4(){var e;const t=(e=jf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T4(){return!E4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P4(){try{return typeof indexedDB=="object"}catch{return!1}}function S4(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;t(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class as extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=I4,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hy.prototype.create)}}class hy{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,a=this.errors[t],u=a?C4(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new as(o,h,i)}}function C4(e,t){return e.replace(A4,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const A4=/\{\$([^}]+)}/g;function Sd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const a=e[o],u=t[o];if(Qm(a)&&Qm(u)){if(!Sd(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Qm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e){return e&&e._delegate?e._delegate:e}class Ua{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new v4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(R4(t))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(t=Er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Er){return this.instances.has(t)}getOptions(t=Er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&t(u,o),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:k4(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Er){return this.component?this.component.multipleInstances?t:Er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k4(e){return e===Er?void 0:e}function R4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(At||(At={}));const D4={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},M4=At.INFO,N4={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},O4=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=N4[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dy{constructor(t){this.name=t,this._logLevel=M4,this._logHandler=O4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in At))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...t),this._logHandler(this,At.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...t),this._logHandler(this,At.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,At.INFO,...t),this._logHandler(this,At.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,At.WARN,...t),this._logHandler(this,At.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...t),this._logHandler(this,At.ERROR,...t)}}const V4=(e,t)=>t.some(n=>e instanceof n);let Xm,Ym;function b4(){return Xm||(Xm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return Ym||(Ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fy=new WeakMap,Id=new WeakMap,py=new WeakMap,Eh=new WeakMap,qf=new WeakMap;function F4(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",a),e.removeEventListener("error",u)},a=()=>{n(Zi(e.result)),o()},u=()=>{i(e.error),o()};e.addEventListener("success",a),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&fy.set(n,e)}).catch(()=>{}),qf.set(t,e),t}function B4(e){if(Id.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",u),e.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",a),e.addEventListener("error",u),e.addEventListener("abort",u)});Id.set(e,t)}let Cd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Id.get(e);if(t==="objectStoreNames")return e.objectStoreNames||py.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function U4(e){Cd=e(Cd)}function j4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Th(this),t,...n);return py.set(i,t.sort?t.sort():[t]),Zi(i)}:z4().includes(e)?function(...t){return e.apply(Th(this),t),Zi(fy.get(this))}:function(...t){return Zi(e.apply(Th(this),t))}}function q4(e){return typeof e=="function"?j4(e):(e instanceof IDBTransaction&&B4(e),V4(e,b4())?new Proxy(e,Cd):e)}function Zi(e){if(e instanceof IDBRequest)return F4(e);if(Eh.has(e))return Eh.get(e);const t=q4(e);return t!==e&&(Eh.set(e,t),qf.set(t,e)),t}const Th=e=>qf.get(e);function H4(e,t,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(e,t),h=Zi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Zi(u.result),f.oldVersion,f.newVersion,Zi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const $4=["get","getKey","getAll","getAllKeys","count"],W4=["put","add","delete","clear"],Ph=new Map;function Jm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ph.get(t))return Ph.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=W4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||$4.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),o&&f.done]))[0]};return Ph.set(t,a),a}U4(e=>({...e,get:(t,n,i)=>Jm(t,n)||e.get(t,n,i),has:(t,n)=>!!Jm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function G4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ad="@firebase/app",t_="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new dy("@firebase/app"),K4="@firebase/app-compat",Q4="@firebase/analytics-compat",X4="@firebase/analytics",Y4="@firebase/app-check-compat",J4="@firebase/app-check",t5="@firebase/auth",e5="@firebase/auth-compat",n5="@firebase/database",i5="@firebase/database-compat",r5="@firebase/functions",o5="@firebase/functions-compat",s5="@firebase/installations",a5="@firebase/installations-compat",l5="@firebase/messaging",u5="@firebase/messaging-compat",c5="@firebase/performance",h5="@firebase/performance-compat",d5="@firebase/remote-config",f5="@firebase/remote-config-compat",p5="@firebase/storage",m5="@firebase/storage-compat",_5="@firebase/firestore",g5="@firebase/vertexai-preview",v5="@firebase/firestore-compat",y5="firebase",w5="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",E5={[Ad]:"fire-core",[K4]:"fire-core-compat",[X4]:"fire-analytics",[Q4]:"fire-analytics-compat",[J4]:"fire-app-check",[Y4]:"fire-app-check-compat",[t5]:"fire-auth",[e5]:"fire-auth-compat",[n5]:"fire-rtdb",[i5]:"fire-rtdb-compat",[r5]:"fire-fn",[o5]:"fire-fn-compat",[s5]:"fire-iid",[a5]:"fire-iid-compat",[l5]:"fire-fcm",[u5]:"fire-fcm-compat",[c5]:"fire-perf",[h5]:"fire-perf-compat",[d5]:"fire-rc",[f5]:"fire-rc-compat",[p5]:"fire-gcs",[m5]:"fire-gcs-compat",[_5]:"fire-fst",[v5]:"fire-fst-compat",[g5]:"fire-vertex","fire-js":"fire-js",[y5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,T5=new Map,kd=new Map;function e_(e,t){try{e.container.addComponent(t)}catch(n){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function tc(e){const t=e.name;if(kd.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;kd.set(t,e);for(const n of Ju.values())e_(n,e);for(const n of T5.values())e_(n,e);return!0}function P5(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new hy("app","Firebase",S5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=w5;function my(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=cy()),!n)throw Gi.create("no-options");const a=Ju.get(o);if(a){if(Sd(n,a.options)&&Sd(i,a.config))return a;throw Gi.create("duplicate-app",{appName:o})}const u=new L4(o);for(const f of kd.values())u.addComponent(f);const h=new I5(n,i,u);return Ju.set(o,h),h}function A5(e=xd){const t=Ju.get(e);if(!t&&e===xd&&cy())return my();if(!t)throw Gi.create("no-app",{appName:e});return t}function Uo(e,t,n){var i;let o=(i=E5[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${t}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(h.join(" "));return}tc(new Ua(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="firebase-heartbeat-database",k5=1,ja="firebase-heartbeat-store";let Sh=null;function _y(){return Sh||(Sh=H4(x5,k5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(e=>{throw Gi.create("idb-open",{originalErrorMessage:e.message})})),Sh}async function R5(e){try{const n=(await _y()).transaction(ja),i=await n.objectStore(ja).get(gy(e));return await n.done,i}catch(t){if(t instanceof as)_i.warn(t.message);else{const n=Gi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_i.warn(n.message)}}}async function n_(e,t){try{const i=(await _y()).transaction(ja,"readwrite");await i.objectStore(ja).put(t,gy(e)),await i.done}catch(n){if(n instanceof as)_i.warn(n.message);else{const i=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(i.message)}}}function gy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=1024,D5=30*24*60*60*1e3;class M5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=D5}),this._storage.overwrite(this._heartbeatsCache))}catch(i){_i.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:i,unsentEntries:o}=N5(this._heartbeatsCache.heartbeats),a=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return _i.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function N5(e,t=L5){const n=[];let i=e.slice();for(const o of e){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),r_(n)>t){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),r_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class O5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P4()?S4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function r_(e){return Yu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(e){tc(new Ua("platform-logger",t=>new Z4(t),"PRIVATE")),tc(new Ua("heartbeat",t=>new M5(t),"PRIVATE")),Uo(Ad,t_,e),Uo(Ad,t_,"esm2017"),Uo("fire-js","")}V5("");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,vy;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,E){function S(){}S.prototype=E.prototype,C.D=E.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(k,D,O){for(var x=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)x[Qt-2]=arguments[Qt];return E.prototype[D].apply(k,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,E,S){S||(S=0);var k=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)k[D]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(D=0;16>D;++D)k[D]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=C.g[0],S=C.g[1],D=C.g[2];var O=C.g[3],x=E+(O^S&(D^O))+k[0]+3614090360&4294967295;E=S+(x<<7&4294967295|x>>>25),x=O+(D^E&(S^D))+k[1]+3905402710&4294967295,O=E+(x<<12&4294967295|x>>>20),x=D+(S^O&(E^S))+k[2]+606105819&4294967295,D=O+(x<<17&4294967295|x>>>15),x=S+(E^D&(O^E))+k[3]+3250441966&4294967295,S=D+(x<<22&4294967295|x>>>10),x=E+(O^S&(D^O))+k[4]+4118548399&4294967295,E=S+(x<<7&4294967295|x>>>25),x=O+(D^E&(S^D))+k[5]+1200080426&4294967295,O=E+(x<<12&4294967295|x>>>20),x=D+(S^O&(E^S))+k[6]+2821735955&4294967295,D=O+(x<<17&4294967295|x>>>15),x=S+(E^D&(O^E))+k[7]+4249261313&4294967295,S=D+(x<<22&4294967295|x>>>10),x=E+(O^S&(D^O))+k[8]+1770035416&4294967295,E=S+(x<<7&4294967295|x>>>25),x=O+(D^E&(S^D))+k[9]+2336552879&4294967295,O=E+(x<<12&4294967295|x>>>20),x=D+(S^O&(E^S))+k[10]+4294925233&4294967295,D=O+(x<<17&4294967295|x>>>15),x=S+(E^D&(O^E))+k[11]+2304563134&4294967295,S=D+(x<<22&4294967295|x>>>10),x=E+(O^S&(D^O))+k[12]+1804603682&4294967295,E=S+(x<<7&4294967295|x>>>25),x=O+(D^E&(S^D))+k[13]+4254626195&4294967295,O=E+(x<<12&4294967295|x>>>20),x=D+(S^O&(E^S))+k[14]+2792965006&4294967295,D=O+(x<<17&4294967295|x>>>15),x=S+(E^D&(O^E))+k[15]+1236535329&4294967295,S=D+(x<<22&4294967295|x>>>10),x=E+(D^O&(S^D))+k[1]+4129170786&4294967295,E=S+(x<<5&4294967295|x>>>27),x=O+(S^D&(E^S))+k[6]+3225465664&4294967295,O=E+(x<<9&4294967295|x>>>23),x=D+(E^S&(O^E))+k[11]+643717713&4294967295,D=O+(x<<14&4294967295|x>>>18),x=S+(O^E&(D^O))+k[0]+3921069994&4294967295,S=D+(x<<20&4294967295|x>>>12),x=E+(D^O&(S^D))+k[5]+3593408605&4294967295,E=S+(x<<5&4294967295|x>>>27),x=O+(S^D&(E^S))+k[10]+38016083&4294967295,O=E+(x<<9&4294967295|x>>>23),x=D+(E^S&(O^E))+k[15]+3634488961&4294967295,D=O+(x<<14&4294967295|x>>>18),x=S+(O^E&(D^O))+k[4]+3889429448&4294967295,S=D+(x<<20&4294967295|x>>>12),x=E+(D^O&(S^D))+k[9]+568446438&4294967295,E=S+(x<<5&4294967295|x>>>27),x=O+(S^D&(E^S))+k[14]+3275163606&4294967295,O=E+(x<<9&4294967295|x>>>23),x=D+(E^S&(O^E))+k[3]+4107603335&4294967295,D=O+(x<<14&4294967295|x>>>18),x=S+(O^E&(D^O))+k[8]+1163531501&4294967295,S=D+(x<<20&4294967295|x>>>12),x=E+(D^O&(S^D))+k[13]+2850285829&4294967295,E=S+(x<<5&4294967295|x>>>27),x=O+(S^D&(E^S))+k[2]+4243563512&4294967295,O=E+(x<<9&4294967295|x>>>23),x=D+(E^S&(O^E))+k[7]+1735328473&4294967295,D=O+(x<<14&4294967295|x>>>18),x=S+(O^E&(D^O))+k[12]+2368359562&4294967295,S=D+(x<<20&4294967295|x>>>12),x=E+(S^D^O)+k[5]+4294588738&4294967295,E=S+(x<<4&4294967295|x>>>28),x=O+(E^S^D)+k[8]+2272392833&4294967295,O=E+(x<<11&4294967295|x>>>21),x=D+(O^E^S)+k[11]+1839030562&4294967295,D=O+(x<<16&4294967295|x>>>16),x=S+(D^O^E)+k[14]+4259657740&4294967295,S=D+(x<<23&4294967295|x>>>9),x=E+(S^D^O)+k[1]+2763975236&4294967295,E=S+(x<<4&4294967295|x>>>28),x=O+(E^S^D)+k[4]+1272893353&4294967295,O=E+(x<<11&4294967295|x>>>21),x=D+(O^E^S)+k[7]+4139469664&4294967295,D=O+(x<<16&4294967295|x>>>16),x=S+(D^O^E)+k[10]+3200236656&4294967295,S=D+(x<<23&4294967295|x>>>9),x=E+(S^D^O)+k[13]+681279174&4294967295,E=S+(x<<4&4294967295|x>>>28),x=O+(E^S^D)+k[0]+3936430074&4294967295,O=E+(x<<11&4294967295|x>>>21),x=D+(O^E^S)+k[3]+3572445317&4294967295,D=O+(x<<16&4294967295|x>>>16),x=S+(D^O^E)+k[6]+76029189&4294967295,S=D+(x<<23&4294967295|x>>>9),x=E+(S^D^O)+k[9]+3654602809&4294967295,E=S+(x<<4&4294967295|x>>>28),x=O+(E^S^D)+k[12]+3873151461&4294967295,O=E+(x<<11&4294967295|x>>>21),x=D+(O^E^S)+k[15]+530742520&4294967295,D=O+(x<<16&4294967295|x>>>16),x=S+(D^O^E)+k[2]+3299628645&4294967295,S=D+(x<<23&4294967295|x>>>9),x=E+(D^(S|~O))+k[0]+4096336452&4294967295,E=S+(x<<6&4294967295|x>>>26),x=O+(S^(E|~D))+k[7]+1126891415&4294967295,O=E+(x<<10&4294967295|x>>>22),x=D+(E^(O|~S))+k[14]+2878612391&4294967295,D=O+(x<<15&4294967295|x>>>17),x=S+(O^(D|~E))+k[5]+4237533241&4294967295,S=D+(x<<21&4294967295|x>>>11),x=E+(D^(S|~O))+k[12]+1700485571&4294967295,E=S+(x<<6&4294967295|x>>>26),x=O+(S^(E|~D))+k[3]+2399980690&4294967295,O=E+(x<<10&4294967295|x>>>22),x=D+(E^(O|~S))+k[10]+4293915773&4294967295,D=O+(x<<15&4294967295|x>>>17),x=S+(O^(D|~E))+k[1]+2240044497&4294967295,S=D+(x<<21&4294967295|x>>>11),x=E+(D^(S|~O))+k[8]+1873313359&4294967295,E=S+(x<<6&4294967295|x>>>26),x=O+(S^(E|~D))+k[15]+4264355552&4294967295,O=E+(x<<10&4294967295|x>>>22),x=D+(E^(O|~S))+k[6]+2734768916&4294967295,D=O+(x<<15&4294967295|x>>>17),x=S+(O^(D|~E))+k[13]+1309151649&4294967295,S=D+(x<<21&4294967295|x>>>11),x=E+(D^(S|~O))+k[4]+4149444226&4294967295,E=S+(x<<6&4294967295|x>>>26),x=O+(S^(E|~D))+k[11]+3174756917&4294967295,O=E+(x<<10&4294967295|x>>>22),x=D+(E^(O|~S))+k[2]+718787259&4294967295,D=O+(x<<15&4294967295|x>>>17),x=S+(O^(D|~E))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+O&4294967295}i.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var S=E-this.blockSize,k=this.B,D=this.h,O=0;O<E;){if(D==0)for(;O<=S;)o(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<E;)if(k[D++]=C.charCodeAt(O++),D==this.blockSize){o(this,k),D=0;break}}else for(;O<E;)if(k[D++]=C[O++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=E},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var S=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=S&255,S/=256;for(this.u(C),C=Array(16),E=S=0;4>E;++E)for(var k=0;32>k;k+=8)C[S++]=this.g[E]>>>k&255;return C};function a(C,E){var S=h;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=E(C)}function u(C,E){this.h=E;for(var S=[],k=!0,D=C.length-1;0<=D;D--){var O=C[D]|0;k&&O==E||(S[D]=O,k=!1)}this.g=S}var h={};function f(C){return-128<=C&&128>C?a(C,function(E){return new u([E|0],0>E?-1:0)}):new u([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return $(g(-C));for(var E=[],S=1,k=0;C>=S;k++)E[k]=C/S|0,S*=4294967296;return new u(E,0)}function y(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return $(y(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(E,8)),k=T,D=0;D<C.length;D+=8){var O=Math.min(8,C.length-D),x=parseInt(C.substring(D,D+O),E);8>O?(O=g(Math.pow(E,O)),k=k.j(O).add(g(x))):(k=k.j(S),k=k.add(g(x)))}return k}var T=f(0),P=f(1),N=f(16777216);e=u.prototype,e.m=function(){if(z(this))return-$(this).m();for(var C=0,E=1,S=0;S<this.g.length;S++){var k=this.i(S);C+=(0<=k?k:4294967296+k)*E,E*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(z(this))return"-"+$(this).toString(C);for(var E=g(Math.pow(C,6)),S=this,k="";;){var D=j(S,E).g;S=R(S,D.j(E));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=D,F(S))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function z(C){return C.h==-1}e.l=function(C){return C=R(this,C),z(C)?-1:F(C)?0:1};function $(C){for(var E=C.g.length,S=[],k=0;k<E;k++)S[k]=~C.g[k];return new u(S,~C.h).add(P)}e.abs=function(){return z(this)?$(this):this},e.add=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],k=0,D=0;D<=E;D++){var O=k+(this.i(D)&65535)+(C.i(D)&65535),x=(O>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);k=x>>>16,O&=65535,x&=65535,S[D]=x<<16|O}return new u(S,S[S.length-1]&-2147483648?-1:0)};function R(C,E){return C.add($(E))}e.j=function(C){if(F(this)||F(C))return T;if(z(this))return z(C)?$(this).j($(C)):$($(this).j(C));if(z(C))return $(this.j($(C)));if(0>this.l(N)&&0>C.l(N))return g(this.m()*C.m());for(var E=this.g.length+C.g.length,S=[],k=0;k<2*E;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<C.g.length;D++){var O=this.i(k)>>>16,x=this.i(k)&65535,Qt=C.i(D)>>>16,Zn=C.i(D)&65535;S[2*k+2*D]+=x*Zn,I(S,2*k+2*D),S[2*k+2*D+1]+=O*Zn,I(S,2*k+2*D+1),S[2*k+2*D+1]+=x*Qt,I(S,2*k+2*D+1),S[2*k+2*D+2]+=O*Qt,I(S,2*k+2*D+2)}for(k=0;k<E;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=E;k<2*E;k++)S[k]=0;return new u(S,0)};function I(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function M(C,E){this.g=C,this.h=E}function j(C,E){if(F(E))throw Error("division by zero");if(F(C))return new M(T,T);if(z(C))return E=j($(C),E),new M($(E.g),$(E.h));if(z(E))return E=j(C,$(E)),new M($(E.g),E.h);if(30<C.g.length){if(z(C)||z(E))throw Error("slowDivide_ only works with positive integers.");for(var S=P,k=E;0>=k.l(C);)S=X(S),k=X(k);var D=Y(S,1),O=Y(k,1);for(k=Y(k,2),S=Y(S,2);!F(k);){var x=O.add(k);0>=x.l(C)&&(D=D.add(S),O=x),k=Y(k,1),S=Y(S,1)}return E=R(C,D.j(E)),new M(D,E)}for(D=T;0<=C.l(E);){for(S=Math.max(1,Math.floor(C.m()/E.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=g(S),x=O.j(E);z(x)||0<x.l(C);)S-=k,O=g(S),x=O.j(E);F(O)&&(O=P),D=D.add(O),C=R(C,x)}return new M(D,C)}e.A=function(C){return j(this,C).h},e.and=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],k=0;k<E;k++)S[k]=this.i(k)&C.i(k);return new u(S,this.h&C.h)},e.or=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],k=0;k<E;k++)S[k]=this.i(k)|C.i(k);return new u(S,this.h|C.h)},e.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),S=[],k=0;k<E;k++)S[k]=this.i(k)^C.i(k);return new u(S,this.h^C.h)};function X(C){for(var E=C.g.length+1,S=[],k=0;k<E;k++)S[k]=C.i(k)<<1|C.i(k-1)>>>31;return new u(S,C.h)}function Y(C,E){var S=E>>5;E%=32;for(var k=C.g.length-S,D=[],O=0;O<k;O++)D[O]=0<E?C.i(O+S)>>>E|C.i(O+S+1)<<32-E:C.i(O+S);return new u(D,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vy=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,xr=u}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yy,wy,aa,Ey,Pu,Rd,Ty,Py,Sy;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,_){return l==Array.prototype||l==Object.prototype||(l[p]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof su=="object"&&su];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(l,p){if(p)t:{var _=i;l=l.split(".");for(var w=0;w<l.length-1;w++){var V=l[w];if(!(V in _))break t;_=_[V]}l=l[l.length-1],w=_[l],p=p(w),p!=w&&p!=null&&t(_,l,{configurable:!0,writable:!0,value:p})}}function a(l,p){l instanceof String&&(l+="");var _=0,w=!1,V={next:function(){if(!w&&_<l.length){var U=_++;return{value:p(U,l[U]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(l){return l||function(){return a(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function g(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,_){return l.call.apply(l.bind,arguments)}function T(l,p,_){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),l.apply(p,V)}}return function(){return l.apply(p,arguments)}}function P(l,p,_){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,P.apply(null,arguments)}function N(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function F(l,p){function _(){}_.prototype=p.prototype,l.aa=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(w,V,U){for(var Q=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Q[Lt-2]=arguments[Lt];return p.prototype[V].apply(w,Q)}}function z(l){const p=l.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=l[w];return _}return[]}function $(l,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(f(w)){const V=l.length||0,U=w.length||0;l.length=V+U;for(let Q=0;Q<U;Q++)l[V+Q]=w[Q]}else l.push(w)}}class R{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(l){return/^[\s\xa0]*$/.test(l)}function M(){var l=h.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var X=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function Y(l,p,_){for(const w in l)p.call(_,l[w],w,l)}function C(l,p){for(const _ in l)p.call(void 0,l[_],_,l)}function E(l){const p={};for(const _ in l)p[_]=l[_];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let _,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(_ in w)l[_]=w[_];for(let U=0;U<S.length;U++)_=S[U],Object.prototype.hasOwnProperty.call(w,_)&&(l[_]=w[_])}}function D(l){var p=1;l=l.split(":");const _=[];for(;0<p&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function O(l){h.setTimeout(()=>{throw l},0)}function x(){var l=lt;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Qt{constructor(){this.h=this.g=null}add(p,_){const w=Zn.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Zn=new R(()=>new ae,l=>l.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,q=!1,lt=new Qt,K=()=>{const l=h.Promise.resolve(void 0);Ne=()=>{l.then(ut)}};var ut=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(_){O(_)}var p=Zn;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}q=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};h.addEventListener("test",_,p),h.removeEventListener("test",_,p)}catch{}return l}();function vt(l,p){if(Tt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(X){t:{try{j(p.nodeName);var V=!0;break t}catch{}V=!1}V||(p=null)}}else _=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:dt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&vt.aa.h.call(this)}}F(vt,Tt);var dt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Mn=0;function al(l,p,_,w,V){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=V,this.key=++Mn,this.da=this.fa=!1}function wi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ei(l){this.src=l,this.g={},this.h=0}Ei.prototype.add=function(l,p,_,w,V){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var Q=or(l,p,w,V);return-1<Q?(p=l[Q],_||(p.fa=!1)):(p=new al(p,this.src,U,!!w,V),p.fa=_,l.push(p)),p};function Gn(l,p){var _=p.type;if(_ in l.g){var w=l.g[_],V=Array.prototype.indexOf.call(w,p,void 0),U;(U=0<=V)&&Array.prototype.splice.call(w,V,1),U&&(wi(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function or(l,p,_,w){for(var V=0;V<l.length;++V){var U=l[V];if(!U.da&&U.listener==p&&U.capture==!!_&&U.ha==w)return V}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),Ur={};function fs(l,p,_,w,V){if(Array.isArray(p)){for(var U=0;U<p.length;U++)fs(l,p[U],_,w,V);return null}return _=cl(_),l&&l[le]?l.K(p,_,g(w)?!!w.capture:!!w,V):ps(l,p,_,!1,w,V)}function ps(l,p,_,w,V,U){if(!p)throw Error("Invalid event type");var Q=g(V)?!!V.capture:!!V,Lt=$r(l);if(Lt||(l[ds]=Lt=new Ei(l)),_=Lt.add(p,_,w,Q,U),_.proxy)return _;if(w=jr(),_.proxy=w,w.src=l,w.listener=_,l.addEventListener)Rt||(V=Q),V===void 0&&(V=!1),l.addEventListener(p.toString(),w,V);else if(l.attachEvent)l.attachEvent(Hr(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jr(){function l(_){return p.call(l.src,l.listener,_)}const p=ul;return l}function ll(l,p,_,w,V){if(Array.isArray(p))for(var U=0;U<p.length;U++)ll(l,p[U],_,w,V);else w=g(w)?!!w.capture:!!w,_=cl(_),l&&l[le]?(l=l.i,p=String(p).toString(),p in l.g&&(U=l.g[p],_=or(U,_,w,V),-1<_&&(wi(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete l.g[p],l.h--)))):l&&(l=$r(l))&&(p=l.g[p.toString()],l=-1,p&&(l=or(p,_,w,V)),(_=-1<l?p[l]:null)&&qr(_))}function qr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[le])Gn(p.i,l);else{var _=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(_,w,l.capture):p.detachEvent?p.detachEvent(Hr(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=$r(p))?(Gn(_,l),_.h==0&&(_.src=null,p[ds]=null)):wi(l)}}}function Hr(l){return l in Ur?Ur[l]:Ur[l]="on"+l}function ul(l,p){if(l.da)l=!0;else{p=new vt(p,this);var _=l.listener,w=l.ha||l.src;l.fa&&qr(l),l=_.call(w,p)}return l}function $r(l){return l=l[ds],l instanceof Ei?l:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function cl(l){return typeof l=="function"?l:(l[ms]||(l[ms]=function(p){return l.handleEvent(p)}),l[ms])}function ne(){_t.call(this),this.i=new Ei(this),this.M=this,this.F=null}F(ne,_t),ne.prototype[le]=!0,ne.prototype.removeEventListener=function(l,p,_,w){ll(this,l,p,_,w)};function fe(l,p){var _,w=l.F;if(w)for(_=[];w;w=w.F)_.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new Tt(p,l);else if(p instanceof Tt)p.target=p.target||l;else{var V=p;p=new Tt(w,l),k(p,V)}if(V=!0,_)for(var U=_.length-1;0<=U;U--){var Q=p.g=_[U];V=sr(Q,w,!0,p)&&V}if(Q=p.g=l,V=sr(Q,w,!0,p)&&V,V=sr(Q,w,!1,p)&&V,_)for(U=0;U<_.length;U++)Q=p.g=_[U],V=sr(Q,w,!1,p)&&V}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var _=l.g[p],w=0;w<_.length;w++)wi(_[w]);delete l.g[p],l.h--}}this.F=null},ne.prototype.K=function(l,p,_,w){return this.i.add(String(l),p,!1,_,w)},ne.prototype.L=function(l,p,_,w){return this.i.add(String(l),p,!0,_,w)};function sr(l,p,_,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,U=0;U<p.length;++U){var Q=p[U];if(Q&&!Q.da&&Q.capture==_){var Lt=Q.listener,ie=Q.ha||Q.src;Q.fa&&Gn(l.i,Q),V=Lt.call(ie,w)!==!1&&V}}return V&&!w.defaultPrevented}function hl(l,p,_){if(typeof l=="function")_&&(l=P(l,_));else if(l&&typeof l.handleEvent=="function")l=P(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:h.setTimeout(l,p||0)}function _s(l){l.g=hl(()=>{l.g=null,l.i&&(l.i=!1,_s(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class dl extends _t{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(l){_t.call(this),this.h=l,this.g={}}F(ar,_t);var gs=[];function Wr(l){Y(l.g,function(p,_){this.g.hasOwnProperty(_)&&qr(p)},l),l.g={}}ar.prototype.N=function(){ar.aa.N.call(this),Wr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zr=h.JSON.stringify,Uc=h.JSON.parse,lr=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function vs(){}vs.prototype.h=null;function fl(l){return l.h||(l.h=l.i())}function ys(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){Tt.call(this,"d")}F(Gr,Tt);function ws(){Tt.call(this,"c")}F(ws,Tt);var Kn={},pl=null;function Kr(){return pl=pl||new ne}Kn.La="serverreachability";function ml(l){Tt.call(this,Kn.La,l)}F(ml,Tt);function ur(l){const p=Kr();fe(p,new ml(p))}Kn.STAT_EVENT="statevent";function Qr(l,p){Tt.call(this,Kn.STAT_EVENT,l),this.stat=p}F(Qr,Tt);function ye(l){const p=Kr();fe(p,new Qr(p,l))}Kn.Ma="timingevent";function _l(l,p){Tt.call(this,Kn.Ma,l),this.size=p}F(_l,Tt);function cr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function hr(){this.g=!0}hr.prototype.xa=function(){this.g=!1};function on(l,p,_,w,V,U){l.info(function(){if(l.g)if(U)for(var Q="",Lt=U.split("&"),ie=0;ie<Lt.length;ie++){var It=Lt[ie].split("=");if(1<It.length){var Nt=It[0];It=It[1];var $t=Nt.split("_");Q=2<=$t.length&&$t[1]=="type"?Q+(Nt+"="+It+"&"):Q+(Nt+"=redacted&")}}else Q=null;else Q=U;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+p+`
`+_+`
`+Q})}function it(l,p,_,w,V,U,Q){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+p+`
`+_+`
`+U+" "+Q})}function Qn(l,p,_,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+vl(l,_)+(w?" "+w:"")})}function gl(l,p){l.info(function(){return"TIMEOUT: "+p})}hr.prototype.info=function(){};function vl(l,p){if(!l.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var w=_[l];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return Zr(_)}catch{return p}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function wn(){}F(wn,vs),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},Yr=new wn;function En(l,p,_,w){this.j=l,this.i=p,this.l=_,this.R=w||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yl}function yl(){this.i=null,this.g="",this.h=!1}var wl={},Es={};function Ts(l,p,_){l.L=1,l.v=an(Xt(p)),l.m=_,l.P=!0,Ps(l,null)}function Ps(l,p){l.F=Date.now(),to(l),l.A=Xt(l.v);var _=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Pl(_.i,"t",w),l.C=0,_=l.j.J,l.h=new yl,l.g=Rl(l.j,_?p:null,!l.m),0<l.O&&(l.M=new dl(P(l.Y,l,l.g),l.O)),p=l.U,_=l.g,w=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(gs[0]=V.toString()),V=gs);for(var U=0;U<V.length;U++){var Q=fs(_,V[U],w||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ur(),on(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const p=this.M;p&&Oe(l)==3?p.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)t:{const $t=Oe(this.g);var p=this.g.Ba();const ki=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Fs(this.g)))){this.J||$t!=4||p==7||(p==8||0>=ki?ur(3):ur(2)),Ss(this);var _=this.g.Z();this.X=_;e:if(El(this)){var w=Fs(this.g);l="";var V=w.length,U=Oe(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),fr(this);var Q="";break e}this.h.i=new h.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(U&&p==V-1)});w.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,it(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,ie=this.g;if((Lt=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Lt)){var It=Lt;break e}}It=null}if(_=It)Qn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,_);else{this.o=!1,this.s=3,ye(12),Xn(this),fr(this);break t}}if(this.P){_=!0;let Jt;for(;!this.J&&this.C<Q.length;)if(Jt=Jr(this,Q),Jt==Es){$t==4&&(this.s=4,ye(14),_=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==wl){this.s=4,ye(15),Qn(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else Qn(this.i,this.l,Jt,null),pr(this,Jt);if(El(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Q.length!=0||this.h.h||(this.s=1,ye(16),_=!1),this.o=this.o&&_,!_)Qn(this.i,this.l,Q,"[Invalid Chunked Response]"),Xn(this),fr(this);else if(0<Q.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),uo(Nt),Nt.M=!0,ye(11))}}else Qn(this.i,this.l,Q,null),pr(this,Q);$t==4&&Xn(this),this.o&&!this.J&&($t==4?Us(this.j,this):(this.o=!1,to(this)))}else jc(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),Xn(this),fr(this)}}}catch{}finally{}};function El(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Jr(l,p){var _=l.C,w=p.indexOf(`
`,_);return w==-1?Es:(_=Number(p.substring(_,w)),isNaN(_)?wl:(w+=1,w+_>p.length?Es:(p=p.slice(w,w+_),l.C=w+_,p)))}En.prototype.cancel=function(){this.J=!0,Xn(this)};function to(l){l.S=Date.now()+l.I,Tl(l,l.I)}function Tl(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=cr(P(l.ba,l),p)}function Ss(l){l.B&&(h.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(gl(this.i,this.A),this.L!=2&&(ur(),ye(17)),Xn(this),this.s=2,fr(this)):Tl(this,this.S-l)};function fr(l){l.j.G==0||l.J||Us(l.j,l)}function Xn(l){Ss(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Wr(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function pr(l,p){try{var _=l.j;if(_.G!=0&&(_.g==l||Pt(_.h,l))){if(!l.K&&Pt(_.h,l)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)ho(_),ao(_);else break t;lo(_),ye(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=cr(P(_.Za,_),6e3));if(1>=Pi(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ni(_,11)}else if((l.K||_.g==l)&&ho(_),!I(p))for(V=_.Da.g.parse(p),p=0;p<V.length;p++){let It=V[p];if(_.T=It[0],It=It[1],_.G==2)if(It[0]=="c"){_.K=It[1],_.ia=It[2];const Nt=It[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const $t=It[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const ki=It[5];ki!=null&&typeof ki=="number"&&0<ki&&(w=1.5*ki,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Jt=l.g;if(Jt){const po=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var U=w.h;U.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ot(U,U.h),U.h=null))}if(w.D){const Vn=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vn&&(w.ya=Vn,ct(w.I,w.D,Vn))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var Q=l;if(w.qa=fo(w,w.J?w.ia:null,w.W),Q.K){_r(w.h,Q);var Lt=Q,ie=w.L;ie&&(Lt.I=ie),Lt.B&&(Ss(Lt),to(Lt)),w.g=Q}else Sn(w);0<_.i.length&&xi(_)}else It[0]!="stop"&&It[0]!="close"||ni(_,7);else _.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?ni(_,7):so(_):It[0]!="noop"&&_.l&&_.l.ta(It),_.v=0)}}ur(4)}catch{}}var mr=class{constructor(l,p){this.g=l,this.map=p}};function Is(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Pi(l){return l.h?1:l.g?l.g.size:0}function Pt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Ot(l,p){l.g?l.g.add(p):l.h=p}function _r(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Is.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Yn(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const _ of l.g.values())p=p.concat(_.D);return p}return z(l.i)}function Si(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(f(l)){for(var p=[],_=l.length,w=0;w<_;w++)p.push(l[w]);return p}p=[],_=0;for(w in l)p[_++]=l[w];return p}function As(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(f(l)||typeof l=="string"){var p=[];l=l.length;for(var _=0;_<l;_++)p.push(_);return p}p=[],_=0;for(const w in l)p[_++]=w;return p}}}function mt(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(f(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var _=As(l),w=Si(l),V=w.length,U=0;U<V;U++)p.call(void 0,w[U],_&&_[U],l)}var Bt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(l,p){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var w=l[_].indexOf("="),V=null;if(0<=w){var U=l[_].substring(0,w);V=l[_].substring(w+1)}else U=l[_];p(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function sn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sn){this.h=l.h,eo(this,l.j),this.o=l.o,this.g=l.g,Jn(this,l.s),this.l=l.l;var p=l.i,_=new ti;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Nn(this,_),this.m=l.m}else l&&(p=String(l).match(Bt))?(this.h=!1,eo(this,p[1]||"",!0),this.o=Tn(p[2]||""),this.g=Tn(p[3]||"",!0),Jn(this,p[4]),this.l=Tn(p[5]||"",!0),Nn(this,p[6]||"",!0),this.m=Tn(p[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}sn.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Pn(p,Ii,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Pn(p,Ii,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Pn(_,_.charAt(0)=="/"?Ls:Rs,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Pn(_,Ds)),l.join("")};function Xt(l){return new sn(l)}function eo(l,p,_){l.j=_?Tn(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Jn(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Nn(l,p,_){p instanceof ti?(l.i=p,ln(l.i,l.h)):(_||(p=Pn(p,no)),l.i=new ti(p,l.h))}function ct(l,p,_){l.i.set(p,_)}function an(l){return ct(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Tn(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pn(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,ks),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ks(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ii=/[#\/\?@]/g,Rs=/[#\?:]/g,Ls=/[#\?]/g,no=/[#\?@]/g,Ds=/#/g;function ti(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Ge(l){l.g||(l.g=new Map,l.h=0,l.i&&xs(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}e=ti.prototype,e.add=function(l,p){Ge(this),this.i=null,l=st(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function Ms(l,p){Ge(l),p=st(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function io(l,p){return Ge(l),p=st(l,p),l.g.has(p)}e.forEach=function(l,p){Ge(this),this.g.forEach(function(_,w){_.forEach(function(V){l.call(p,V,w,this)},this)},this)},e.na=function(){Ge(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const V=l[w];for(let U=0;U<V.length;U++)_.push(p[w])}return _},e.V=function(l){Ge(this);let p=[];if(typeof l=="string")io(this,l)&&(p=p.concat(this.g.get(st(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)p=p.concat(l[_])}return p},e.set=function(l,p){return Ge(this),this.i=null,l=st(this,l),io(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},e.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Pl(l,p,_){Ms(l,p),0<_.length&&(l.i=null,l.g.set(st(l,p),z(_)),l.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const U=encodeURIComponent(String(w)),Q=this.V(w);for(w=0;w<Q.length;w++){var V=U;Q[w]!==""&&(V+="="+encodeURIComponent(String(Q[w]))),l.push(V)}}return this.i=l.join("&")};function st(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ln(l,p){p&&!l.j&&(Ge(l),l.i=null,l.g.forEach(function(_,w){var V=w.toLowerCase();w!=V&&(Ms(this,w),Pl(this,V,_))},l)),l.j=p}function Mt(l,p){const _=new hr;if(h.Image){const w=new Image;w.onload=N(un,_,"TestLoadImage: loaded",!0,p,w),w.onerror=N(un,_,"TestLoadImage: error",!1,p,w),w.onabort=N(un,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=N(un,_,"TestLoadImage: timeout",!1,p,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Sl(l,p){const _=new hr,w=new AbortController,V=setTimeout(()=>{w.abort(),un(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(U=>{clearTimeout(V),U.ok?un(_,"TestPingServer: ok",!0,p):un(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),un(_,"TestPingServer: error",!1,p)})}function un(l,p,_,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(_)}catch{}}function Ns(){this.g=new lr}function Os(l,p,_){const w=_||"";try{mt(l,function(V,U){let Q=V;g(V)&&(Q=Zr(V)),p.push(w+U+"="+encodeURIComponent(Q))})}catch(V){throw p.push(w+"type="+encodeURIComponent("_badmap")),V}}function Ke(l){this.l=l.Ub||null,this.j=l.eb||!1}F(Ke,vs),Ke.prototype.g=function(){return new Ci(this.l,this.j)},Ke.prototype.i=function(l){return function(){return l}}({});function Ci(l,p){ne.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ci,ne),e=Ci.prototype,e.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Qe(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||h).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Qe(this)),this.g&&(this.readyState=3,Qe(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ai(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ai(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Ht(this):Qe(this),this.readyState==3&&Ai(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Ht(this))},e.Qa=function(l){this.g&&(this.response=l,Ht(this))},e.ga=function(){this.g&&Ht(this)};function Ht(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Qe(l)}e.setRequestHeader=function(l,p){this.u.append(l,p)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function Qe(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Vs(l){let p="";return Y(l,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function ro(l,p,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=Vs(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):ct(l,p,_))}function Ut(l){ne.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ut,ne);var Il=/^https?$/i,bs=["POST","PUT"];e=Ut.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?fl(this.o):fl(Yr),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(U){Cl(this,U);return}if(l=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)_.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())_.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),V=h.FormData&&l instanceof h.FormData,!(0<=Array.prototype.indexOf.call(bs,p,void 0))||w||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of _)this.g.setRequestHeader(U,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ue(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Cl(this,U)}};function Cl(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,zs(l),oo(l)}function zs(l){l.A||(l.A=!0,fe(l,"complete"),fe(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,fe(this,"complete"),fe(this,"abort"),oo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?wt(this):this.bb())},e.bb=function(){wt(this)};function wt(l){if(l.h&&typeof u<"u"&&(!l.v[1]||Oe(l)!=4||l.Z()!=2)){if(l.u&&Oe(l)==4)hl(l.Ea,0,l);else if(fe(l,"readystatechange"),Oe(l)==4){l.h=!1;try{const Q=l.Z();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var w;if(w=Q===0){var V=String(l.D).match(Bt)[1]||null;!V&&h.self&&h.self.location&&(V=h.self.location.protocol.slice(0,-1)),w=!Il.test(V?V.toLowerCase():"")}_=w}if(_)fe(l,"complete"),fe(l,"success");else{l.m=6;try{var U=2<Oe(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",zs(l)}}finally{oo(l)}}}}function oo(l,p){if(l.g){Ue(l);const _=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||fe(l,"ready");try{_.onreadystatechange=w}catch{}}}function Ue(l){l.I&&(h.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Oe(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Oe(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Uc(p)}};function Fs(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(l){const p={};l=(l.g&&2<=Oe(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(I(l[w]))continue;var _=D(l[w]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=p[V]||[];p[V]=U,U.push(_)}C(p,function(w){return w.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function Al(l){this.Aa=0,this.i=[],this.j=new hr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ei("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ei("baseRetryDelayMs",5e3,l),this.cb=ei("retryDelaySeedMs",1e4,l),this.Wa=ei("forwardChannelMaxRetries",2,l),this.wa=ei("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(l&&l.concurrentRequestLimit),this.Da=new Ns,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Al.prototype,e.la=8,e.G=1,e.connect=function(l,p,_,w){ye(0),this.W=l,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=fo(this,null,this.W),xi(this)};function so(l){if(xl(l),l.G==3){var p=l.U++,_=Xt(l.I);if(ct(_,"SID",l.K),ct(_,"RID",p),ct(_,"TYPE","terminate"),gr(l,_),p=new En(l,l.j,p),p.L=2,p.v=an(Xt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=p.v,_=!0),_||(p.g=Rl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),to(p)}kl(l)}function ao(l){l.g&&(uo(l),l.g.cancel(),l.g=null)}function xl(l){ao(l),l.u&&(h.clearTimeout(l.u),l.u=null),ho(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&h.clearTimeout(l.s),l.s=null)}function xi(l){if(!Cs(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ne||K(),q||(Ne(),q=!0),lt.add(p,l),l.B=0}}function qc(l,p){return Pi(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=cr(P(l.Ga,l,p),js(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new En(this,this.j,l);let U=this.o;if(this.S&&(U?(U=E(U),k(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Bs(this,V,p),_=Xt(this.I),ct(_,"RID",l),ct(_,"CVER",22),this.D&&ct(_,"X-HTTP-Session-Id",this.D),gr(this,_),U&&(this.O?p="headers="+encodeURIComponent(String(Vs(U)))+"&"+p:this.m&&ro(_,this.m,U)),Ot(this.h,V),this.Ua&&ct(_,"TYPE","init"),this.P?(ct(_,"$req",p),ct(_,"SID","null"),V.T=!0,Ts(V,_,null)):Ts(V,_,p),this.G=2}}else this.G==3&&(l?Xe(this,l):this.i.length==0||Cs(this.h)||Xe(this))};function Xe(l,p){var _;p?_=p.l:_=l.U++;const w=Xt(l.I);ct(w,"SID",l.K),ct(w,"RID",_),ct(w,"AID",l.T),gr(l,w),l.m&&l.o&&ro(w,l.m,l.o),_=new En(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Bs(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ot(l.h,_),Ts(_,w,p)}function gr(l,p){l.H&&Y(l.H,function(_,w){ct(p,w,_)}),l.l&&mt({},function(_,w){ct(p,w,_)})}function Bs(l,p,_){_=Math.min(l.i.length,_);var w=l.l?P(l.l.Na,l.l,l):null;t:{var V=l.i;let U=-1;for(;;){const Q=["count="+_];U==-1?0<_?(U=V[0].g,Q.push("ofs="+U)):U=0:Q.push("ofs="+U);let Lt=!0;for(let ie=0;ie<_;ie++){let It=V[ie].g;const Nt=V[ie].map;if(It-=U,0>It)U=Math.max(0,V[ie].g-100),Lt=!1;else try{Os(Nt,Q,"req"+It+"_")}catch{w&&w(Nt)}}if(Lt){w=Q.join("&");break t}}}return l=l.i.splice(0,_),p.D=l,w}function Sn(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ne||K(),q||(Ne(),q=!0),lt.add(p,l),l.v=0}}function lo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=cr(P(l.Fa,l),js(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=cr(P(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),ao(this),co(this))};function uo(l){l.A!=null&&(h.clearTimeout(l.A),l.A=null)}function co(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Xt(l.qa);ct(p,"RID","rpc"),ct(p,"SID",l.K),ct(p,"AID",l.T),ct(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ct(p,"TO",l.ja),ct(p,"TYPE","xmlhttp"),gr(l,p),l.m&&l.o&&ro(p,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=an(Xt(p)),_.m=null,_.P=!0,Ps(_,l)}e.Za=function(){this.C!=null&&(this.C=null,ao(this),lo(this),ye(19))};function ho(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Us(l,p){var _=null;if(l.g==p){ho(l),uo(l),l.g=null;var w=2}else if(Pt(l.h,p))_=p.D,_r(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var V=l.B;w=Kr(),fe(w,new _l(w,_)),xi(l)}else Sn(l);else if(V=p.s,V==3||V==0&&0<p.X||!(w==1&&qc(l,p)||w==2&&lo(l)))switch(_&&0<_.length&&(p=l.h,p.i=p.i.concat(_)),V){case 1:ni(l,5);break;case 4:ni(l,10);break;case 3:ni(l,6);break;default:ni(l,2)}}}function js(l,p){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*p}function ni(l,p){if(l.j.info("Error code "+p),p==2){var _=P(l.fb,l),w=l.Xa;const V=!w;w=new sn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||eo(w,"https"),an(w),V?Mt(w.toString(),_):Sl(w.toString(),_)}else ye(2);l.G=0,l.l&&l.l.sa(p),kl(l),xl(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function kl(l){if(l.G=0,l.ka=[],l.l){const p=Yn(l.h);(p.length!=0||l.i.length!=0)&&($(l.ka,p),$(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function fo(l,p,_){var w=_ instanceof sn?Xt(_):new sn(_);if(w.g!="")p&&(w.g=p+"."+w.g),Jn(w,w.s);else{var V=h.location;w=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var U=new sn(null);w&&eo(U,w),p&&(U.g=p),V&&Jn(U,V),_&&(U.l=_),w=U}return _=l.D,p=l.ya,_&&p&&ct(w,_,p),ct(w,"VER",l.la),gr(l,w),w}function Rl(l,p,_){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ut(new Ke({eb:_})):new Ut(l.pa),p.Ha(l.J),p}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qs(){}e=qs.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function vr(){}vr.prototype.g=function(l,p){return new pe(l,p)};function pe(l,p){ne.call(this),this.g=new Al(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!I(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new cn(this)}F(pe,ne),pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pe.prototype.close=function(){so(this.g)},pe.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=Zr(l),l=_);p.i.push(new mr(p.Ya++,l)),p.G==3&&xi(p)},pe.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,pe.aa.N.call(this)};function On(l){Gr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){t:{for(const _ in p){l=_;break t}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}F(On,Gr);function Ll(){ws.call(this),this.status=1}F(Ll,ws);function cn(l){this.g=l}F(cn,qs),cn.prototype.ua=function(){fe(this.g,"a")},cn.prototype.ta=function(l){fe(this.g,new On(l))},cn.prototype.sa=function(l){fe(this.g,new Ll)},cn.prototype.ra=function(){fe(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,pe.prototype.send=pe.prototype.o,pe.prototype.open=pe.prototype.m,pe.prototype.close=pe.prototype.close,Sy=function(){return new vr},Py=function(){return Kr()},Ty=Kn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Pu=dr,Xr.COMPLETE="complete",Ey=Xr,ys.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ne.prototype.listen=ne.prototype.K,aa=ys,wy=Ke,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,yy=Ut}).apply(typeof su<"u"?su:typeof self<"u"?self:typeof window<"u"?window:{});const s_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ls="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new dy("@firebase/firestore");function na(){return Nr.logLevel}function nt(e,...t){if(Nr.logLevel<=At.DEBUG){const n=t.map(Hf);Nr.debug(`Firestore (${ls}): ${e}`,...n)}}function gi(e,...t){if(Nr.logLevel<=At.ERROR){const n=t.map(Hf);Nr.error(`Firestore (${ls}): ${e}`,...n)}}function Qo(e,...t){if(Nr.logLevel<=At.WARN){const n=t.map(Hf);Nr.warn(`Firestore (${ls}): ${e}`,...n)}}function Hf(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e="Unexpected state"){const t=`FIRESTORE (${ls}) INTERNAL ASSERTION FAILED: `+e;throw gi(t),new Error(t)}function Vt(e,t){e||ht()}function pt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends as{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class b5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Re.UNAUTHENTICATED))}shutdown(){}}class z5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F5{constructor(t){this.t=t,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;t.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}},0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vt(typeof i.accessToken=="string"),new Iy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Vt(t===null||typeof t=="string"),new Re(t)}}class B5{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class U5{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new B5(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q5{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=a=>{a.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,nt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const o=a=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new j5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const o=H5(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=t.charAt(o[a]%t.length))}return i}}function kt(e,t){return e<t?-1:e>t?1:0}function Xo(e,t,n){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new de(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ft(t)}static min(){return new ft(new de(0,0))}static max(){return new ft(new de(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n,i){n===void 0?n=0:n>t.length&&ht(),i===void 0?i=t.length-n:i>t.length-n&&ht(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return qa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qa?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let o=0;o<i;o++){const a=t.get(o),u=n.get(o);if(a<u)return-1;if(a>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class qt extends qa{construct(t,n,i){return new qt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new rt(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new qt(n)}static emptyPath(){return new qt([])}}const $5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Te extends qa{construct(t,n,i){return new Te(t,n,i)}static isValidIdentifier(t){return $5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Te.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Te(["__name__"])}static fromServerFormat(t){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<t.length;){const h=t[o];if(h==="\\"){if(o+1===t.length)throw new rt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new rt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new rt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Te(n)}static emptyPath(){return new Te([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.path=t}static fromPath(t){return new ot(qt.fromString(t))}static fromName(t){return new ot(qt.fromString(t).popFirst(5))}static empty(){return new ot(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new qt(t.slice()))}}function W5(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,o=ft.fromTimestamp(i===1e9?new de(n+1,0):new de(n,i));return new Ji(o,ot.empty(),t)}function Z5(e){return new Ji(e.readTime,e.key,-1)}class Ji{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ji(ft.min(),ot.empty(),-1)}static max(){return new Ji(ft.max(),ot.empty(),-1)}}function G5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ot.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e){if(e.code!==Z.FAILED_PRECONDITION||e.message!==K5)throw e;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,i)=>{n(t)})}static reject(t){return new W((n,i)=>{i(t)})}static waitFor(t){return new W((n,i)=>{let o=0,a=0,u=!1;t.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&n()},f=>i(f))}),u=!0,a===o&&n()})}static or(t){let n=W.resolve(!1);for(const i of t)n=n.next(o=>o?W.resolve(o):i());return n}static forEach(t,n){const i=[];return t.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(t,n){return new W((i,o)=>{const a=t.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;n(t[g]).next(y=>{u[g]=y,++h,h===a&&i(u)},y=>o(y))}})}static doWhile(t,n){return new W((i,o)=>{const a=()=>{t()===!0?n().next(()=>{a()},o):i()};a()})}}function X5(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}$f.oe=-1;function kc(e){return e==null}function ec(e){return e===0&&1/e==-1/0}function Y5(e){return typeof e=="number"&&Number.isInteger(e)&&!ec(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function us(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ay(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,n){this.comparator=t,this.root=n||Ee.EMPTY}insert(t,n){return new Kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ee.BLACK,null,null))}remove(t){return new Kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new au(this.root,t,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new au(this.root,t,this.comparator,!0)}}class au{constructor(t,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&o&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ee{constructor(t,n,i,o,a){this.key=t,this.value=n,this.color=i??Ee.RED,this.left=o??Ee.EMPTY,this.right=a??Ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,o,a){return new Ee(t??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let o=this;const a=i(t,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(t,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ee.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const t=this.left.check();if(t!==this.right.check())throw ht();return t+(this.isRed()?0:1)}}Ee.EMPTY=null,Ee.RED=!0,Ee.BLACK=!1;Ee.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(t,n,i,o,a){return this}insert(t,n,i){return new Ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(t){return new l_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Se)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Se(this.comparator);return n.data=t,n}}class l_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Te.comparator)}static empty(){return new kn([])}unionWith(t){let n=new Se(Te.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xo(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xy("Invalid base64 string: "+a):a}}(t);return new Ce(n)}static fromUint8Array(t){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(t);return new Ce(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const J5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(e){if(Vt(!!e),typeof e=="string"){let t=0;const n=J5.exec(e);if(Vt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:te(e.seconds),nanos:te(e.nanos)}}function te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Or(e){return typeof e=="string"?Ce.fromBase64String(e):Ce.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zf(e){const t=e.mapValue.fields.__previous_value__;return Wf(t)?Zf(t):t}function Ha(e){const t=tr(e.mapValue.fields.__local_write_time__.timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t,n,i,o,a,u,h,f,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class $a{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof $a&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wf(e)?4:n6(e)?9007199254740991:e6(e)?10:11:ht()}function $n(e,t){if(e===t)return!0;const n=Vr(e);if(n!==Vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ha(e).isEqual(Ha(t));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=tr(o.timestampValue),h=tr(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,a){return Or(o.bytesValue).isEqual(Or(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,a){return te(o.geoPointValue.latitude)===te(a.geoPointValue.latitude)&&te(o.geoPointValue.longitude)===te(a.geoPointValue.longitude)}(e,t);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return te(o.integerValue)===te(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=te(o.doubleValue),h=te(a.doubleValue);return u===h?ec(u)===ec(h):isNaN(u)&&isNaN(h)}return!1}(e,t);case 9:return Xo(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(a_(u)!==a_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!$n(u[f],h[f])))return!1;return!0}(e,t);default:return ht()}}function Wa(e,t){return(e.values||[]).find(n=>$n(n,t))!==void 0}function Yo(e,t){if(e===t)return 0;const n=Vr(e),i=Vr(t);if(n!==i)return kt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(a,u){const h=te(a.integerValue||a.doubleValue),f=te(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(e,t);case 3:return u_(e.timestampValue,t.timestampValue);case 4:return u_(Ha(e),Ha(t));case 5:return kt(e.stringValue,t.stringValue);case 6:return function(a,u){const h=Or(a),f=Or(u);return h.compareTo(f)}(e.bytesValue,t.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=kt(h[g],f[g]);if(y!==0)return y}return kt(h.length,f.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,u){const h=kt(te(a.latitude),te(u.latitude));return h!==0?h:kt(te(a.longitude),te(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return c_(e.arrayValue,t.arrayValue);case 10:return function(a,u){var h,f,g,y;const T=a.fields||{},P=u.fields||{},N=(h=T.value)===null||h===void 0?void 0:h.arrayValue,F=(f=P.value)===null||f===void 0?void 0:f.arrayValue,z=kt(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((y=F==null?void 0:F.values)===null||y===void 0?void 0:y.length)||0);return z!==0?z:c_(N,F)}(e.mapValue,t.mapValue);case 11:return function(a,u){if(a===lu.mapValue&&u===lu.mapValue)return 0;if(a===lu.mapValue)return 1;if(u===lu.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let T=0;T<f.length&&T<y.length;++T){const P=kt(f[T],y[T]);if(P!==0)return P;const N=Yo(h[f[T]],g[y[T]]);if(N!==0)return N}return kt(f.length,y.length)}(e.mapValue,t.mapValue);default:throw ht()}}function u_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=tr(e),i=tr(t),o=kt(n.seconds,i.seconds);return o!==0?o:kt(n.nanos,i.nanos)}function c_(e,t){const n=e.values||[],i=t.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Yo(n[o],i[o]);if(a)return a}return kt(n.length,i.length)}function Jo(e){return Ld(e)}function Ld(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=tr(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Or(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Ld(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Ld(n.fields[u])}`;return o+"}"}(e.mapValue):ht()}function Dd(e){return!!e&&"integerValue"in e}function Gf(e){return!!e&&"arrayValue"in e}function h_(e){return!!e&&"nullValue"in e}function d_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Su(e){return!!e&&"mapValue"in e}function e6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ya(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return us(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ya(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ya(e.arrayValue.values[n]);return t}return Object.assign({},e)}function n6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Su(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ya(n)}setAll(t){let n=Te.emptyPath(),i={},o=[];t.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=h.popLast()}u?i[h.lastSegment()]=ya(u):o.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(t){const n=this.field(t.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=n.mapValue.fields[t.get(i)];Su(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,i){us(n,(o,a)=>t[o]=a);for(const o of i)delete t[o]}clone(){return new pn(ya(this.value))}}function ky(e){const t=[];return us(e.fields,(n,i)=>{const o=new Te([n]);if(Su(i)){const a=ky(i.mapValue).fields;if(a.length===0)t.push(o);else for(const u of a)t.push(o.child(u))}else t.push(o)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,n,i,o,a,u,h){this.key=t,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(t){return new De(t,0,ft.min(),ft.min(),ft.min(),pn.empty(),0)}static newFoundDocument(t,n,i,o){return new De(t,1,n,ft.min(),i,o,0)}static newNoDocument(t,n){return new De(t,2,n,ft.min(),ft.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new De(t,3,n,ft.min(),ft.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof De&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new De(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n){this.position=t,this.inclusive=n}}function f_(e,t,n){let i=0;for(let o=0;o<e.position.length;o++){const a=t[o],u=e.position[o];if(a.field.isKeyField()?i=ot.comparator(ot.fromName(u.referenceValue),n.key):i=Yo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function p_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n="asc"){this.field=t,this.dir=n}}function i6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{}class ce extends Ry{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new o6(t,n,i):n==="array-contains"?new l6(t,i):n==="in"?new u6(t,i):n==="not-in"?new c6(t,i):n==="array-contains-any"?new h6(t,i):new ce(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new s6(t,i):new a6(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Ry{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Wn(t,n)}matches(t){return Ly(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ly(e){return e.op==="and"}function Dy(e){return r6(e)&&Ly(e)}function r6(e){for(const t of e.filters)if(t instanceof Wn)return!1;return!0}function Md(e){if(e instanceof ce)return e.field.canonicalString()+e.op.toString()+Jo(e.value);if(Dy(e))return e.filters.map(t=>Md(t)).join(",");{const t=e.filters.map(n=>Md(n)).join(",");return`${e.op}(${t})`}}function My(e,t){return e instanceof ce?function(i,o){return o instanceof ce&&i.op===o.op&&i.field.isEqual(o.field)&&$n(i.value,o.value)}(e,t):e instanceof Wn?function(i,o){return o instanceof Wn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&My(u,o.filters[h]),!0):!1}(e,t):void ht()}function Ny(e){return e instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(e):e instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ny).join(" ,")+"}"}(e):"Filter"}class o6 extends ce{constructor(t,n,i){super(t,n,i),this.key=ot.fromName(i.referenceValue)}matches(t){const n=ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class s6 extends ce{constructor(t,n){super(t,"in",n),this.keys=Oy("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class a6 extends ce{constructor(t,n){super(t,"not-in",n),this.keys=Oy("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Oy(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ot.fromName(i.referenceValue))}class l6 extends ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gf(n)&&Wa(n.arrayValue,this.value)}}class u6 extends ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class c6 extends ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}}class h6 extends ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Wa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,n=null,i=[],o=[],a=null,u=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function m_(e,t=null,n=[],i=[],o=null,a=null,u=null){return new d6(e,t,n,i,o,a,u)}function Kf(e){const t=pt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Md(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),kc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Jo(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Jo(i)).join(",")),t.ue=n}return t.ue}function Qf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!i6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!My(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!p_(e.startAt,t.startAt)&&p_(e.endAt,t.endAt)}function Nd(e){return ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function f6(e,t,n,i,o,a,u,h){return new Rc(e,t,n,i,o,a,u,h)}function Vy(e){return new Rc(e)}function __(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function p6(e){return e.collectionGroup!==null}function wa(e){const t=pt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Se(Te.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.ce.push(new ic(a,i))}),n.has(Te.keyField().canonicalString())||t.ce.push(new ic(Te.keyField(),i))}return t.ce}function qn(e){const t=pt(e);return t.le||(t.le=m6(t,wa(e))),t.le}function m6(e,t){if(e.limitType==="F")return m_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ic(o.field,a)});const n=e.endAt?new nc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nc(e.startAt.position,e.startAt.inclusive):null;return m_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Od(e,t,n){return new Rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lc(e,t){return Qf(qn(e),qn(t))&&e.limitType===t.limitType}function by(e){return`${Kf(qn(e))}|lt:${e.limitType}`}function wo(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Ny(o)).join(", ")}]`),kc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Jo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Jo(o)).join(",")),`Target(${i})`}(qn(e))}; limitType=${e.limitType})`}function Dc(e,t){return t.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ot.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,o){for(const a of wa(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(e,t)&&function(i,o){return!(i.startAt&&!function(u,h,f){const g=f_(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,wa(i),o)||i.endAt&&!function(u,h,f){const g=f_(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,wa(i),o))}(e,t)}function _6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zy(e){return(t,n)=>{let i=!1;for(const o of wa(e)){const a=g6(o,t,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function g6(e,t,n){const i=e.field.isKeyField()?ot.comparator(t.key,n.key):function(a,u,h){const f=u.data.field(a),g=h.data.field(a);return f!==null&&g!==null?Yo(f,g):ht()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return void(o[a]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){us(this.inner,(n,i)=>{for(const[o,a]of i)t(o,a)})}isEmpty(){return Ay(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new Kt(ot.comparator);function vi(){return v6}const Fy=new Kt(ot.comparator);function la(...e){let t=Fy;for(const n of e)t=t.insert(n.key,n);return t}function By(e){let t=Fy;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ir(){return Ea()}function Uy(){return Ea()}function Ea(){return new cs(e=>e.toString(),(e,t)=>e.isEqual(t))}const y6=new Kt(ot.comparator),w6=new Se(ot.comparator);function St(...e){let t=w6;for(const n of e)t=t.add(n);return t}const E6=new Se(kt);function T6(){return E6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(t)?"-0":t}}function jy(e){return{integerValue:""+e}}function P6(e,t){return Y5(t)?jy(t):Xf(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function S6(e,t,n){return e instanceof rc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Wf(a)&&(a=Zf(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(n,t):e instanceof Za?Hy(e,t):e instanceof Ga?$y(e,t):function(o,a){const u=qy(o,a),h=g_(u)+g_(o.Pe);return Dd(u)&&Dd(o.Pe)?jy(h):Xf(o.serializer,h)}(e,t)}function I6(e,t,n){return e instanceof Za?Hy(e,t):e instanceof Ga?$y(e,t):n}function qy(e,t){return e instanceof oc?function(i){return Dd(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class rc extends Mc{}class Za extends Mc{constructor(t){super(),this.elements=t}}function Hy(e,t){const n=Wy(t);for(const i of e.elements)n.some(o=>$n(o,i))||n.push(i);return{arrayValue:{values:n}}}class Ga extends Mc{constructor(t){super(),this.elements=t}}function $y(e,t){let n=Wy(t);for(const i of e.elements)n=n.filter(o=>!$n(o,i));return{arrayValue:{values:n}}}class oc extends Mc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function g_(e){return te(e.integerValue||e.doubleValue)}function Wy(e){return Gf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function C6(e,t){return e.field.isEqual(t.field)&&function(i,o){return i instanceof Za&&o instanceof Za||i instanceof Ga&&o instanceof Ga?Xo(i.elements,o.elements,$n):i instanceof oc&&o instanceof oc?$n(i.Pe,o.Pe):i instanceof rc&&o instanceof rc}(e.transform,t.transform)}class A6{constructor(t,n){this.version=t,this.transformResults=n}}class hi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Iu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Nc{}function Zy(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ky(e.key,hi.none()):new il(e.key,e.data,hi.none());{const n=e.data,i=pn.empty();let o=new Se(Te.comparator);for(let a of t.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Fr(e.key,i,new kn(o.toArray()),hi.none())}}function x6(e,t,n){e instanceof il?function(o,a,u){const h=o.value.clone(),f=y_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(e,t,n):e instanceof Fr?function(o,a,u){if(!Iu(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=y_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Gy(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(e,t,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Ta(e,t,n,i){return e instanceof il?function(a,u,h,f){if(!Iu(a.precondition,u))return h;const g=a.value.clone(),y=w_(a.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(e,t,n,i):e instanceof Fr?function(a,u,h,f){if(!Iu(a.precondition,u))return h;const g=w_(a.fieldTransforms,f,u),y=u.data;return y.setAll(Gy(a)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(e,t,n,i):function(a,u,h){return Iu(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(e,t,n)}function k6(e,t){let n=null;for(const i of e.fieldTransforms){const o=t.data.field(i.field),a=qy(i.transform,o||null);a!=null&&(n===null&&(n=pn.empty()),n.set(i.field,a))}return n||null}function v_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Xo(i,o,(a,u)=>C6(a,u))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class il extends Nc{constructor(t,n,i,o=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fr extends Nc{constructor(t,n,i,o,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Gy(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function y_(e,t,n){const i=new Map;Vt(e.length===n.length);for(let o=0;o<n.length;o++){const a=e[o],u=a.transform,h=t.data.field(a.field);i.set(a.field,I6(u,h,n[o]))}return i}function w_(e,t,n){const i=new Map;for(const o of e){const a=o.transform,u=n.data.field(o.field);i.set(o.field,S6(a,u,t))}return i}class Ky extends Nc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R6 extends Nc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(t.key)&&x6(a,t,i[o])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ta(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ta(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=Uy();return this.mutations.forEach(o=>{const a=t.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=Zy(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(ft.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),St())}isEqual(t){return this.batchId===t.batchId&&Xo(this.mutations,t.mutations,(n,i)=>v_(n,i))&&Xo(this.baseMutations,t.baseMutations,(n,i)=>v_(n,i))}}class Yf{constructor(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(t,n,i){Vt(t.mutations.length===i.length);let o=function(){return y6}();const a=t.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Yf(t,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe,Ct;function N6(e){switch(e){default:return ht();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Qy(e){if(e===void 0)return gi("GRPC error has no .code"),Z.UNKNOWN;switch(e){case oe.OK:return Z.OK;case oe.CANCELLED:return Z.CANCELLED;case oe.UNKNOWN:return Z.UNKNOWN;case oe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case oe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case oe.INTERNAL:return Z.INTERNAL;case oe.UNAVAILABLE:return Z.UNAVAILABLE;case oe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case oe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case oe.NOT_FOUND:return Z.NOT_FOUND;case oe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case oe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case oe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case oe.ABORTED:return Z.ABORTED;case oe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case oe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case oe.DATA_LOSS:return Z.DATA_LOSS;default:return ht()}}(Ct=oe||(oe={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new xr([4294967295,4294967295],0);function E_(e){const t=O6().encode(e),n=new vy;return n.update(t),new Uint8Array(n.digest())}function T_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new xr([n,i],0),new xr([o,a],0)]}class Jf{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=xr.fromNumber(this.Ie)}Ee(t,n,i){let o=t.add(n.multiply(xr.fromNumber(i)));return o.compare(V6)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=E_(t),[i,o]=T_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(t,n,i){const o=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),u=new Jf(a,o,n);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.Ie===0)return;const n=E_(t),[i,o]=T_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,n,i,o,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const o=new Map;return o.set(t,rl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Oc(ft.min(),o,new Kt(kt),vi(),St())}}class rl{constructor(t,n,i,o,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new rl(i,n,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n,i,o){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=o}}class Xy{constructor(t,n){this.targetId=t,this.me=n}}class Yy{constructor(t,n,i=Ce.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=o}}class P_{constructor(){this.fe=0,this.ge=I_(),this.pe=Ce.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=St(),n=St(),i=St();return this.ge.forEach((o,a)=>{switch(a){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ht()}}),new rl(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=I_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b6{constructor(t){this.Le=t,this.Be=new Map,this.ke=vi(),this.qe=S_(),this.Qe=new Kt(kt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:ht()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,i=t.me.count,o=this.Je(n);if(o){const a=o.target;if(Nd(a))if(i===0){const u=new ot(a.path);this.Ue(n,u,De.newNoDocument(u,ft.min()))}else Vt(i===1);else{const u=this.Ye(n);if(u!==i){const h=this.Ze(t),f=h?this.Xe(h,t,u):1;if(f!==0){this.je(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Or(i).toUint8Array()}catch(f){if(f instanceof xy)return Qo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Jf(u,o,a)}catch(f){return Qo(f instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.mightContain(h)||(this.Ue(n,a,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((a,u)=>{const h=this.Je(u);if(h){if(a.current&&Nd(h.target)){const f=new ot(h.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,De.newNoDocument(f,t))}a.be&&(n.set(u,a.ve()),a.Ce())}});let i=St();this.qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const g=this.Je(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(t));const o=new Oc(t,n,this.Qe,this.ke,i);return this.ke=vi(),this.qe=S_(),this.Qe=new Kt(kt),o}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new P_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Se(kt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new P_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function S_(){return new Kt(ot.comparator)}function I_(){return new Kt(ot.comparator)}const z6={asc:"ASCENDING",desc:"DESCENDING"},F6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B6={and:"AND",or:"OR"};class U6{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vd(e,t){return e.useProto3Json||kc(t)?t:{value:t}}function sc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function j6(e,t){return sc(e,t.toTimestamp())}function Hn(e){return Vt(!!e),ft.fromTimestamp(function(n){const i=tr(n);return new de(i.seconds,i.nanos)}(e))}function tp(e,t){return bd(e,t).canonicalString()}function bd(e,t){const n=function(o){return new qt(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function t0(e){const t=qt.fromString(e);return Vt(o0(t)),t}function zd(e,t){return tp(e.databaseId,t.path)}function Ih(e,t){const n=t0(t);if(n.get(1)!==e.databaseId.projectId)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ot(n0(n))}function e0(e,t){return tp(e.databaseId,t)}function q6(e){const t=t0(e);return t.length===4?qt.emptyPath():n0(t)}function Fd(e){return new qt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function n0(e){return Vt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function C_(e,t,n){return{name:zd(e,t),fields:n.value.mapValue.fields}}function H6(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ht()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],a=function(g,y){return g.useProto3Json?(Vt(y===void 0||typeof y=="string"),Ce.fromBase64String(y||"")):(Vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Ce.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=g.code===void 0?Z.UNKNOWN:Qy(g.code);return new rt(y,g.message||"")}(u);n=new Yy(i,o,a,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ih(e,i.document.name),a=Hn(i.document.updateTime),u=i.document.createTime?Hn(i.document.createTime):ft.min(),h=new pn({mapValue:{fields:i.document.fields}}),f=De.newFoundDocument(o,a,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];n=new Cu(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=Ih(e,i.document),a=i.readTime?Hn(i.readTime):ft.min(),u=De.newNoDocument(o,a),h=i.removedTargetIds||[];n=new Cu([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=Ih(e,i.document),a=i.removedTargetIds||[];n=new Cu([],a,o,null)}else{if(!("filter"in t))return ht();{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new M6(o,a),h=i.targetId;n=new Xy(h,u)}}return n}function $6(e,t){let n;if(t instanceof il)n={update:C_(e,t.key,t.value)};else if(t instanceof Ky)n={delete:zd(e,t.key)};else if(t instanceof Fr)n={update:C_(e,t.key,t.data),updateMask:t8(t.fieldMask)};else{if(!(t instanceof R6))return ht();n={verify:zd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof rc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ga)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof oc)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw ht()}(0,i))),t.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:j6(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ht()}(e,t.precondition)),n}function W6(e,t){return e&&e.length>0?(Vt(t!==void 0),e.map(n=>function(o,a){let u=o.updateTime?Hn(o.updateTime):Hn(a);return u.isEqual(ft.min())&&(u=Hn(a)),new A6(u,o.transformResults||[])}(n,t))):[]}function Z6(e,t){return{documents:[e0(e,t.path)]}}function G6(e,t){const n={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=e0(e,o);const a=function(g){if(g.length!==0)return r0(Wn.create(g,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(y=>function(P){return{field:Eo(P.field),direction:X6(P.dir)}}(y))}(t.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Vd(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{_t:n,parent:o}}function K6(e){let t=q6(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Vt(i===1);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let a=[];n.where&&(a=function(T){const P=i0(T);return P instanceof Wn&&Dy(P)?P.getFilters():[P]}(n.where));let u=[];n.orderBy&&(u=function(T){return T.map(P=>function(F){return new ic(To(F.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(P))}(n.orderBy));let h=null;n.limit&&(h=function(T){let P;return P=typeof T=="object"?T.value:T,kc(P)?null:P}(n.limit));let f=null;n.startAt&&(f=function(T){const P=!!T.before,N=T.values||[];return new nc(N,P)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const P=!T.before,N=T.values||[];return new nc(N,P)}(n.endAt)),f6(t,o,u,a,h,"F",f,g)}function Q6(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function i0(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=To(n.unaryFilter.field);return ce.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=To(n.unaryFilter.field);return ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=To(n.unaryFilter.field);return ce.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=To(n.unaryFilter.field);return ce.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(e):e.fieldFilter!==void 0?function(n){return ce.create(To(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(i=>i0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ht()}}(n.compositeFilter.op))}(e):ht()}function X6(e){return z6[e]}function Y6(e){return F6[e]}function J6(e){return B6[e]}function Eo(e){return{fieldPath:e.canonicalString()}}function To(e){return Te.fromServerFormat(e.fieldPath)}function r0(e){return e instanceof ce?function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(h_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(h_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:Y6(n.op),value:n.value}}}(e):e instanceof Wn?function(n){const i=n.getFilters().map(o=>r0(o));return i.length===1?i[0]:{compositeFilter:{op:J6(n.op),filters:i}}}(e):ht()}function t8(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function o0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n,i,o,a=ft.min(),u=ft.min(),h=Ce.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new zi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(t){this.ct=t}}function n8(e){const t=K6({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.un=new r8}addToCollectionParentIndex(t,n){return this.un.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Ji.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Ji.min())}updateCollectionGroup(t,n,i){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class r8{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Se(qt.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Se(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ts(0)}static kn(){return new ts(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.changes=new cs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,De.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?W.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(t,n,i,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(i!==null&&Ta(i.mutation,o,kn.empty(),de.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,St()).next(()=>i))}getLocalViewOfDocuments(t,n,i=St()){const o=Ir();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,i).next(a=>{let u=la();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,n){const i=Ir();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,St()))}populateOverlays(t,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(t,o).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(t,n,i,o){let a=vi();const u=Ea(),h=function(){return Ea()}();return n.forEach((f,g)=>{const y=i.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Fr)?a=a.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Ta(y.mutation,g,y.mutation.getFieldMask(),de.now())):u.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(t,a).next(f=>(f.forEach((g,y)=>u.set(g,y)),n.forEach((g,y)=>{var T;return h.set(g,new s8(y,(T=u.get(g))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(t,n){const i=Ea();let o=new Kt((u,h)=>u-h),a=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=n.get(f);if(g===null)return;let y=i.get(f)||kn.empty();y=h.applyToLocalView(g,y),i.set(f,y);const T=(o.get(h.batchId)||St()).add(f);o=o.insert(h.batchId,T)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,T=Uy();y.forEach(P=>{if(!a.has(P)){const N=Zy(n.get(P),i.get(P));N!==null&&T.set(P,N),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,T))}return W.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,o){return function(u){return ot.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):p6(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,o):this.getDocumentsMatchingCollectionQuery(t,n,i,o)}getNextDocuments(t,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,o-a.size):W.resolve(Ir());let h=-1,f=a;return u.next(g=>W.forEach(g,(y,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(y)?W.resolve():this.remoteDocumentCache.getEntry(t,y).next(P=>{f=f.insert(y,P)}))).next(()=>this.populateOverlays(t,g,a)).next(()=>this.computeViews(t,f,g,St())).next(y=>({batchId:h,changes:By(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ot(n)).next(i=>{let o=la();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,i,o){const a=n.collectionGroup;let u=la();return this.indexManager.getCollectionParents(t,a).next(h=>W.forEach(h,f=>{const g=function(T,P){return new Rc(P,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(t,g,i,o).next(y=>{y.forEach((T,P)=>{u=u.insert(T,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,o))).next(u=>{a.forEach((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,De.newInvalidDocument(y)))});let h=la();return u.forEach((f,g)=>{const y=a.get(f);y!==void 0&&Ta(y.mutation,g,kn.empty(),de.now()),Dc(n,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Hn(o.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:n8(o.bundledQuery),readTime:Hn(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.overlays=new Kt(ot.comparator),this.Ir=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ir();return W.forEach(n,o=>this.getOverlay(t,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((o,a)=>{this.ht(t,n,a)}),W.resolve()}removeOverlaysForBatchId(t,n,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),W.resolve()}getOverlaysForCollection(t,n,i){const o=Ir(),a=n.length+1,u=new ot(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,i,o){let a=new Kt((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let y=a.get(g.largestBatchId);y===null&&(y=Ir(),a=a.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=Ir(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=o)););return W.resolve(h)}ht(t,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new D6(n,i));let a=this.Ir.get(n);a===void 0&&(a=St(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.Tr=new Se(_e.Er),this.dr=new Se(_e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new _e(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new _e(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new ot(new qt([])),i=new _e(n,t),o=new _e(n,t+1),a=[];return this.dr.forEachInRange([i,o],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new ot(new qt([])),i=new _e(n,t),o=new _e(n,t+1);let a=St();return this.dr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(t){const n=new _e(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class _e{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return ot.comparator(t.key,n.key)||kt(t.wr,n.wr)}static Ar(t,n){return kt(t.wr,n.wr)||ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Se(_e.Er)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new L6(a,n,i,o);this.mutationQueue.push(u);for(const h of o)this.br=this.br.add(new _e(h.key,a)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return W.resolve(u)}lookupMutationBatch(t,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,o=this.vr(i),a=o<0?0:o;return W.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new _e(n,0),o=new _e(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],u=>{const h=this.Dr(u.wr);a.push(h)}),W.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Se(kt);return n.forEach(o=>{const a=new _e(o,0),u=new _e(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],h=>{i=i.add(h.wr)})}),W.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,o=i.length+1;let a=i;ot.isDocumentKey(a)||(a=a.child(""));const u=new _e(new ot(a),0);let h=new Se(kt);return this.br.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(h=h.add(f.wr)),!0)},u),W.resolve(this.Cr(h))}Cr(t){const n=[];return t.forEach(i=>{const o=this.Dr(i);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return W.forEach(n.mutations,o=>{const a=new _e(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new _e(n,0),o=this.br.firstAfterOrEqual(i);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(t){this.Mr=t,this.docs=function(){return new Kt(ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return W.resolve(i?i.document.mutableCopy():De.newInvalidDocument(n))}getEntries(t,n){let i=vi();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():De.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(t,n,i,o){let a=vi();const u=n.path,h=new ot(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||G5(Z5(y),i)<=0||(o.has(y.key)||Dc(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return W.resolve(a)}getAllFromCollectionGroup(t,n,i,o){ht()}Or(t,n){return W.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new f8(this)}getSize(t){return W.resolve(this.size)}}class f8 extends o8{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(t,o)):this.cr.removeEntry(i)}),W.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(t){this.persistence=t,this.Nr=new cs(n=>Kf(n),Qf),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ep,this.targetCount=0,this.kr=ts.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new ts(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Kn(n),W.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,i){let o=0;const a=[];return this.Nr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(t,h.targetId)),o++)}),W.waitFor(a).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return W.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),W.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(t,u))}),W.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return W.resolve(i)}containsKey(t,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(t,n){this.qr={},this.overlays={},this.Qr=new $f(0),this.Kr=!1,this.Kr=!0,this.$r=new c8,this.referenceDelegate=t(this),this.Ur=new p8(this),this.indexManager=new i8,this.remoteDocumentCache=function(o){return new d8(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new e8(n),this.Gr=new l8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new u8,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new h8(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){nt("MemoryPersistence","Starting transaction:",t);const o=new _8(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(t,n){return W.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class _8 extends Q5{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.Jr=new ep,this.Yr=null}static Zr(t){return new np(t)}get Xr(){if(this.Yr)return this.Yr;throw ht()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),W.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,i=>{const o=ot.fromPath(i);return this.ei(t,o).next(a=>{a||n.removeEntry(o,ft.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,n,i,o){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=o}static Wi(t,n){let i=St(),o=St();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ip(t,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return T4()?8:X5(w4())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,o){const a={result:null};return this.Yi(t,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(t,n,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new g8;return this.Xi(t,n,u).next(h=>{if(a.result=h,this.zi)return this.es(t,n,u,h.size)})}).next(()=>a.result)}es(t,n,i,o){return i.documentReadCount<this.ji?(na()<=At.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(na()<=At.DEBUG&&nt("QueryEngine","Query:",wo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(na()<=At.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qn(n))):W.resolve())}Yi(t,n){if(__(n))return W.resolve(null);let i=qn(n);return this.indexManager.getIndexType(t,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Od(n,null,"F"),i=qn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const u=St(...a);return this.Ji.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ts(n,h);return this.ns(n,g,u,f.readTime)?this.Yi(t,Od(n,null,"F")):this.rs(t,g,n,f)}))})))}Zi(t,n,i,o){return __(n)||o.isEqual(ft.min())?W.resolve(null):this.Ji.getDocuments(t,i).next(a=>{const u=this.ts(n,a);return this.ns(n,u,i,o)?W.resolve(null):(na()<=At.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.rs(t,u,n,W5(o,-1)).next(h=>h))})}ts(t,n){let i=new Se(zy(t));return n.forEach((o,a)=>{Dc(t,a)&&(i=i.add(a))}),i}ns(t,n,i,o){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(t,n,i){return na()<=At.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",wo(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ji.min(),i)}rs(t,n,i,o){return this.Ji.getDocumentsMatchingQuery(t,i,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(t,n,i,o){this.persistence=t,this.ss=n,this.serializer=o,this.os=new Kt(kt),this._s=new cs(a=>Kf(a),Qf),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new a8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function w8(e,t,n,i){return new y8(e,t,n,i)}async function s0(e,t){const n=pt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=St();for(const g of o){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of a){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next(g=>({hs:g,removedBatchIds:u,addedBatchIds:h}))})})}function E8(e,t){const n=pt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const T=g.batch,P=T.keys();let N=W.resolve();return P.forEach(F=>{N=N.next(()=>y.getEntry(f,F)).next(z=>{const $=g.docVersions.get(F);Vt($!==null),z.version.compareTo($)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),y.addEntry(z)))})}),N.next(()=>h.mutationQueue.removeMutationBatch(f,T))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=St();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>n.localDocuments.getDocuments(i,o))})}function a0(e){const t=pt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function T8(e,t){const n=pt(e),i=t.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];t.targetChanges.forEach((y,T)=>{const P=o.get(T);if(!P)return;h.push(n.Ur.removeMatchingKeys(a,y.removedDocuments,T).next(()=>n.Ur.addMatchingKeys(a,y.addedDocuments,T)));let N=P.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(T)!==null?N=N.withResumeToken(Ce.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,i)),o=o.insert(T,N),function(z,$,R){return z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(P,N,y)&&h.push(n.Ur.updateTargetData(a,N))});let f=vi(),g=St();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),h.push(P8(a,u,t.documentUpdates).next(y=>{f=y.Ps,g=y.Is})),!i.isEqual(ft.min())){const y=n.Ur.getLastRemoteSnapshotVersion(a).next(T=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(y)}return W.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,g)).next(()=>f)}).then(a=>(n.os=o,a))}function P8(e,t,n){let i=St(),o=St();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let u=vi();return n.forEach((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(ft.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):nt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Ps:u,Is:o}})}function S8(e,t){const n=pt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function I8(e,t){const n=pt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ur.getTargetData(i,t).next(a=>a?(o=a,W.resolve(o)):n.Ur.allocateTargetId(i).next(u=>(o=new zi(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Bd(e,t,n){const i=pt(e),o=i.os.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!nl(u))throw u;nt("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.os=i.os.remove(t),i._s.delete(o.target)}function A_(e,t,n){const i=pt(e);let o=ft.min(),a=St();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,y){const T=pt(f),P=T._s.get(y);return P!==void 0?W.resolve(T.os.get(P)):T.Ur.getTargetData(g,y)}(i,u,qn(t)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.ss.getDocumentsMatchingQuery(u,t,n?o:ft.min(),n?a:St())).next(h=>(C8(i,_6(t),h),{documents:h,Ts:a})))}function C8(e,t,n){let i=e.us.get(t)||ft.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.us.set(t,i)}class x_{constructor(){this.activeTargetIds=T6()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A8{constructor(){this.so=new x_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new x_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function Ch(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke="WebChannelConnection";class L8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(n,i,o,a,u){const h=Ch(),f=this.xo(n,i.toUriEncodedString());nt("RestConnection",`Sending RPC '${n}' ${h}:`,f,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,a,u),this.No(n,f,g,o).then(y=>(nt("RestConnection",`Received RPC '${n}' ${h}: `,y),y),y=>{throw Qo("RestConnection",`RPC '${n}' ${h} failed with error: `,y,"url: ",f,"request:",o),y})}Lo(n,i,o,a,u,h){return this.Mo(n,i,o,a,u)}Oo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ls}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>n[u]=a),o&&o.headers.forEach((a,u)=>n[u]=a)}xo(n,i){const o=k8[n];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,o){const a=Ch();return new Promise((u,h)=>{const f=new yy;f.setWithCredentials(!0),f.listenOnce(Ey.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Pu.NO_ERROR:const y=f.getResponseJson();nt(ke,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(y)),u(y);break;case Pu.TIMEOUT:nt(ke,`RPC '${t}' ${a} timed out`),h(new rt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const T=f.getStatus();if(nt(ke,`RPC '${t}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let P=f.getResponseJson();Array.isArray(P)&&(P=P[0]);const N=P==null?void 0:P.error;if(N&&N.status&&N.message){const F=function($){const R=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(R)>=0?R:Z.UNKNOWN}(N.status);h(new rt(F,N.message))}else h(new rt(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new rt(Z.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{nt(ke,`RPC '${t}' ${a} completed.`)}});const g=JSON.stringify(o);nt(ke,`RPC '${t}' ${a} sending request:`,o),f.send(n,"POST",g,i,15)})}Bo(t,n,i){const o=Ch(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=Sy(),h=Py(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.xmlHttpFactory=new wy({})),this.Oo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=a.join("");nt(ke,`Creating RPC '${t}' stream ${o}: ${y}`,f);const T=u.createWebChannel(y,f);let P=!1,N=!1;const F=new R8({Io:$=>{N?nt(ke,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(P||(nt(ke,`Opening RPC '${t}' stream ${o} transport.`),T.open(),P=!0),nt(ke,`RPC '${t}' stream ${o} sending:`,$),T.send($))},To:()=>T.close()}),z=($,R,I)=>{$.listen(R,M=>{try{I(M)}catch(j){setTimeout(()=>{throw j},0)}})};return z(T,aa.EventType.OPEN,()=>{N||(nt(ke,`RPC '${t}' stream ${o} transport opened.`),F.yo())}),z(T,aa.EventType.CLOSE,()=>{N||(N=!0,nt(ke,`RPC '${t}' stream ${o} transport closed`),F.So())}),z(T,aa.EventType.ERROR,$=>{N||(N=!0,Qo(ke,`RPC '${t}' stream ${o} transport errored:`,$),F.So(new rt(Z.UNAVAILABLE,"The operation could not be completed")))}),z(T,aa.EventType.MESSAGE,$=>{var R;if(!N){const I=$.data[0];Vt(!!I);const M=I,j=M.error||((R=M[0])===null||R===void 0?void 0:R.error);if(j){nt(ke,`RPC '${t}' stream ${o} received error:`,j);const X=j.status;let Y=function(S){const k=oe[S];if(k!==void 0)return Qy(k)}(X),C=j.message;Y===void 0&&(Y=Z.INTERNAL,C="Unknown error status: "+X+" with message "+j.message),N=!0,F.So(new rt(Y,C)),T.close()}else nt(ke,`RPC '${t}' stream ${o} received:`,I),F.bo(I)}}),z(h,Ty.STAT_EVENT,$=>{$.stat===Rd.PROXY?nt(ke,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===Rd.NOPROXY&&nt(ke,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(e){return new U6(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,n,i=1e3,o=1.5,a=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-i);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,n,i,o,a,u,h,f){this.ui=t,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new l0(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===n&&this.P_(i,o)},i=>{t(()=>{const o=new rt(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return nt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D8 extends u0{constructor(t,n,i,o,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=H6(this.serializer,t),i=function(a){if(!("targetChange"in a))return ft.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ft.min():u.readTime?Hn(u.readTime):ft.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Fd(this.serializer),n.addTarget=function(a,u){let h;const f=u.target;if(h=Nd(f)?{documents:Z6(a,f)}:{query:G6(a,f)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Jy(a,u.resumeToken);const g=Vd(a,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(ft.min())>0){h.readTime=sc(a,u.snapshotVersion.toTimestamp());const g=Vd(a,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=Q6(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Fd(this.serializer),n.removeTarget=t,this.a_(n)}}class M8 extends u0{constructor(t,n,i,o,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Vt(!!t.streamToken),this.lastStreamToken=t.streamToken,Vt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=W6(t.writeResults,t.commitTime),i=Hn(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Fd(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>$6(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8 extends class{}{constructor(t,n,i,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(t,bd(n,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(Z.UNKNOWN,a.toString())})}Lo(t,n,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Lo(t,bd(n,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Z.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class O8{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gi(n),this.D_=!1):nt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(t,n,i,o,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{Br(this)&&(nt("RemoteStore","Restarting streams for network reachability change."),await async function(f){const g=pt(f);g.L_.add(4),await ol(g),g.q_.set("Unknown"),g.L_.delete(4),await bc(g)}(this))})}),this.q_=new O8(i,o)}}async function bc(e){if(Br(e))for(const t of e.B_)await t(!0)}async function ol(e){for(const t of e.B_)await t(!1)}function c0(e,t){const n=pt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),ap(n)?sp(n):hs(n).r_()&&op(n,t))}function rp(e,t){const n=pt(e),i=hs(n);n.N_.delete(t),i.r_()&&h0(n,t),n.N_.size===0&&(i.r_()?i.o_():Br(n)&&n.q_.set("Unknown"))}function op(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hs(e).A_(t)}function h0(e,t){e.Q_.xe(t),hs(e).R_(t)}function sp(e){e.Q_=new b6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),hs(e).start(),e.q_.v_()}function ap(e){return Br(e)&&!hs(e).n_()&&e.N_.size>0}function Br(e){return pt(e).L_.size===0}function d0(e){e.Q_=void 0}async function b8(e){e.q_.set("Online")}async function z8(e){e.N_.forEach((t,n)=>{op(e,t)})}async function F8(e,t){d0(e),ap(e)?(e.q_.M_(t),sp(e)):e.q_.set("Unknown")}async function B8(e,t,n){if(e.q_.set("Online"),t instanceof Yy&&t.state===2&&t.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.N_.delete(h),o.Q_.removeTarget(h))}(e,t)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ac(e,i)}else if(t instanceof Cu?e.Q_.Ke(t):t instanceof Xy?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ft.min()))try{const i=await a0(e.localStore);n.compareTo(i)>=0&&await function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(g);y&&a.N_.set(g,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Ce.EMPTY_BYTE_STRING,y.snapshotVersion)),h0(a,f);const T=new zi(y.target,f,g,y.sequenceNumber);op(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(e,n)}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),await ac(e,i)}}async function ac(e,t,n){if(!nl(t))throw t;e.L_.add(1),await ol(e),e.q_.set("Offline"),n||(n=()=>a0(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{nt("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await bc(e)})}function f0(e,t){return t().catch(n=>ac(e,n,t))}async function zc(e){const t=pt(e),n=er(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;U8(t);)try{const o=await S8(t.localStore,i);if(o===null){t.O_.length===0&&n.o_();break}i=o.batchId,j8(t,o)}catch(o){await ac(t,o)}p0(t)&&m0(t)}function U8(e){return Br(e)&&e.O_.length<10}function j8(e,t){e.O_.push(t);const n=er(e);n.r_()&&n.V_&&n.m_(t.mutations)}function p0(e){return Br(e)&&!er(e).n_()&&e.O_.length>0}function m0(e){er(e).start()}async function q8(e){er(e).p_()}async function H8(e){const t=er(e);for(const n of e.O_)t.m_(n.mutations)}async function $8(e,t,n){const i=e.O_.shift(),o=Yf.from(i,t,n);await f0(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await zc(e)}async function W8(e,t){t&&er(e).V_&&await async function(i,o){if(function(u){return N6(u)&&u!==Z.ABORTED}(o.code)){const a=i.O_.shift();er(i).s_(),await f0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await zc(i)}}(e,t),p0(e)&&m0(e)}async function R_(e,t){const n=pt(e);n.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=Br(n);n.L_.add(3),await ol(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await bc(n)}async function Z8(e,t){const n=pt(e);t?(n.L_.delete(2),await bc(n)):t||(n.L_.add(2),await ol(n),n.q_.set("Unknown"))}function hs(e){return e.K_||(e.K_=function(n,i,o){const a=pt(n);return a.w_(),new D8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(e.datastore,e.asyncQueue,{Eo:b8.bind(null,e),Ro:z8.bind(null,e),mo:F8.bind(null,e),d_:B8.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),ap(e)?sp(e):e.q_.set("Unknown")):(await e.K_.stop(),d0(e))})),e.K_}function er(e){return e.U_||(e.U_=function(n,i,o){const a=pt(n);return a.w_(),new M8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:q8.bind(null,e),mo:W8.bind(null,e),f_:H8.bind(null,e),g_:$8.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await zc(e)):(await e.U_.stop(),e.O_.length>0&&(nt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n,i,o,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,o,a){const u=Date.now()+i,h=new lp(t,n,u,o,a);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(e,t){if(gi("AsyncQueue",`${t}: ${e}`),nl(e))return new rt(Z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.comparator=t?(n,i)=>t(n,i)||ot.comparator(n.key,i.key):(n,i)=>ot.comparator(n.key,i.key),this.keyedMap=la(),this.sortedSet=new Kt(this.comparator)}static emptySet(t){return new jo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof jo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new jo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.W_=new Kt(ot.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):ht():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class es{constructor(t,n,i,o,a,u,h,f,g){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,n,i,o,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new es(t,n,jo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class K8{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const o=pt(n),a=o.queries;o.queries=D_(),a.forEach((u,h)=>{for(const f of h.j_)f.onError(i)})})(this,new rt(Z.ABORTED,"Firestore shutting down"))}}function D_(){return new cs(e=>by(e),Lc)}async function Q8(e,t){const n=pt(e);let i=3;const o=t.query;let a=n.queries.get(o);a?!a.H_()&&t.J_()&&(i=2):(a=new G8,i=t.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(o,!0);break;case 1:a.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=up(u,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(h)}n.queries.set(o,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&cp(n)}async function X8(e,t){const n=pt(e),i=t.query;let o=3;const a=n.queries.get(i);if(a){const u=a.j_.indexOf(t);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=t.J_()?0:1:!a.H_()&&t.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Y8(e,t){const n=pt(e);let i=!1;for(const o of t){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.j_)h.X_(o)&&(i=!0);u.z_=o}}i&&cp(n)}function J8(e,t,n){const i=pt(e),o=i.queries.get(t);if(o)for(const a of o.j_)a.onError(n);i.queries.delete(t)}function cp(e){e.Y_.forEach(t=>{t.next()})}var Ud,M_;(M_=Ud||(Ud={})).ea="default",M_.Cache="cache";class tw{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new es(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=es.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t){this.key=t}}class g0{constructor(t){this.key=t}}class ew{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=St(),this.mutatedKeys=St(),this.Aa=zy(t),this.Ra=new jo(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new L_,o=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,T)=>{const P=o.get(y),N=Dc(this.query,T)?T:null,F=!!P&&this.mutatedKeys.has(P.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let $=!1;P&&N?P.data.isEqual(N.data)?F!==z&&(i.track({type:3,doc:N}),$=!0):this.ga(P,N)||(i.track({type:2,doc:N}),$=!0,(f&&this.Aa(N,f)>0||g&&this.Aa(N,g)<0)&&(h=!0)):!P&&N?(i.track({type:0,doc:N}),$=!0):P&&!N&&(i.track({type:1,doc:P}),$=!0,(f||g)&&(h=!0)),$&&(N?(u=u.add(N),a=z?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{Ra:u,fa:i,ns:h,mutatedKeys:a}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,o){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const u=t.fa.G_();u.sort((y,T)=>function(N,F){const z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return z(N)-z(F)}(y.type,T.type)||this.Aa(y.doc,T.doc)),this.pa(i),o=o!=null&&o;const h=n&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,g=f!==this.Ea;return this.Ea=f,u.length!==0||g?{snapshot:new es(this.query,t.Ra,a,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new L_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=St(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new g0(i))}),this.da.forEach(i=>{t.has(i)||n.push(new _0(i))}),n}ba(t){this.Ta=t.Ts,this.da=St();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return es.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nw{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class iw{constructor(t){this.key=t,this.va=!1}}class rw{constructor(t,n,i,o,a,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new cs(h=>by(h),Lc),this.Ma=new Map,this.xa=new Set,this.Oa=new Kt(ot.comparator),this.Na=new Map,this.La=new ep,this.Ba={},this.ka=new Map,this.qa=ts.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ow(e,t,n=!0){const i=P0(e);let o;const a=i.Fa.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await v0(i,t,n,!0),o}async function sw(e,t){const n=P0(e);await v0(n,t,!0,!1)}async function v0(e,t,n,i){const o=await I8(e.localStore,qn(t)),a=o.targetId,u=e.sharedClientState.addLocalQueryTarget(a,n);let h;return i&&(h=await aw(e,t,a,u==="current",o.resumeToken)),e.isPrimaryClient&&n&&c0(e.remoteStore,o),h}async function aw(e,t,n,i,o){e.Ka=(T,P,N)=>async function(z,$,R,I){let M=$.view.ma(R);M.ns&&(M=await A_(z.localStore,$.query,!1).then(({documents:C})=>$.view.ma(C,M)));const j=I&&I.targetChanges.get($.targetId),X=I&&I.targetMismatches.get($.targetId)!=null,Y=$.view.applyChanges(M,z.isPrimaryClient,j,X);return O_(z,$.targetId,Y.wa),Y.snapshot}(e,T,P,N);const a=await A_(e.localStore,t,!0),u=new ew(t,a.Ts),h=u.ma(a.documents),f=rl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",o),g=u.applyChanges(h,e.isPrimaryClient,f);O_(e,n,g.wa);const y=new nw(t,n,u);return e.Fa.set(t,y),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),g.snapshot}async function lw(e,t,n){const i=pt(e),o=i.Fa.get(t),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter(u=>!Lc(u,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&rp(i.remoteStore,o.targetId),jd(i,o.targetId)}).catch(el)):(jd(i,o.targetId),await Bd(i.localStore,o.targetId,!0))}async function uw(e,t){const n=pt(e),i=n.Fa.get(t),o=n.Ma.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),rp(n.remoteStore,i.targetId))}async function cw(e,t,n){const i=gw(e);try{const o=await function(u,h){const f=pt(u),g=de.now(),y=h.reduce((N,F)=>N.add(F.key),St());let T,P;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let F=vi(),z=St();return f.cs.getEntries(N,y).next($=>{F=$,F.forEach((R,I)=>{I.isValidDocument()||(z=z.add(R))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,F)).next($=>{T=$;const R=[];for(const I of h){const M=k6(I,T.get(I.key).overlayedDocument);M!=null&&R.push(new Fr(I.key,M,ky(M.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(N,g,R,h)}).next($=>{P=$;const R=$.applyToLocalDocumentSet(T,z);return f.documentOverlayCache.saveOverlays(N,$.batchId,R)})}).then(()=>({batchId:P.batchId,changes:By(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let g=u.Ba[u.currentUser.toKey()];g||(g=new Kt(kt)),g=g.insert(h,f),u.Ba[u.currentUser.toKey()]=g}(i,o.batchId,n),await sl(i,o.changes),await zc(i.remoteStore)}catch(o){const a=up(o,"Failed to persist write");n.reject(a)}}async function y0(e,t){const n=pt(e);try{const i=await T8(n.localStore,t);t.targetChanges.forEach((o,a)=>{const u=n.Na.get(a);u&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?Vt(u.va):o.removedDocuments.size>0&&(Vt(u.va),u.va=!1))}),await sl(n,i,t)}catch(i){await el(i)}}function N_(e,t,n){const i=pt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Fa.forEach((a,u)=>{const h=u.view.Z_(t);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=pt(u);f.onlineState=h;let g=!1;f.queries.forEach((y,T)=>{for(const P of T.j_)P.Z_(h)&&(g=!0)}),g&&cp(f)}(i.eventManager,t),o.length&&i.Ca.d_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function hw(e,t,n){const i=pt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const o=i.Na.get(t),a=o&&o.key;if(a){let u=new Kt(ot.comparator);u=u.insert(a,De.newNoDocument(a,ft.min()));const h=St().add(a),f=new Oc(ft.min(),new Map,new Kt(kt),u,h);await y0(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(t),hp(i)}else await Bd(i.localStore,t,!1).then(()=>jd(i,t,n)).catch(el)}async function dw(e,t){const n=pt(e),i=t.batch.batchId;try{const o=await E8(n.localStore,t);E0(n,i,null),w0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sl(n,o)}catch(o){await el(o)}}async function fw(e,t,n){const i=pt(e);try{const o=await function(u,h){const f=pt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(T=>(Vt(T!==null),y=T.keys(),f.mutationQueue.removeMutationBatch(g,T))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);E0(i,t,n),w0(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await sl(i,o)}catch(o){await el(o)}}function w0(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function E0(e,t,n){const i=pt(e);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(t);a&&(n?a.reject(n):a.resolve(),o=o.remove(t)),i.Ba[i.currentUser.toKey()]=o}}function jd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||T0(e,i)})}function T0(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(rp(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),hp(e))}function O_(e,t,n){for(const i of n)i instanceof _0?(e.La.addReference(i.key,t),pw(e,i)):i instanceof g0?(nt("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||T0(e,i.key)):ht()}function pw(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(nt("SyncEngine","New document in limbo: "+n),e.xa.add(i),hp(e))}function hp(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ot(qt.fromString(t)),i=e.qa.next();e.Na.set(i,new iw(n)),e.Oa=e.Oa.insert(n,i),c0(e.remoteStore,new zi(qn(Vy(n.path)),i,"TargetPurposeLimboResolution",$f.oe))}}async function sl(e,t,n){const i=pt(e),o=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((h,f)=>{u.push(i.Ka(f,t,n).then(g=>{var y;if((g||n)&&i.isPrimaryClient){const T=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ip.Wi(f.targetId,g);a.push(T)}}))}),await Promise.all(u),i.Ca.d_(o),await async function(f,g){const y=pt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>W.forEach(g,P=>W.forEach(P.$i,N=>y.persistence.referenceDelegate.addReference(T,P.targetId,N)).next(()=>W.forEach(P.Ui,N=>y.persistence.referenceDelegate.removeReference(T,P.targetId,N)))))}catch(T){if(!nl(T))throw T;nt("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const P=T.targetId;if(!T.fromCache){const N=y.os.get(P),F=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(F);y.os=y.os.insert(P,z)}}}(i.localStore,a))}async function mw(e,t){const n=pt(e);if(!n.currentUser.isEqual(t)){nt("SyncEngine","User change. New user:",t.toKey());const i=await s0(n.localStore,t);n.currentUser=t,function(a,u){a.ka.forEach(h=>{h.forEach(f=>{f.reject(new rt(Z.CANCELLED,u))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sl(n,i.hs)}}function _w(e,t){const n=pt(e),i=n.Na.get(t);if(i&&i.va)return St().add(i.key);{let o=St();const a=n.Ma.get(t);if(!a)return o;for(const u of a){const h=n.Fa.get(u);o=o.unionWith(h.view.Va)}return o}}function P0(e){const t=pt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_w.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hw.bind(null,t),t.Ca.d_=Y8.bind(null,t.eventManager),t.Ca.$a=J8.bind(null,t.eventManager),t}function gw(e){const t=pt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fw.bind(null,t),t}class V_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Vc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return w8(this.persistence,new v8,t.initialUser,this.serializer)}createPersistence(t){return new m8(np.Zr,this.serializer)}createSharedClientState(t){return new A8}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vw{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>N_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mw.bind(null,this.syncEngine),await Z8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new K8}()}createDatastore(t){const n=Vc(t.databaseInfo.databaseId),i=function(a){return new L8(a)}(t.databaseInfo);return function(a,u,h,f){return new N8(a,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,o,a,u,h){return new V8(i,o,a,u,h)}(this.localStore,this.datastore,t.asyncQueue,n=>N_(this.syncEngine,n,0),function(){return k_.D()?new k_:new x8}())}createSyncEngine(t,n){return function(o,a,u,h,f,g,y){const T=new rw(o,a,u,h,f,g);return y&&(T.Qa=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const a=pt(o);nt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ol(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):gi("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Re.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async a=>{nt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(nt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=up(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function xh(e,t){e.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async o=>{i.isEqual(o)||(await s0(t.localStore,o),i=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function b_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Tw(e);nt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>R_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>R_(t.remoteStore,o)),e._onlineComponents=t}function Ew(e){return e.name==="FirebaseError"?e.code===Z.FAILED_PRECONDITION||e.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Tw(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await xh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Ew(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await xh(e,new V_)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),await xh(e,new V_);return e._offlineComponents}async function S0(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),await b_(e,e._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),await b_(e,new vw))),e._onlineComponents}function Pw(e){return S0(e).then(t=>t.syncEngine)}async function Sw(e){const t=await S0(e),n=t.eventManager;return n.onListen=ow.bind(null,t.syncEngine),n.onUnlisten=lw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uw.bind(null,t.syncEngine),n}function Iw(e,t,n={}){const i=new Ki;return e.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,g){const y=new yw({next:P=>{u.enqueueAndForget(()=>X8(a,T)),P.fromCache&&f.source==="server"?g.reject(new rt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(P)},error:P=>g.reject(P)}),T=new tw(h,y,{includeMetadataChanges:!0,_a:!0});return Q8(a,T)}(await Sw(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(e,t,n){if(!n)throw new rt(Z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Cw(e,t,n,i){if(t===!0&&i===!0)throw new rt(Z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function F_(e){if(!ot.isDocumentKey(e))throw new rt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function B_(e){if(ot.isDocumentKey(e))throw new rt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ht()}function Ka(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dp(e);throw new rt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Cw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fc{constructor(t,n,i,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new rt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new b5;switch(i.type){case"firstParty":return new U5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new rt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=z_.get(n);i&&(nt("ComponentProvider","Removing Datastore"),z_.delete(n),i.terminate())}(this),Promise.resolve()}}function Aw(e,t,n,i={}){var o;const a=(e=Ka(e,Fc))._getSettings(),u=`${t}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Re.MOCK_USER;else{h=y4(i.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new rt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Re(g)}e._authCredentials=new z5(new Iy(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Bc(this.firestore,t,this._query)}}class gn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gn(this.firestore,t,this._key)}}class Qi extends Bc{constructor(t,n,i){super(t,n,Vy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gn(this.firestore,null,new ot(t))}withConverter(t){return new Qi(this.firestore,t,this._path)}}function xw(e,t,...n){if(e=Ba(e),C0("collection","path",t),e instanceof Fc){const i=qt.fromString(t,...n);return B_(i),new Qi(e,null,i)}{if(!(e instanceof gn||e instanceof Qi))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(qt.fromString(t,...n));return B_(i),new Qi(e.firestore,null,i)}}function j_(e,t,...n){if(e=Ba(e),arguments.length===1&&(t=Cy.newId()),C0("doc","path",t),e instanceof Fc){const i=qt.fromString(t,...n);return F_(i),new gn(e,null,new ot(i))}{if(!(e instanceof gn||e instanceof Qi))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(qt.fromString(t,...n));return F_(i),new gn(e.firestore,e instanceof Qi?e.converter:null,new ot(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new l0(this,"async_queue_retry"),this.Eu=()=>{const n=Ah();n&&nt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const t=Ah();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const n=Ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ki;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(t){if(!nl(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(t){const n=this.au.then(()=>(this.Pu=!0,t().catch(i=>{this.hu=i,this.Pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw gi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(t,n,i){this.du(),this.Tu.indexOf(t)>-1&&(n=0);const o=lp.createAndSchedule(this,t,n,i,a=>this.Vu(a));return this.lu.push(o),o}du(){this.hu&&ht()}verifyOperationInProgress(){}async mu(){let t;do t=this.au,await t;while(t!==this.au)}fu(t){for(const n of this.lu)if(n.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const n=this.lu.indexOf(t);this.lu.splice(n,1)}}class fp extends Fc{constructor(t,n,i,o){super(t,n,i,o),this.type="firestore",this._queue=function(){return new kw}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||x0(this),this._firestoreClient.terminate()}}function Rw(e,t){const n=typeof e=="object"?e:A5(),i=typeof e=="string"?e:"(default)",o=P5(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=g4("firestore");a&&Aw(o,...a)}return o}function A0(e){return e._firestoreClient||x0(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function x0(e){var t,n,i;const o=e._freezeSettings(),a=function(h,f,g,y){return new t6(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,I0(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new ww(e._authCredentials,e._appCheckCredentials,e._queue,a),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ns(Ce.fromBase64String(t))}catch(n){throw new rt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ns(Ce.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=/^__.*__$/;class Dw{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,n,this.fieldTransforms):new il(t,this.data,n,this.fieldTransforms)}}function R0(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class gp{constructor(t,n,i,o,a,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new gp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Su({path:i,Du:!1});return o.vu(t),o}Cu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Su({path:i,Du:!1});return o.yu(),o}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return lc(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(t.length===0)throw this.Mu("Document fields must not be empty");if(R0(this.wu)&&Lw.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class Mw{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Vc(t)}Nu(t,n,i,o=!1){return new gp({wu:t,methodName:n,Ou:i,path:Te.emptyPath(),Du:!1,xu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nw(e){const t=e._freezeSettings(),n=Vc(e._databaseId);return new Mw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ow(e,t,n,i,o,a={}){const u=e.Nu(a.merge||a.mergeFields?2:0,t,n,o);N0("Data must be an object, but it was:",u,i);const h=D0(i,u);let f,g;if(a.merge)f=new kn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const T of a.mergeFields){const P=Vw(t,T,n);if(!u.contains(P))throw new rt(Z.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);zw(y,P)||y.push(P)}f=new kn(y),g=u.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,g=u.fieldTransforms;return new Dw(new pn(h),f,g)}function L0(e,t){if(M0(e=Ba(e)))return N0("Unsupported field value:",t,e),D0(e,t);if(e instanceof k0)return function(i,o){if(!R0(o.wu))throw o.Mu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Mu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&t.wu!==4)throw t.Mu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=L0(h,o.Fu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(e,t)}return function(i,o){if((i=Ba(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return P6(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=de.fromDate(i);return{timestampValue:sc(o.serializer,a)}}if(i instanceof de){const a=new de(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sc(o.serializer,a)}}if(i instanceof mp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ns)return{bytesValue:Jy(o.serializer,i._byteString)};if(i instanceof gn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Mu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof _p)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Mu("VectorValues must only contain numeric values.");return Xf(h.serializer,f)})}}}}}}(i,o);throw o.Mu(`Unsupported field value: ${dp(i)}`)}(e,t)}function D0(e,t){const n={};return Ay(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):us(e,(i,o)=>{const a=L0(o,t.bu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function M0(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof de||e instanceof mp||e instanceof ns||e instanceof gn||e instanceof k0||e instanceof _p)}function N0(e,t,n){if(!M0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=dp(n);throw i==="an object"?t.Mu(e+" a custom object"):t.Mu(e+" "+i)}}function Vw(e,t,n){if((t=Ba(t))instanceof pp)return t._internalPath;if(typeof t=="string")return O0(e,t);throw lc("Field path arguments must be of type string or ",e,!1,void 0,n)}const bw=new RegExp("[~\\*/\\[\\]]");function O0(e,t,n){if(t.search(bw)>=0)throw lc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pp(...t.split("."))._internalPath}catch{throw lc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lc(e,t,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new rt(Z.INVALID_ARGUMENT,h+e+f)}function zw(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n,i,o,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fw extends V0{data(){return super.data()}}function b0(e,t){return typeof t=="string"?O0(e,t):t instanceof pp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new rt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uw{convertValue(t,n="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ht()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return us(t,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,o;const a=(o=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>te(u.doubleValue));return new _p(a)}convertGeoPoint(t){return new mp(te(t.latitude),te(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Zf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ha(t));default:return null}}convertTimestamp(t){const n=tr(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=qt.fromString(t);Vt(o0(i));const o=new $a(i.get(1),i.get(3)),a=new ot(i.popFirst(5));return o.isEqual(n)||gi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qw extends V0{constructor(t,n,i,o,a,u){super(t,n,i,o,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(b0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Au extends qw{data(t={}){return super.data(t)}}class Hw{constructor(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Au(this._firestore,this._userDataWriter,i.key,i,new cu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Au(o._firestore,o._userDataWriter,h.doc.key,h.doc,new cu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Au(o._firestore,o._userDataWriter,h.doc.key,h.doc,new cu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:$w(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $w(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}class Ww extends Uw{constructor(t){super(),this.firestore=t}convertBytes(t){return new ns(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Zw(e){e=Ka(e,Bc);const t=Ka(e.firestore,fp),n=A0(t),i=new Ww(t);return Bw(e._query),Iw(n,e._query).then(o=>new Hw(t,i,e,o))}function q_(e,t,n){e=Ka(e,gn);const i=Ka(e.firestore,fp),o=jw(e.converter,t);return Gw(i,[Ow(Nw(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,hi.none())])}function Gw(e,t){return function(i,o){const a=new Ki;return i.asyncQueue.enqueueAndForget(async()=>cw(await Pw(i),o,a)),a.promise}(A0(e),t)}(function(t,n=!0){(function(o){ls=o})(C5),tc(new Ua("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new fp(new F5(i.getProvider("auth-internal")),new q5(i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new rt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(g.options.projectId,y)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Uo(s_,"4.7.2",t),Uo(s_,"4.7.2","esm2017")})();var Kw="firebase",Qw="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo(Kw,Qw,"app");const Xw={apiKey:"AIzaSyCx9cgXX7AY853Kc6PtE8qjCWuAbrdbPjg",authDomain:"territorios-bd4b0.firebaseapp.com",projectId:"territorios-bd4b0",storageBucket:"territorios-bd4b0.firebasestorage.app",messagingSenderId:"113980364883",appId:"1:113980364883:web:66aa7008798af9d014cea6"},Yw=my(Xw),qd=Rw(Yw),uc=async e=>{const t=await Zw(xw(qd,"territories"));let n=[];t.forEach(i=>n.push({id:i.id,data:i.data()})),e(i=>[...n])},Jw=({editMode:e,toggleEditMode:t})=>et.jsx(et.Fragment,{children:e?et.jsx("button",{onClick:t,children:et.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",children:et.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z",fill:"#000000"})})}):et.jsx("button",{onClick:t,children:et.jsx("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:et.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.1213 2.70705C19.9497 1.53548 18.0503 1.53547 16.8787 2.70705L15.1989 4.38685L7.29289 12.2928C7.16473 12.421 7.07382 12.5816 7.02986 12.7574L6.02986 16.7574C5.94466 17.0982 6.04451 17.4587 6.29289 17.707C6.54127 17.9554 6.90176 18.0553 7.24254 17.9701L11.2425 16.9701C11.4184 16.9261 11.5789 16.8352 11.7071 16.707L19.5556 8.85857L21.2929 7.12126C22.4645 5.94969 22.4645 4.05019 21.2929 2.87862L21.1213 2.70705ZM18.2929 4.12126C18.6834 3.73074 19.3166 3.73074 19.7071 4.12126L19.8787 4.29283C20.2692 4.68336 20.2692 5.31653 19.8787 5.70705L18.8622 6.72357L17.3068 5.10738L18.2929 4.12126ZM15.8923 6.52185L17.4477 8.13804L10.4888 15.097L8.37437 15.6256L8.90296 13.5112L15.8923 6.52185ZM4 7.99994C4 7.44766 4.44772 6.99994 5 6.99994H10C10.5523 6.99994 11 6.55223 11 5.99994C11 5.44766 10.5523 4.99994 10 4.99994H5C3.34315 4.99994 2 6.34309 2 7.99994V18.9999C2 20.6568 3.34315 21.9999 5 21.9999H16C17.6569 21.9999 19 20.6568 19 18.9999V13.9999C19 13.4477 18.5523 12.9999 18 12.9999C17.4477 12.9999 17 13.4477 17 13.9999V18.9999C17 19.5522 16.5523 19.9999 16 19.9999H5C4.44772 19.9999 4 19.5522 4 18.9999V7.99994Z",fill:"#000000"})})})}),tE=(e,t,n)=>{const[i,o]=gt.useState({state:"",lastDateDone:"",notes:""}),[a,u]=gt.useState(!1),{setData:h}=t,{state:f,lastDateDone:g,notes:y}=i,T=z=>{switch(z){case"completed":return"green";case"inProgress":return"yellow";default:return"red"}};return{handleFormChange:z=>{o($=>({...$,[z.target.name]:z.target.value}))},handleSaveChanges:async z=>{u(!0),z.preventDefault();const $={color:T(f),status:f,lastDateDone:g,notes:y};await q_(j_(qd,"territories",e),{...$}),await uc(h),n(),u(!1)},handleReset:async z=>{u(!0),z.preventDefault();const $={color:"red",status:"pending",lastDateDone:g,notes:y};await q_(j_(qd,"territories",e),{...$}),await uc(h),n(),u(!1)},lastDateDone:g,state:f,notes:y,updatingData:a}},eE=({id:e,updateContent:t,toggleEditMode:n})=>{const{handleFormChange:i,handleSaveChanges:o,handleReset:a,lastDateDone:u,state:h,notes:f,updatingData:g}=tE(e,t,n);return et.jsxs("form",{onSubmit:o,children:[et.jsxs("div",{className:"tm-state-block",children:[et.jsx("label",{htmlFor:"state",children:"Estado:"}),et.jsx("div",{children:et.jsxs("select",{onChange:i,name:"state",id:"state",placeholder:"Estado",children:[et.jsx("option",{value:"",children:"- Seleccione estado del territorio -"}),et.jsx("option",{value:"pending",children:"Pendiente"}),et.jsx("option",{value:"inProgress",children:"En proceso"}),et.jsx("option",{value:"completed",children:"Completado"})]})})]}),h==="completed"&&et.jsxs("div",{className:"tm-date-block",children:[et.jsx("label",{htmlFor:"lastDateDone",children:"Fecha de realizado:"}),et.jsx("div",{children:et.jsx("input",{onChange:i,name:"lastDateDone",id:"lastDateDone",type:"date",value:u,required:!0})})]}),et.jsxs("div",{className:"tm-notes-block",children:[et.jsx("label",{htmlFor:"notes",children:"Notas:"}),et.jsx("div",{children:et.jsx("textarea",{onChange:i,name:"notes",id:"notes",value:f})})]}),et.jsxs("div",{className:"tm-submit-block",children:[et.jsx("input",{type:"submit",value:"GUARDAR",className:"tm-mr-1"}),et.jsx("button",{onClick:a,className:"tm-btn tm-btn-green tm-ml-1",children:et.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",width:"25",height:"25",viewBox:"0 0 512 512","data-name":"Layer 1",id:"Layer_1",children:et.jsx("path",{d:"M64,256H34A222,222,0,0,1,430,118.15V85h30V190H355V160h67.27A192.21,192.21,0,0,0,256,64C150.13,64,64,150.13,64,256Zm384,0c0,105.87-86.13,192-192,192A192.21,192.21,0,0,1,89.73,352H157V322H52V427H82V393.85A222,222,0,0,0,478,256Z"})})})]}),g&&et.jsx("div",{className:"uploading-data-spinner"})]})},nE={pending:"Pendiente",inProgress:"En proceso",completed:"Completado"},iE=({status:e,lastDateDone:t,notes:n})=>et.jsxs(et.Fragment,{children:[et.jsxs("ul",{className:"tm-polygon-details",children:[et.jsxs("li",{children:[et.jsx("b",{children:"Estado"}),": ",nE[e]]}),e==="completed"&&et.jsxs("li",{children:[et.jsx("b",{children:"ltima vez completado"}),": ",t]})]}),n&&et.jsxs(et.Fragment,{children:[et.jsx("h4",{children:"Notas:"}),et.jsx("p",{children:n})]})]}),rE=({territory:e,square:t,state:n,lastDateDone:i,notes:o,editMode:a,toggleEditMode:u,updateContent:h})=>et.jsxs("div",{className:"tm-popup-content-block",children:[et.jsxs("h3",{children:["Territorio N",e]}),et.jsxs("p",{children:["Manzana N",t]}),a?et.jsx(eE,{id:`${e}.${t}`,updateContent:h,toggleEditMode:u}):et.jsx(iE,{status:n,lastDateDone:i,notes:o})]}),oE=({squareCords:e,squareData:t,updateContent:n})=>{const{coordinates:i,territory:o,square:a}=e,[u,h]=gt.useState(!1),f=()=>h(g=>!g);return et.jsxs(t4,{pathOptions:{color:t.data.color},positions:i,children:[et.jsx(o4,{attributes:{stroke:"transparent"},bounds:i,children:et.jsx("text",{x:"50%",y:"50%",fill:"black",fontFamily:"24",children:o})}),et.jsxs(e4,{children:[et.jsx(Jw,{editMode:u,toggleEditMode:f,id:`${o}.${a}`,updateContent:n}),et.jsx(rE,{territory:o,square:a,state:t.data.status,lastDateDone:t.data.lastDateDone,notes:t.data.notes,editMode:u,toggleEditMode:f,updateContent:n})]})]})},sE=()=>et.jsx("div",{className:"loader-block",children:et.jsx("div",{className:"loader"})}),aE=()=>{const e=document.getElementsByTagName("html")[0].clientWidth;return e<400?12:e>401&&e<1e3?13:14};function lE(){const[e,t]=gt.useState([]);return gt.useEffect(()=>{uc(t)},[]),et.jsx(et.Fragment,{children:et.jsx("div",{style:{height:536},children:et.jsxs(J3,{center:[-34.815597,-56.304091],zoom:aE(),scrollWheelZoom:!0,children:[et.jsx(s4,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.length?a4.map(n=>et.jsx(oE,{squareCords:n,squareData:e.find(i=>i.id===`${n.territory}.${n.square}`),updateContent:{getData:uc,setData:t}},`${n.territory}.${n.square}`)):et.jsx(sE,{})]})})})}ny(document.getElementById("root")).render(et.jsx(gt.StrictMode,{children:et.jsx(lE,{})}));
